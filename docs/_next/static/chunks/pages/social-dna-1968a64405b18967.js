(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8472],{7316:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/social-dna",function(){return n(8271)}])},8271:function(s,e,n){"use strict";n.r(e),n.d(e,{__toc:function(){return c}});var i=n(5250),r=n(6855),o=n(7026),l=n(3176);n(3406);var t=n(1458),a=n(7660);let c=[{depth:2,value:"What is Social DNA?",id:"what-is-social-dna"},{depth:3,value:'Why "Social DNA"?',id:"why-social-dna"},{depth:3,value:"Example: A Simple Social Space",id:"example-a-simple-social-space"},{depth:2,value:"How Social DNA Works",id:"how-social-dna-works"},{depth:2,value:"Subject Classes: Defining Things",id:"subject-classes-defining-things"},{depth:3,value:"Understanding Subject Classes",id:"understanding-subject-classes"},{depth:4,value:"Subjective Pattern Recognition",id:"subjective-pattern-recognition"},{depth:4,value:"Subject-Oriented Programming",id:"subject-oriented-programming"},{depth:4,value:"Base Expressions and Graph Patterns",id:"base-expressions-and-graph-patterns"},{depth:3,value:"Using Subject Classes in Code",id:"using-subject-classes-in-code"},{depth:4,value:"Understanding the Lower Level",id:"understanding-the-lower-level"},{depth:2,value:"Flows: Defining Actions",id:"flows-defining-actions"},{depth:3,value:"Using Flows in Code",id:"using-flows-in-code"},{depth:3,value:"Adding Flows to a Perspective",id:"adding-flows-to-a-perspective"},{depth:2,value:"Query Engines: SurrealDB & Prolog",id:"query-engines-surrealdb--prolog"},{depth:3,value:"SurrealDB: High-Performance Queries (Recommended)",id:"surrealdb-high-performance-queries-recommended"},{depth:3,value:"The Prolog Engine (For Advanced Logic & SDNA)",id:"the-prolog-engine-for-advanced-logic--sdna"},{depth:4,value:"Core Predicates",id:"core-predicates"},{depth:4,value:"Built-in Utilities",id:"built-in-utilities"},{depth:2,value:"Using Social DNA in Your Space",id:"using-social-dna-in-your-space"},{depth:2,value:"Best Practices",id:"best-practices"}];function _createMdxContent(s){let e=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",span:"span",ol:"ol",strong:"strong",a:"a",h4:"h4"},(0,t.a)(),s.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{children:"Social DNA: Making Social Interaction Patterns Explicit"}),"\n",(0,i.jsx)(e.h2,{id:"what-is-social-dna",children:"What is Social DNA?"}),"\n",(0,i.jsx)(e.p,{children:"Social DNA represents the core interaction patterns and social contracts within a digital space. Just as biological DNA encodes the rules for how cells interact and function, Social DNA encodes the rules for how agents (users) interact and collaborate in a digital space."}),"\n",(0,i.jsx)(e.p,{children:'Think of it as the "business logic" of social applications, but with a crucial difference: instead of being buried in application code, these patterns are made explicit and separated from both:'}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"The storage layer (Languages) - how data is actually stored and shared"}),"\n",(0,i.jsx)(e.li,{children:"The UI layer - how these interactions are presented to users"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"why-social-dna",children:'Why "Social DNA"?'}),"\n",(0,i.jsx)(e.p,{children:"In traditional applications, social interaction patterns are often:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Implicit in the application code"}),"\n",(0,i.jsx)(e.li,{children:"Tied to specific storage implementations"}),"\n",(0,i.jsx)(e.li,{children:"Mixed with UI concerns"}),"\n",(0,i.jsx)(e.li,{children:"Hard to modify or extend"}),"\n",(0,i.jsx)(e.li,{children:"Not portable between applications"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Social DNA makes these patterns:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Explicit and declarative"}),"\n",(0,i.jsx)(e.li,{children:"Independent of storage details"}),"\n",(0,i.jsx)(e.li,{children:"Separated from UI concerns"}),"\n",(0,i.jsx)(e.li,{children:"Easy to modify and extend"}),"\n",(0,i.jsx)(e.li,{children:"Portable between applications"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"example-a-simple-social-space",children:"Example: A Simple Social Space"}),"\n",(0,i.jsx)(e.p,{children:"Let's look at a common social interaction pattern: posting and liking content. In a traditional app, this might be scattered across:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Database schemas"}),"\n",(0,i.jsx)(e.li,{children:"API endpoints"}),"\n",(0,i.jsx)(e.li,{children:"UI components"}),"\n",(0,i.jsx)(e.li,{children:"Business logic"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"With Social DNA, we can express this as a clear social contract:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Define what a "post" means in this space'})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"postClass"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  properties"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    content"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"string"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    author"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"did"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    timestamp"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"datetime"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  actions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    like"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"any agent can like a post once"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    comment"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"any agent can comment on a post"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    edit"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"only the author can edit their post"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Define what "trending" means in this space'})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"trendingRule"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  condition"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"post has more than 5 likes in last 24 hours"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"mark post as trending"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsx)(e.p,{children:"This is just pseudo-code, but it illustrates how Social DNA makes interaction patterns explicit and declarative."}),"\n",(0,i.jsx)(e.h2,{id:"how-social-dna-works",children:"How Social DNA Works"}),"\n",(0,i.jsx)(e.p,{children:"AD4M implements Social DNA through two main mechanisms:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Subject Classes"}),": Define what things mean in a space"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Graph patterns that represent specific types of data"}),"\n",(0,i.jsx)(e.li,{children:"Properties and relationships between data"}),"\n",(0,i.jsx)(e.li,{children:"Validation rules for data integrity"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Flows"}),": Define what agents can do in a space"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Preconditions for actions"}),"\n",(0,i.jsx)(e.li,{children:"State transitions"}),"\n",(0,i.jsx)(e.li,{children:"Effects of actions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Both are implemented using Prolog, a logical programming language perfect for:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Pattern matching in graphs"}),"\n",(0,i.jsx)(e.li,{children:"Declarative rules"}),"\n",(0,i.jsx)(e.li,{children:"Complex reasoning"}),"\n"]}),"\n",(0,i.jsx)(a.UW,{type:"info",emoji:"ℹ️",children:(0,i.jsxs)(e.p,{children:["Don't worry if you are unfamiliar with ",(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Prolog",children:"Prolog"}),". You will normally either\nuse AI to write it for you, or you will use some of our abstraction layers to\navoid writing Prolog code yourself. (Think of ORMs vs raw SQL, AD4m comes with its own implementation ",(0,i.jsx)(e.a,{href:"/developer-guides/model-classes",children:"Model Classes"}),")."]})}),"\n",(0,i.jsx)(e.h2,{id:"subject-classes-defining-things",children:"Subject Classes: Defining Things"}),"\n",(0,i.jsx)(e.h3,{id:"understanding-subject-classes",children:"Understanding Subject Classes"}),"\n",(0,i.jsx)(e.p,{children:'The term "Subject Class" was deliberately chosen to emphasize the subjective nature of pattern recognition in semantic graphs. Unlike traditional object-oriented programming where classes define objective structures, Subject Classes represent subjective interpretations of graph patterns – different ways of "seeing" meaning in the connections between expressions.'}),"\n",(0,i.jsx)(e.h4,{id:"subjective-pattern-recognition",children:"Subjective Pattern Recognition"}),"\n",(0,i.jsx)(e.p,{children:"Think of a Subject Class as a lens through which an application views and interprets graph patterns:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:'Different apps can have different "opinions" about what constitutes a meaningful pattern'}),"\n",(0,i.jsx)(e.li,{children:"The same base expression can be interpreted through multiple Subject Classes"}),"\n",(0,i.jsx)(e.li,{children:"Each Subject Class defines what properties and relationships are important to its perspective"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"For example, consider a base expression representing some content:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"text","data-theme":"default",children:(0,i.jsx)(e.code,{"data-language":"text","data-theme":"default",children:(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"expression://xyz123"})})})}),"\n",(0,i.jsx)(e.p,{children:"Different applications might interpret this through different Subject Classes:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:'A chat app might see it as a "Message" with replies and reactions'}),"\n",(0,i.jsx)(e.li,{children:'A task app might see it as a "Todo" with state and assignments'}),"\n",(0,i.jsx)(e.li,{children:'A social app might see it as a "Post" with likes and shares'}),"\n",(0,i.jsx)(e.li,{children:'A wiki might see it as a "Document" with citations and revisions'}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Each of these interpretations is equally valid – they're just different subjective lenses on the same underlying graph structure."}),"\n",(0,i.jsx)(e.h4,{id:"subject-oriented-programming",children:"Subject-Oriented Programming"}),"\n",(0,i.jsx)(e.p,{children:"This approach is inspired by subject-oriented programming, where:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Behavior and structure are separated from the base objects"}),"\n",(0,i.jsx)(e.li,{children:"Different subjects can have different views of the same object"}),"\n",(0,i.jsx)(e.li,{children:"Multiple interpretations can coexist without conflict"}),"\n",(0,i.jsx)(e.li,{children:"New interpretations can be added without modifying existing ones"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"In AD4M, this means:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Subject Classes define patterns around base expressions"}),"\n",(0,i.jsx)(e.li,{children:"Multiple Subject Classes can match the same expression"}),"\n",(0,i.jsx)(e.li,{children:"New Subject Classes can be added without changing existing ones"}),"\n",(0,i.jsx)(e.li,{children:"Applications can choose which patterns matter to them"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"base-expressions-and-graph-patterns",children:"Base Expressions and Graph Patterns"}),"\n",(0,i.jsx)(e.p,{children:"Every Subject Class instance is anchored to a base expression, but its properties and relationships are defined by patterns in the surrounding graph:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"text","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"text","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"Base Expression: expression://xyz123"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"                       │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    ┌───────────────┬──┴──┬───────────────┐"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    │               │     │               │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  state          author  title         comments"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    │               │     │               │"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'  "done"        did:123  "Hi"     [expr1, expr2]'})})]})}),"\n",(0,i.jsx)(e.p,{children:"Different Subject Classes might look for different patterns around this same base:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// A Todo class looks for state and assignments"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Looks for todo://state links"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  assignee"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Looks for todo://assigned-to links"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// A Post class looks for social interactions"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Post"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  likes"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[];     "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Looks for social://like links"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  comments"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[];  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Looks for social://comment links"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Both can exist simultaneously on the same base expression"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".getSubjectProxy"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:">(baseExpr"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"post"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".getSubjectProxy"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Post"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:">(baseExpr"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Post"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]})]})}),"\n",(0,i.jsx)(e.p,{children:"Here's a complete example of a Todo class:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"prolog","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"prolog","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Define a Todo class"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"subject_class"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", c)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Constructor - called when creating new instances"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"constructor"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, '[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"addLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://ready"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]')"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Instance check - what makes something a Todo?"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"instance"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, Base) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" triple(Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", _)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Properties"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_getter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", Value) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    triple(Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", Value)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_setter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", '[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"setSingleTarget"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"value"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]')"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Resolvable properties (e.g., literal values)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_resolve"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_resolve_language"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"literal"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_getter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", Value) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    triple(Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://has_title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", Value)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Computed properties"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"isLiked"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"property_getter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"isLiked"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", Value) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    triple(Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"flux://has_reaction"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"flux://thumbsup"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"), "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    Value "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Collections"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"collection"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"comments"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"collection_getter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"comments"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", List) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"findall"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(C, triple(Base, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://comment"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", C), List)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"collection_adder"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(c, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"comments"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", '[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"addLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://comment"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"value"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]')"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]})]})}),"\n",(0,i.jsx)(e.p,{children:"This defines:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"What makes something a Todo"}),"\n",(0,i.jsx)(e.li,{children:"What properties it has"}),"\n",(0,i.jsx)(e.li,{children:"How to get and set those properties"}),"\n",(0,i.jsx)(e.li,{children:"What collections it contains"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"using-subject-classes-in-code",children:"Using Subject Classes in Code"}),"\n",(0,i.jsxs)(e.p,{children:["While the ",(0,i.jsx)(e.a,{href:"/jsdoc/classes/PerspectiveProxy.html",children:"PerspectiveProxy"})," provides low-level methods for working with Subject Classes,\nwe strongly recommend using our high-level ",(0,i.jsx)(e.a,{href:"/jsdoc/classes/Ad4mModel.html",children:"Ad4mModel"})," system\n(described in detail in the ",(0,i.jsx)(e.a,{href:"/developer-guides/model-classes",children:"Model Classes"})," guide).\nThis TypeScript-based approach provides:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Automatic Prolog code generation from decorated classes"}),"\n",(0,i.jsx)(e.li,{children:"Type safety and IDE support"}),"\n",(0,i.jsx)(e.li,{children:"Rich ActiveRecord-style semantics"}),"\n",(0,i.jsx)(e.li,{children:"Clean, declarative syntax"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Here's how to define and use Subject Classes the recommended way:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { Ad4mModel"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ModelOptions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Optional"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" Collection } "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@coasys/ad4m'"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"ModelOptions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ name"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" })"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Ad4mModel"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    through"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    initial"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://ready"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  })"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'""'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Optional"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    through"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://has_title"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    writable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    resolveLanguage"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"literal"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  })"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  title"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"ReadOnly"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    through"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"flux://has_reaction"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    getter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'`triple(Base, "flux://has_reaction", "flux://thumbsup"), Value = true`'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  })"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  isLiked"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"boolean"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Collection"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    through"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://comment"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  })"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  comments"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[] "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" [];"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Static query methods"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"InstanceQuery"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"all"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"PerspectiveProxy"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[]> { "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" [] }"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"InstanceQuery"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({ where"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://done"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" }})"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"allDone"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"PerspectiveProxy"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"[]> { "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" [] }"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Use it with full type safety and ActiveRecord patterns"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".state "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://doing"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".save"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Query with type safety"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".all"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"doneTodos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".allDone"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective);"})]})]})}),"\n",(0,i.jsx)(e.p,{children:"This approach automatically generates the Prolog code we saw earlier and provides a much richer development experience."}),"\n",(0,i.jsx)(e.h4,{id:"understanding-the-lower-level",children:"Understanding the Lower Level"}),"\n",(0,i.jsx)(e.p,{children:"For a complete understanding, here are the basic PerspectiveProxy methods that power the above abstractions:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Add the subject class definition to a perspective"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addSdna"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" classDefinition"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"subject_class"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// List all available subject classes"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"classes"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".subjectClasses"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Returns: ["Todo"]'})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Create a new subject instance"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".createSubject"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Check if an expression is an instance of a class"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"isTodo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".isSubjectInstance"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get subject data"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todoData"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".getSubjectData"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Remove a subject (runs destructor if defined)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".removeSubject"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get all instances of a class"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"allTodos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".getAllSubjectInstances"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get a proxy object"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".getSubjectProxy"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]})]})}),"\n",(0,i.jsxs)(e.p,{children:["While these methods are available, we recommend using the ",(0,i.jsx)(e.code,{children:"Ad4mModel"})," system for most use cases. It provides a more maintainable and type-safe way to work with Subject Classes while handling all the low-level details automatically."]}),"\n",(0,i.jsx)(e.h2,{id:"flows-defining-actions",children:"Flows: Defining Actions"}),"\n",(0,i.jsx)(e.p,{children:"Flows define what agents can do in a space and under what conditions. Here's a complete example of a Todo flow that manages state transitions:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"prolog","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"prolog","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Register this flow with a name and reference (t)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"register_sdna_flow"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", t)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Define what expressions can enter this flow (all in this case)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"flowable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(_, t)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Define the possible states (using numbers)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"flow_state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", t) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" triple(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://ready"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"flow_state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", t) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" triple(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://doing"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"flow_state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", t) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":-"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" triple(ExprAddr, "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://done"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Initial action when starting the flow"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"start_action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"('[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"addLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://ready"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]', t)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Define state transitions with actions"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Start"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", '[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"addLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://doing"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}, {"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"removeLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://ready"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]')"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Finish"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", '[{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"addLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://done"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}, {"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    action: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"removeLink"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    source: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"this"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    predicate: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://state"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:", "})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    target: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"todo://doing"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}]')"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]})]})}),"\n",(0,i.jsx)(e.p,{children:"This flow defines:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:'A named flow ("TODO") with states (0 = ready, 0.5 = doing, 1 = done)'}),"\n",(0,i.jsx)(e.li,{children:"What expressions can enter the flow (any expression)"}),"\n",(0,i.jsx)(e.li,{children:"How states are determined (by checking todo://state links)"}),"\n",(0,i.jsx)(e.li,{children:"Initial action when starting the flow"}),"\n",(0,i.jsx)(e.li,{children:"Available actions for each state with their transitions"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"using-flows-in-code",children:"Using Flows in Code"}),"\n",(0,i.jsx)(e.p,{children:"You can work with flows using these methods:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get all flows defined in a perspective"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"flows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".sdnaFlows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Returns: ["TODO"]'})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Check what flows are available for an expression"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"availableFlows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".availableFlows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Returns flows that can be started on this expression"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Start a flow on an expression"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".startFlow"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// This runs the start_action, putting the expression in initial state"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get expressions in a specific flow state"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"readyTodos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".expressionsInFlowState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Returns expressions in the "ready" state'})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get current state of an expression in a flow"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".flowState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Returns: 0, 0.5, or 1"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Get available actions for current state"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"actions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".flowActions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Returns: ["Start"] if in ready state'})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Execute an action"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".runFlowAction"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"TODO"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"expression://123"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Start"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Transitions from ready (0) to doing (0.5)"})})]})}),"\n",(0,i.jsx)(e.h3,{id:"adding-flows-to-a-perspective",children:"Adding Flows to a Perspective"}),"\n",(0,i.jsx)(e.p,{children:"To add a flow to your perspective:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Add the flow definition"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addSdna"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Todo"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" flowDefinition"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"flow"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Check if it was added"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"flows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".sdnaFlows"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(flows); "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Should include "TODO"'})]})]})}),"\n",(0,i.jsx)(e.h2,{id:"query-engines-surrealdb--prolog",children:"Query Engines: SurrealDB & Prolog"}),"\n",(0,i.jsx)(e.p,{children:"AD4M provides two query engines for working with Social DNA and perspective data:"}),"\n",(0,i.jsx)(e.h3,{id:"surrealdb-high-performance-queries-recommended",children:"SurrealDB: High-Performance Queries (Recommended)"}),"\n",(0,i.jsxs)(e.p,{children:["For most query needs, ",(0,i.jsx)(e.strong,{children:"SurrealDB provides 10-100x faster performance"})," than Prolog. It's especially powerful for:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Fast filtering and searching"}),"\n",(0,i.jsxs)(e.li,{children:["Graph traversal queries using indexed ",(0,i.jsx)(e.code,{children:"in.uri"})," and ",(0,i.jsx)(e.code,{children:"out.uri"})," fields"]}),"\n",(0,i.jsx)(e.li,{children:"Aggregations and analytics"}),"\n",(0,i.jsx)(e.li,{children:"Large dataset handling"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{"data-language":"typescript","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"typescript","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:'// Fast query - find all todos in "done" state'})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"doneTodos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".querySurrealDB"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"SELECT * FROM link WHERE predicate = 'todo://state' AND target = 'todo://done'\""})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Graph traversal - find all posts by Alice"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"alicePosts"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".querySurrealDB"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'authored'\""})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Graph traversal - find comments on a specific post"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"comments"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".querySurrealDB"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"SELECT source, target FROM link WHERE in.uri = 'post://123' AND predicate = 'has_comment'\""})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Aggregation - count by type"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stats"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".querySurrealDB"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"SELECT predicate, count() as total FROM link GROUP BY predicate"'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})})]})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Performance Tip"}),": Use ",(0,i.jsx)(e.code,{children:"in.uri"})," (source) and ",(0,i.jsx)(e.code,{children:"out.uri"})," (target) for graph traversal - they're indexed. Avoid subqueries as they're slow."]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Note"}),": ",(0,i.jsx)(e.code,{children:"Ad4mModel"})," uses SurrealDB by default for ",(0,i.jsx)(e.code,{children:"findAll()"})," and query builder operations. See the ",(0,i.jsx)(e.a,{href:"/developer-guides/surreal-queries",children:"SurrealDB Queries Guide"})," for comprehensive examples."]}),"\n",(0,i.jsx)(e.h3,{id:"the-prolog-engine-for-advanced-logic--sdna",children:"The Prolog Engine (For Advanced Logic & SDNA)"}),"\n",(0,i.jsx)(e.p,{children:"For custom Social DNA rules, complex logic programming, and backward compatibility, AD4M includes a Prolog engine:"}),"\n",(0,i.jsx)(e.h4,{id:"core-predicates",children:"Core Predicates"}),"\n",(0,i.jsx)(e.pre,{"data-language":"prolog","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"prolog","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Basic graph predicates"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"triple"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Subject, Predicate, Object)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      // Access raw triples"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"link"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Subject, Predicate, Object, Timestamp, Author)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  // Access links with metadata"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Graph traversal"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"reachable"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(A, B)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  // True if B can be reached from A through any predicates"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Expression metadata"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"languageAddress"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Expression, Address)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  // Get language address for expression"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"languageName"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Expression, Name)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        // Get language name for expression"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"expressionAddress"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Expression, Address)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" // Get expression address"})]})]})}),"\n",(0,i.jsx)(e.h4,{id:"built-in-utilities",children:"Built-in Utilities"}),"\n",(0,i.jsx)(e.pre,{"data-language":"prolog","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"prolog","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// Pagination and sorting"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"paginate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Data, PageNumber, PageSize, PageData)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"sort_instances"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Instances, SortKey, Direction, Sorted)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"// String and data handling"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"remove_html_tags"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Input, Output)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"string_includes"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(String, Substring)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"literal_from_url"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(Url, Decoded, Scheme)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"json_property"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(JsonString, Property, Value)"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"."})]})]})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"When to use which?"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Use SurrealDB"})," for: Fast queries, graph traversal, analytics (most use cases)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Use Prolog"})," for: Custom SDNA rules, complex logic, backward compatibility"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"using-social-dna-in-your-space",children:"Using Social DNA in Your Space"}),"\n",(0,i.jsx)(e.p,{children:"To add Social DNA to a Perspective:"}),"\n",(0,i.jsx)(e.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Add a subject class definition"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addSDNA"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(classDefinition"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"subject_class"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Add a flow definition"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addSDNA"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(flowDefinition"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"flow"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Add custom rules"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addSDNA"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(customRules"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"custom"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]})]})}),"\n",(0,i.jsx)(e.p,{children:"Then query it using SurrealDB (fast) or Prolog (advanced logic):"}),"\n",(0,i.jsx)(e.pre,{"data-language":"js","data-theme":"default",children:(0,i.jsxs)(e.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Option 1: Use Ad4mModel with SurrealDB (recommended, 10-100x faster)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"activeTodos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Todo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".findAll"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  where"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"active"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Option 2: Direct SurrealQL query"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".querySurrealDB"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"\"SELECT * FROM link WHERE predicate = 'todo://state' AND target = 'active'\""})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Option 3: Prolog (for custom SDNA rules)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"todos"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".infer"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'\'instance(Todo, "Todo"), property_getter("Todo", Todo, "state", "active")\''})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:" "}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// Check if an action is allowed (Prolog for complex logic)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"canVote"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"perspective"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".infer"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'`can_vote("'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"agentDid"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'", "'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"proposalId"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'")`'})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})})]})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Start with Patterns"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Identify common interaction patterns"}),"\n",(0,i.jsx)(e.li,{children:"Make implicit rules explicit"}),"\n",(0,i.jsx)(e.li,{children:"Think about preconditions and effects"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Use Subject Classes for"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Data validation"}),"\n",(0,i.jsx)(e.li,{children:"Computed properties"}),"\n",(0,i.jsx)(e.li,{children:"Relationship definitions"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Use Flows for"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Action permissions"}),"\n",(0,i.jsx)(e.li,{children:"State transitions"}),"\n",(0,i.jsx)(e.li,{children:"Complex processes"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Keep it Simple"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Start with basic patterns"}),"\n",(0,i.jsx)(e.li,{children:"Add complexity gradually"}),"\n",(0,i.jsx)(e.li,{children:"Use the high-level Model Classes when possible"}),"\n"]}),"\n"]}),"\n"]})]})}let h={MDXContent:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,t.a)(),s.components);return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(_createMdxContent,{...s})}):_createMdxContent(s)},pageOpts:{filePath:"pages/social-dna.mdx",route:"/social-dna",timestamp:1770853436e3,pageMap:[{kind:"Meta",data:{"--start":{type:"separator",title:"Getting Started"},index:"Introduction",installation:"Installation","--essentials":{type:"separator",title:"Core Concepts"},auth:"Authentication",agents:"Agents",languages:"Languages",expressions:"Expressions",perspectives:"Perspectives",neighbourhoods:"Neighbourhoods","social-dna":"Social DNA","--dev":{type:"separator",title:"Developing with AD4M"},tutorial:{type:"separator",title:"Tutorial"},"developer-guides":"Developer Guides",jsdoc:"API Reference",download:{title:"AD4M Website",type:"page",href:"https://coasys.org/adam",newWindow:!0},community:{title:"Community",type:"page",href:"https://discord.com/invite/fYGVM66jEz",newWindow:!0}}},{kind:"MdxPage",name:"agents",route:"/agents"},{kind:"MdxPage",name:"auth",route:"/auth"},{kind:"Folder",name:"developer-guides",route:"/developer-guides",children:[{kind:"Meta",data:{"model-classes":"Defining and using Model Classes","surreal-queries":"SurrealDB Queries (Fast Graph Queries)",hooks:"Hooking up models to the UI","batch-operations":"Using Batch Operations",ai:"Local AI inference with AD4M",cli:"Using the AD4M CLI"}},{kind:"MdxPage",name:"ai",route:"/developer-guides/ai"},{kind:"MdxPage",name:"batch-operations",route:"/developer-guides/batch-operations"},{kind:"MdxPage",name:"cli",route:"/developer-guides/cli"},{kind:"MdxPage",name:"hooks",route:"/developer-guides/hooks"},{kind:"MdxPage",name:"model-classes",route:"/developer-guides/model-classes"},{kind:"MdxPage",name:"surreal-queries",route:"/developer-guides/surreal-queries"}]},{kind:"MdxPage",name:"expressions",route:"/expressions"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"installation",route:"/installation"},{kind:"Folder",name:"jsdoc",route:"/jsdoc",children:[{kind:"MdxPage",name:"README",route:"/jsdoc/README"},{kind:"Folder",name:"classes",route:"/jsdoc/classes",children:[{kind:"MdxPage",name:"AIClient",route:"/jsdoc/classes/AIClient"},{kind:"MdxPage",name:"AIModelLoadingStatus",route:"/jsdoc/classes/AIModelLoadingStatus"},{kind:"MdxPage",name:"AIPromptExamples",route:"/jsdoc/classes/AIPromptExamples"},{kind:"MdxPage",name:"AIPromptExamplesInput",route:"/jsdoc/classes/AIPromptExamplesInput"},{kind:"MdxPage",name:"AITask",route:"/jsdoc/classes/AITask"},{kind:"MdxPage",name:"AITaskInput",route:"/jsdoc/classes/AITaskInput"},{kind:"MdxPage",name:"Ad4mClient",route:"/jsdoc/classes/Ad4mClient"},{kind:"MdxPage",name:"Ad4mModel",route:"/jsdoc/classes/Ad4mModel"},{kind:"MdxPage",name:"Agent",route:"/jsdoc/classes/Agent"},{kind:"MdxPage",name:"AgentClient",route:"/jsdoc/classes/AgentClient"},{kind:"MdxPage",name:"AgentExpression",route:"/jsdoc/classes/AgentExpression"},{kind:"MdxPage",name:"AgentSignature",route:"/jsdoc/classes/AgentSignature"},{kind:"MdxPage",name:"AgentStatus",route:"/jsdoc/classes/AgentStatus"},{kind:"MdxPage",name:"Apps",route:"/jsdoc/classes/Apps"},{kind:"MdxPage",name:"AuthInfo",route:"/jsdoc/classes/AuthInfo"},{kind:"MdxPage",name:"AuthInfoInput",route:"/jsdoc/classes/AuthInfoInput"},{kind:"MdxPage",name:"Capability",route:"/jsdoc/classes/Capability"},{kind:"MdxPage",name:"CapabilityInput",route:"/jsdoc/classes/CapabilityInput"},{kind:"MdxPage",name:"Dna",route:"/jsdoc/classes/Dna"},{kind:"MdxPage",name:"EntanglementProof",route:"/jsdoc/classes/EntanglementProof"},{kind:"MdxPage",name:"EntanglementProofInput",route:"/jsdoc/classes/EntanglementProofInput"},{kind:"MdxPage",name:"ExceptionInfo",route:"/jsdoc/classes/ExceptionInfo"},{kind:"MdxPage",name:"Expression",route:"/jsdoc/classes/Expression"},{kind:"MdxPage",name:"ExpressionProof",route:"/jsdoc/classes/ExpressionProof"},{kind:"MdxPage",name:"ExpressionProofInput",route:"/jsdoc/classes/ExpressionProofInput"},{kind:"MdxPage",name:"ExpressionRef",route:"/jsdoc/classes/ExpressionRef"},{kind:"MdxPage",name:"ExpressionRendered",route:"/jsdoc/classes/ExpressionRendered"},{kind:"MdxPage",name:"Icon",route:"/jsdoc/classes/Icon"},{kind:"MdxPage",name:"ImportResult",route:"/jsdoc/classes/ImportResult"},{kind:"MdxPage",name:"ImportStats",route:"/jsdoc/classes/ImportStats"},{kind:"MdxPage",name:"InteractionCall",route:"/jsdoc/classes/InteractionCall"},{kind:"MdxPage",name:"InteractionMeta",route:"/jsdoc/classes/InteractionMeta"},{kind:"MdxPage",name:"InteractionParameter",route:"/jsdoc/classes/InteractionParameter"},{kind:"MdxPage",name:"LanguageExpression",route:"/jsdoc/classes/LanguageExpression"},{kind:"MdxPage",name:"LanguageHandle",route:"/jsdoc/classes/LanguageHandle"},{kind:"MdxPage",name:"LanguageLanguageInput",route:"/jsdoc/classes/LanguageLanguageInput"},{kind:"MdxPage",name:"LanguageMeta",route:"/jsdoc/classes/LanguageMeta"},{kind:"MdxPage",name:"LanguageMetaInput",route:"/jsdoc/classes/LanguageMetaInput"},{kind:"MdxPage",name:"LanguageMetaInternal",route:"/jsdoc/classes/LanguageMetaInternal"},{kind:"MdxPage",name:"LanguageRef",route:"/jsdoc/classes/LanguageRef"},{kind:"MdxPage",name:"Link",route:"/jsdoc/classes/Link"},{kind:"MdxPage",name:"LinkExpression",route:"/jsdoc/classes/LinkExpression"},{kind:"MdxPage",name:"LinkExpressionInput",route:"/jsdoc/classes/LinkExpressionInput"},{kind:"MdxPage",name:"LinkExpressionMutations",route:"/jsdoc/classes/LinkExpressionMutations"},{kind:"MdxPage",name:"LinkExpressionUpdated",route:"/jsdoc/classes/LinkExpressionUpdated"},{kind:"MdxPage",name:"LinkInput",route:"/jsdoc/classes/LinkInput"},{kind:"MdxPage",name:"LinkMutations",route:"/jsdoc/classes/LinkMutations"},{kind:"MdxPage",name:"LinkQuery",route:"/jsdoc/classes/LinkQuery"},{kind:"MdxPage",name:"Literal",route:"/jsdoc/classes/Literal"},{kind:"MdxPage",name:"ModelQueryBuilder",route:"/jsdoc/classes/ModelQueryBuilder"},{kind:"MdxPage",name:"Neighbourhood",route:"/jsdoc/classes/Neighbourhood"},{kind:"MdxPage",name:"NeighbourhoodExpression",route:"/jsdoc/classes/NeighbourhoodExpression"},{kind:"MdxPage",name:"NeighbourhoodProxy",route:"/jsdoc/classes/NeighbourhoodProxy"},{kind:"MdxPage",name:"Notification",route:"/jsdoc/classes/Notification"},{kind:"MdxPage",name:"NotificationInput",route:"/jsdoc/classes/NotificationInput"},{kind:"MdxPage",name:"OnlineAgent",route:"/jsdoc/classes/OnlineAgent"},{kind:"MdxPage",name:"Perspective",route:"/jsdoc/classes/Perspective"},{kind:"MdxPage",name:"PerspectiveAction",route:"/jsdoc/classes/PerspectiveAction"},{kind:"MdxPage",name:"PerspectiveDiff",route:"/jsdoc/classes/PerspectiveDiff"},{kind:"MdxPage",name:"PerspectiveDiffExpression",route:"/jsdoc/classes/PerspectiveDiffExpression"},{kind:"MdxPage",name:"PerspectiveExpression",route:"/jsdoc/classes/PerspectiveExpression"},{kind:"MdxPage",name:"PerspectiveHandle",route:"/jsdoc/classes/PerspectiveHandle"},{kind:"MdxPage",name:"PerspectiveInput",route:"/jsdoc/classes/PerspectiveInput"},{kind:"MdxPage",name:"PerspectiveProxy",route:"/jsdoc/classes/PerspectiveProxy"},{kind:"MdxPage",name:"PerspectiveUnsignedInput",route:"/jsdoc/classes/PerspectiveUnsignedInput"},{kind:"MdxPage",name:"QuerySubscriptionProxy",route:"/jsdoc/classes/QuerySubscriptionProxy"},{kind:"MdxPage",name:"Resource",route:"/jsdoc/classes/Resource"},{kind:"MdxPage",name:"ResourceInput",route:"/jsdoc/classes/ResourceInput"},{kind:"MdxPage",name:"RuntimeInfo",route:"/jsdoc/classes/RuntimeInfo"},{kind:"MdxPage",name:"SentMessage",route:"/jsdoc/classes/SentMessage"},{kind:"MdxPage",name:"SmartLiteral",route:"/jsdoc/classes/SmartLiteral"},{kind:"MdxPage",name:"Subject",route:"/jsdoc/classes/Subject"},{kind:"MdxPage",name:"TriggeredNotification",route:"/jsdoc/classes/TriggeredNotification"},{kind:"Meta",data:{Ad4mClient:"Ad4mclient",Ad4mModel:"Ad4mmodel",Agent:"Agent",AgentClient:"Agentclient",AgentExpression:"Agentexpression",AgentSignature:"Agentsignature",AgentStatus:"Agentstatus",AIClient:"Aiclient",AIModelLoadingStatus:"Aimodelloadingstatus",AIPromptExamples:"Aipromptexamples",AIPromptExamplesInput:"Aipromptexamplesinput",AITask:"Aitask",AITaskInput:"Aitaskinput",Apps:"Apps",AuthInfo:"Authinfo",AuthInfoInput:"Authinfoinput",Capability:"Capability",CapabilityInput:"Capabilityinput",Dna:"Dna",EntanglementProof:"Entanglementproof",EntanglementProofInput:"Entanglementproofinput",ExceptionInfo:"Exceptioninfo",Expression:"Expression",ExpressionProof:"Expressionproof",ExpressionProofInput:"Expressionproofinput",ExpressionRef:"Expressionref",ExpressionRendered:"Expressionrendered",Icon:"Icon",ImportResult:"Importresult",ImportStats:"Importstats",InteractionCall:"Interactioncall",InteractionMeta:"Interactionmeta",InteractionParameter:"Interactionparameter",LanguageExpression:"Languageexpression",LanguageHandle:"Languagehandle",LanguageLanguageInput:"Languagelanguageinput",LanguageMeta:"Languagemeta",LanguageMetaInput:"Languagemetainput",LanguageMetaInternal:"Languagemetainternal",LanguageRef:"Languageref",Link:"Link",LinkExpression:"Linkexpression",LinkExpressionInput:"Linkexpressioninput",LinkExpressionMutations:"Linkexpressionmutations",LinkExpressionUpdated:"Linkexpressionupdated",LinkInput:"Linkinput",LinkMutations:"Linkmutations",LinkQuery:"Linkquery",Literal:"Literal",ModelQueryBuilder:"Modelquerybuilder",Neighbourhood:"Neighbourhood",NeighbourhoodExpression:"Neighbourhoodexpression",NeighbourhoodProxy:"Neighbourhoodproxy",Notification:"Notification",NotificationInput:"Notificationinput",OnlineAgent:"Onlineagent",Perspective:"Perspective",PerspectiveAction:"Perspectiveaction",PerspectiveDiff:"Perspectivediff",PerspectiveDiffExpression:"Perspectivediffexpression",PerspectiveExpression:"Perspectiveexpression",PerspectiveHandle:"Perspectivehandle",PerspectiveInput:"Perspectiveinput",PerspectiveProxy:"Perspectiveproxy",PerspectiveUnsignedInput:"Perspectiveunsignedinput",QuerySubscriptionProxy:"Querysubscriptionproxy",Resource:"Resource",ResourceInput:"Resourceinput",RuntimeInfo:"Runtimeinfo",SentMessage:"Sentmessage",SmartLiteral:"Smartliteral",Subject:"Subject",TriggeredNotification:"Triggerednotification"}}]},{kind:"Folder",name:"enums",route:"/jsdoc/enums",children:[{kind:"MdxPage",name:"ExceptionType",route:"/jsdoc/enums/ExceptionType"},{kind:"MdxPage",name:"PerspectiveState",route:"/jsdoc/enums/PerspectiveState"},{kind:"Meta",data:{ExceptionType:"Exceptiontype",PerspectiveState:"Perspectivestate"}}]},{kind:"Folder",name:"interfaces",route:"/jsdoc/interfaces",children:[{kind:"MdxPage",name:"AgentService",route:"/jsdoc/interfaces/AgentService"},{kind:"MdxPage",name:"CollectionMetadata",route:"/jsdoc/interfaces/CollectionMetadata"},{kind:"MdxPage",name:"CollectionOptions",route:"/jsdoc/interfaces/CollectionOptions"},{kind:"MdxPage",name:"DirectMessageAdapter",route:"/jsdoc/interfaces/DirectMessageAdapter"},{kind:"MdxPage",name:"ExpressionAdapter",route:"/jsdoc/interfaces/ExpressionAdapter"},{kind:"MdxPage",name:"ExpressionUI",route:"/jsdoc/interfaces/ExpressionUI"},{kind:"MdxPage",name:"FlagOptions",route:"/jsdoc/interfaces/FlagOptions"},{kind:"MdxPage",name:"GetAllAdapter",route:"/jsdoc/interfaces/GetAllAdapter"},{kind:"MdxPage",name:"GetByAuthorAdapter",route:"/jsdoc/interfaces/GetByAuthorAdapter"},{kind:"MdxPage",name:"HolochainLanguageDelegate",route:"/jsdoc/interfaces/HolochainLanguageDelegate"},{kind:"MdxPage",name:"InitializeArgs",route:"/jsdoc/interfaces/InitializeArgs"},{kind:"MdxPage",name:"InstanceQueryParams",route:"/jsdoc/interfaces/InstanceQueryParams"},{kind:"MdxPage",name:"Interaction",route:"/jsdoc/interfaces/Interaction"},{kind:"MdxPage",name:"Language",route:"/jsdoc/interfaces/Language"},{kind:"MdxPage",name:"LanguageAdapter",route:"/jsdoc/interfaces/LanguageAdapter"},{kind:"MdxPage",name:"LanguageContext",route:"/jsdoc/interfaces/LanguageContext"},{kind:"MdxPage",name:"LinkSyncAdapter",route:"/jsdoc/interfaces/LinkSyncAdapter"},{kind:"MdxPage",name:"ModelMetadata",route:"/jsdoc/interfaces/ModelMetadata"},{kind:"MdxPage",name:"ModelOptionsOptions",route:"/jsdoc/interfaces/ModelOptionsOptions"},{kind:"MdxPage",name:"PropertyMetadata",route:"/jsdoc/interfaces/PropertyMetadata"},{kind:"MdxPage",name:"PropertyOptions",route:"/jsdoc/interfaces/PropertyOptions"},{kind:"MdxPage",name:"PublicSharing",route:"/jsdoc/interfaces/PublicSharing"},{kind:"MdxPage",name:"ReadOnlyLanguage",route:"/jsdoc/interfaces/ReadOnlyLanguage"},{kind:"MdxPage",name:"SettingsUI",route:"/jsdoc/interfaces/SettingsUI"},{kind:"MdxPage",name:"SignaturesService",route:"/jsdoc/interfaces/SignaturesService"},{kind:"MdxPage",name:"TelepresenceAdapter",route:"/jsdoc/interfaces/TelepresenceAdapter"},{kind:"Meta",data:{AgentService:"Agentservice",CollectionMetadata:"Collectionmetadata",CollectionOptions:"Collectionoptions",DirectMessageAdapter:"Directmessageadapter",ExpressionAdapter:"Expressionadapter",ExpressionUI:"Expressionui",FlagOptions:"Flagoptions",GetAllAdapter:"Getalladapter",GetByAuthorAdapter:"Getbyauthoradapter",HolochainLanguageDelegate:"Holochainlanguagedelegate",InitializeArgs:"Initializeargs",InstanceQueryParams:"Instancequeryparams",Interaction:"Interaction",Language:"Language",LanguageAdapter:"Languageadapter",LanguageContext:"Languagecontext",LinkSyncAdapter:"Linksyncadapter",ModelMetadata:"Modelmetadata",ModelOptionsOptions:"Modeloptionsoptions",PropertyMetadata:"Propertymetadata",PropertyOptions:"Propertyoptions",PublicSharing:"Publicsharing",ReadOnlyLanguage:"Readonlylanguage",SettingsUI:"Settingsui",SignaturesService:"Signaturesservice",TelepresenceAdapter:"Telepresenceadapter"}}]},{kind:"MdxPage",name:"modules",route:"/jsdoc/modules"},{kind:"Meta",data:{modules:"Modules",README:"Readme"}}]},{kind:"MdxPage",name:"languages",route:"/languages"},{kind:"MdxPage",name:"neighbourhoods",route:"/neighbourhoods"},{kind:"MdxPage",name:"perspectives",route:"/perspectives"},{kind:"MdxPage",name:"social-dna",route:"/social-dna"},{kind:"Folder",name:"tutorial",route:"/tutorial",children:[{kind:"MdxPage",name:"1-perspective",route:"/tutorial/1-perspective"},{kind:"MdxPage",name:"2-neighbourhood-publish",route:"/tutorial/2-neighbourhood-publish"},{kind:"MdxPage",name:"3-neighbourhood-join",route:"/tutorial/3-neighbourhood-join"},{kind:"MdxPage",name:"4-change-listener",route:"/tutorial/4-change-listener"},{kind:"Meta",data:{"1-perspective":"Dealing with Perspectives","2-neighbourhood-publish":"Publishing a Neighbourhood","3-neighbourhood-join":"Joining a Neighbourhood","4-change-listener":"Listening to Perspective changes"}}]}],flexsearch:{codeblocks:!0},title:"Social DNA: Making Social Interaction Patterns Explicit",headings:c},pageNextRoute:"/social-dna",nextraLayout:o.ZP,themeConfig:l.Z};e.default=(0,r.j)(h)},3176:function(s,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(5250),r=n(7026),o={project:{link:"https://github.com/perspect3vism/ad4m"},logo:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:"/images/logo.svg",style:{marginRight:"10px"}}),"AD4M Docs ","0.11.1"]}),darkMode:!0,docsRepositoryBase:"https://github.com/perspect3vism/ad4m/blob/dev/docs/",footer:{text:"AD4M - The first social network"},search:{loading:"Loading..."},head:function(){let s=(0,r.ZR)(),e=s.frontMatter.description||"Documentation site for AD4M",n=s.frontMatter.image||"https://docs.ad4m.dev/images/ad4m-og-card.jpg";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{httpEquiv:"Content-Language",content:"en"}),(0,i.jsx)("meta",{name:"description",content:e}),(0,i.jsx)("meta",{name:"og:description",content:e}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@_a_d_4_m"}),(0,i.jsx)("meta",{name:"twitter:image",content:n}),(0,i.jsx)("meta",{name:"og:title",content:"".concat(s.title," – AD4m Docs")}),(0,i.jsx)("meta",{name:"og:image",content:n}),(0,i.jsx)("meta",{name:"apple-mobile-web-app-title",content:"AD4m Docs"}),(0,i.jsx)("link",{href:"/favicon-dark.ico",rel:"icon",type:"image/x-icon",media:"(prefers-color-scheme: light)"}),(0,i.jsx)("link",{href:"/favicon-light.ico",rel:"icon",type:"image/x-icon",media:"(prefers-color-scheme: dark)"})]})},useNextSeoProps:()=>({titleTemplate:"%s | AD4M Docs"})}},8625:function(){}},function(s){s.O(0,[9774,8725,2888,179],function(){return s(s.s=7316)}),_N_E=s.O()}]);