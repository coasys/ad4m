{"/auth":{"title":"Authentication & Capabilities","data":{"overview#Overview":"AD4M uses a capability-based security model to protect user data and control access to agent functionality. Every application that wants to interact with an AD4M executor needs to request specific capabilities, which are then granted (or denied) by the user.","what-are-capabilities#What are Capabilities?":"Capabilities in AD4M are like permission tokens that:\nDefine what data an application can access (which perspectives)\nSpecify what operations an application can perform\nAre scoped to specific domains and functions\nCan be revoked by the user at any time\nA capability token might grant permissions like:\nRead access to specific perspectives\nWrite access to create or modify links\nAbility to create new perspectives\nPermission to manage agent relationships\nAccess to specific language functions","authentication-flow#Authentication Flow":"","standard-flow#Standard Flow":"When an application wants to connect to an AD4M executor, it goes through a secure authentication handshake:\nThe application requests access with specific capabilities\nThe AD4M executor generates a random verification code\nThe user must confirm the request and enter the code\nUpon successful verification, a capability token is issued\nThis flow ensures that:\nThe user explicitly approves application access\nThe application only gets the permissions it needs\nThe connection between UI and executor is secure","using-ad4m-connect#Using ad4m-connect":"The easiest way to implement this flow is using our ad4m-connect library:\nimport Ad4mConnect from \"@coasys/ad4m-connect\";\nconst ui = Ad4mConnect({\n  appName: \"My First ADAM App\",\n  appDesc: \"This is my first app here.\",\n  appDomain: \"ad4m.dev\",\n  appIconPath: \"https://i.ibb.co/GnqjPJP/icon.png\",\n  capabilities: [{ \n    with: { domain: \"*\", pointers: [\"*\"] }, \n    can: [\"*\"] \n  }],\n});\n// .connect() will show the authentication pop up\nui.connect().then((client) => {\n  // Client is now authenticated with requested capabilities\n});\nIf ad4m-connect could not find a running AD4M-executor, it will show a screen prompting the user to either download and run\nthe AD4M Launcher to provide other connection settings:When ad4m-connect was able to find a running AD4M-executor, it will begin the authentication flow:\nClicking on \"Authorize\" will trigger the request against the AD4M-executor and Launcher will open a pop-up prompting the user\nwith the nature of this request:\nThe application requesting access\nThe capabilities being requested\nIf the user approves the request, the Launcher will show a six-digit random secret code that needs to be entered into the app UI.\nThat way we have safely established that the network agent initiating the capability request (as seen from\nthe AD4M-executor) really is the UI the users wants to use.\n(It could run on an external device, like the user's phone connecting through a proxy server).","capability-specification#Capability Specification":"When requesting capabilities, you need to specify:\n{\n  with: {\n    domain: string | \"*\",     // Which perspective/domain\n    pointers: string[] | \"*\"  // Which parts of the domain\n  },\n  can: string[] | \"*\"         // Which operations are allowed\n}\nExamples:\n// Request access to everything (development only)\n{ with: { domain: \"*\", pointers: [\"*\"] }, can: [\"*\"] }\n// Request read-only access to a specific perspective\n{ with: { domain: \"perspective-uuid\", pointers: [\"*\"] }, can: [\"read\"] }\n// Request specific operations on a domain\n{ with: { domain: \"friends\", pointers: [\"*\"] }, can: [\"read\", \"add\", \"remove\"] }","admin-credential-override#Admin Credential Override":"For automated scenarios or system integration, the authentication handshake can be bypassed using an admin credential:\n// In your application\nconst client = new Ad4mClient({\n  adminCredential: \"your-secret-here\"\n});\nThis is particularly useful for:\nCI/CD pipelines\nTesting environments\nSystem services\nManagement interfaces (the AD4M Launcher uses this internally)\nTo enable this on the executor:\nad4m-executor run --admin-credential your-secret-here\n⚠️ Security Note: The admin credential grants full access to the executor. Use it carefully and never expose it in client-side code or public repositories.","best-practices#Best Practices":"Request Minimal Capabilities\nOnly request permissions your app actually needs\nUse specific domains and operations instead of wildcards\nConsider read-only access when possible\nHandle Authentication States\nCheck if capabilities are still valid\nImplement reconnection logic\nHandle capability revocation gracefully\nSecure Storage\nStore capability tokens securely\nNever expose admin credentials\nImplement token refresh mechanisms\nUser Experience\nClearly explain why your app needs certain capabilities\nProvide feedback during the authentication process\nHandle errors gracefully","more-information#More Information":"For more details about implementing authentication in your application:\nCheck the ad4m-connect documentation\nSee the Ad4mClient API reference"}},"/developer-guides/ai":{"title":"AI in AD4M","data":{"":"AD4M provides powerful AI capabilities through both local and remote model inference. This allows you to integrate various AI models into your applications, from language models to embedding models and speech recognition.","overview#Overview":"The AI system in AD4M supports:\nLarge Language Models (LLM) for text generation and chat\nEmbedding Models for vector representations of text\nSpeech-to-Text Models for audio transcription\nBoth local and remote (API-based) model execution\nModel management and configuration\nTask-based inference with system prompts and examples","model-configuration#Model Configuration":"Before using AI features, models need to be configured in the AD4M Launcher. Models can be either local (running on your device) or remote (using external APIs).","local-models#Local Models":"Local models run directly on your device using CPU or GPU acceleration (if available). There are three ways to configure local models:","1-pre-configured-models#1. Pre-configured Models":"AD4M comes with several pre-configured models that can be used by simply specifying their name:\nconst preConfiguredModel = {\n  name: \"DeepHermes 3 (Q4)\",\n  local: {\n    fileName: \"deephermes-3-llama-3-8b-Q4\"  // Just specify the model name\n  },\n  modelType: \"LLM\"\n};\nAvailable pre-configured models:Language Models (LLM):\nQwen2.5.1-Coder-7B-Instruct - Optimized for coding tasks\ndeephermes-3-llama-3-8b-Q4 - Fast, efficient 8B parameter model (Q4 quantization)\ndeephermes-3-llama-3-8b-Q6 - Better quality, slightly larger (Q6 quantization)\ndeephermes-3-llama-3-8b-Q8 - Best quality, largest size (Q8 quantization)\ndeepseek_r1_distill_qwen_1_5b - Small, fast 1.5B parameter model\ndeepseek_r1_distill_qwen_7b - Medium 7B parameter model\ndeepseek_r1_distill_qwen_14b - Large 14B parameter model\nEmbedding Models:\nbert - Built-in BERT model for text embeddings\nSpeech-to-Text Models:\nWhisper - OpenAI's Whisper model for audio transcription","2-models-from-hugging-face#2. Models from Hugging Face":"AD4M can automatically download and use models from Hugging Face. Just provide the repository details:\nconst huggingFaceModel = {\n  name: \"Custom LLM\",\n  local: {\n    fileName: \"model.gguf\",  // The model file to use from the repo\n    huggingfaceRepo: \"username/model-repo\",  // Hugging Face repository path\n    revision: \"main\",  // Branch or tag to use\n    tokenizerSource: {  // Optional custom tokenizer\n      repo: \"username/tokenizer-repo\",\n      revision: \"main\",\n      fileName: \"tokenizer.json\"\n    }\n  },\n  modelType: \"LLM\"\n};\n// Example with a specific model version\nconst versionedModel = {\n  name: \"Specific Model Version\",\n  local: {\n    fileName: \"model-q4.gguf\",\n    huggingfaceRepo: \"TheBloke/Mistral-7B-Instruct-v0.1-GGUF\",\n    revision: \"main\"\n  },\n  modelType: \"LLM\"\n};\nWhen you add a model with a Hugging Face repository, AD4M will:\nDownload the model files from Hugging Face\nStore them locally\nLoad the model when needed","3-local-files#3. Local Files":"You can also use model files that are already on your device:\nconst localFileModel = {\n  name: \"My Local Model\",\n  local: {\n    fileName: \"/absolute/path/to/model.gguf\",  // Full path to model file\n    tokenizerSource: {\n      repo: \"\",  // Empty repo means local file\n      fileName: \"/path/to/tokenizer.json\"\n    }\n  },\n  modelType: \"LLM\"\n};","remote-models-api#Remote Models (API)":"Remote models use external APIs for inference. AD4M currently supports OpenAI-compatible APIs:\n// OpenAI API\nconst openAiModel = {\n  name: \"GPT-4\",\n  api: {\n    baseUrl: \"https://api.openai.com/v1\",\n    apiKey: \"your-api-key\",\n    model: \"gpt-4\",\n    apiType: \"OPEN_AI\"\n  },\n  modelType: \"LLM\"\n};\n// Custom OpenAI-compatible API\nconst customApiModel = {\n  name: \"Local API Server\",\n  api: {\n    baseUrl: \"http://localhost:8000\",\n    apiKey: \"local-key\",\n    model: \"local-model\",\n    apiType: \"OPEN_AI\"\n  },\n  modelType: \"LLM\"\n};","hardware-acceleration#Hardware Acceleration":"AD4M automatically detects and uses available hardware acceleration:\nCUDA: For NVIDIA GPUs (requires cuda feature)\nMetal: For Apple Silicon and AMD GPUs on macOS (requires metal feature)\nCPU: Falls back to CPU if no GPU acceleration is available","using-ai-in-your-application#Using AI in Your Application":"","1-adding-models#1. Adding Models":"import { Ad4mClient } from '@coasys/ad4m';\nconst client = new Ad4mClient();\n// Add a model\nconst modelId = await client.ai.addModel(modelConfig);\n// Wait for model to load\nlet status;\ndo {\n  status = await client.ai.modelLoadingStatus(modelId);\n  await new Promise(resolve => setTimeout(resolve, 1000));\n} while (status.progress < 100);","2-creating-ai-tasks#2. Creating AI Tasks":"Tasks allow you to define specific use cases with system prompts and examples:\nconst task = await client.ai.addTask(\n  \"code-helper\",\n  modelId,\n  \"You are a helpful coding assistant. Provide clear and concise code examples.\",\n  [\n    { \n      input: \"How do I read a file in Node.js?\", \n      output: \"Here's a simple example using fs.readFile:\\n\\n```javascript\\nconst fs = require('fs');\\n\\nfs.readFile('file.txt', 'utf8', (err, data) => {\\n  if (err) throw err;\\n  console.log(data);\\n});\\n```\" \n    }\n  ]\n);","3-using-models#3. Using Models":"","text-generation-llm#Text Generation (LLM)":"// Using a task\nconst response = await client.ai.prompt(\n  task.taskId,\n  \"How do I create a web server in Node.js?\"\n);\n// The response will follow the system prompt and examples pattern\nconsole.log(response);","text-embeddings#Text Embeddings":"// Get vector representation of text\nconst vector = await client.ai.embed(\n  \"bert\",  // Built-in BERT model\n  \"Convert this text to a vector\"\n);","speech-to-text#Speech-to-Text":"// Open a transcription stream\nconst streamId = await client.ai.openTranscriptionStream(\n  \"Whisper\",\n  (text) => {\n    console.log(\"Transcribed:\", text);\n  },\n  {\n    // Optional voice activity detection parameters\n    startThreshold: 0.3,\n    startWindow: 150,\n    endThreshold: 0.2,\n    endWindow: 300,\n    timeBeforeSpeech: 100\n  }\n);\n// Feed audio data (Float32Array samples at 16kHz)\nawait client.ai.feedTranscriptionStream(streamId, audioSamples);\n// Close stream when done\nawait client.ai.closeTranscriptionStream(streamId);\n// Or use multiple streams simultaneously\nconst fastStreamId = await client.ai.openTranscriptionStream(\n  \"whisper_tiny\",\n  (text) => console.log(\"Fast preview:\", text),\n  {\n    startThreshold: 0.25,\n    startWindow: 100,\n    endThreshold: 0.15,\n    endWindow: 100\n  }\n);\nconst accurateStreamId = await client.ai.openTranscriptionStream(\n  \"whisper_small\",\n  (text) => console.log(\"Accurate:\", text),\n  {\n    startThreshold: 0.3,\n    startWindow: 150,\n    endThreshold: 0.2,\n    endWindow: 500\n  }\n);\n// Feed same audio to both streams with a single call\nawait client.ai.feedTranscriptionStream([fastStreamId, accurateStreamId], audioSamples);\nNote: Transcription streams are automatically cleaned up after 30 seconds of inactivity.","best-practices#Best Practices":"Model Selection\nUse quantized models (Q4/Q6) for faster inference on CPU\nUse larger models when quality is critical\nConsider API models for production use cases\nTask Design\nWrite clear system prompts\nProvide specific examples\nUse task-specific models when possible\nResource Management\nClose transcription streams when done\nMonitor model loading status\nHandle errors appropriately\nPerformance\nUse GPU acceleration when available\nBatch similar requests together\nConsider model size vs performance tradeoffs","error-handling#Error Handling":"try {\n  const response = await client.ai.prompt(taskId, prompt);\n} catch (error) {\n  if (error.message.includes(\"Model not found\")) {\n    // Handle missing model\n  } else if (error.message.includes(\"Task not found\")) {\n    // Handle missing task\n  } else {\n    // Handle other errors\n  }\n}","advanced-features#Advanced Features":"","default-models#Default Models":"You can set default models for each type:\nawait client.ai.setDefaultModel(\"LLM\", modelId);\n// Use default model in tasks\nconst task = await client.ai.addTask(\n  \"default-task\",\n  \"default\",  // Uses the default LLM\n  \"System prompt...\",\n  []\n);","model-updates#Model Updates":"Models can be updated while maintaining tasks:\nconst updated = await client.ai.updateModel(modelId, newConfig);","real-time-transcription#Real-time Transcription":"Configure voice activity detection for word-by-word transcription:\nconst streamId = await client.ai.openTranscriptionStream(\n  \"Whisper\",\n  (text) => console.log(\"Word:\", text),\n  {\n    startThreshold: 0.25,\n    startWindow: 100,\n    endThreshold: 0.15,\n    endWindow: 100,\n    timeBeforeSpeech: 20\n  }\n);","multiple-transcription-streams#Multiple Transcription Streams":"You can process the same audio through multiple models simultaneously:\n// Use a fast model for real-time preview\nconst fastStreamId = await client.ai.openTranscriptionStream(\n  \"whisper_tiny\",\n  (text) => console.log(\"Preview:\", text),\n  { startThreshold: 0.25, endWindow: 100 }\n);\n// Use a more accurate model for final results\nconst accurateStreamId = await client.ai.openTranscriptionStream(\n  \"whisper_small\",\n  (text) => console.log(\"Final:\", text),\n  { startThreshold: 0.3, endWindow: 500 }\n);\n// Feed audio to both streams efficiently\nawait client.ai.feedTranscriptionStream([fastStreamId, accurateStreamId], audioSamples);","automatic-stream-cleanup#Automatic Stream Cleanup":"Transcription streams are automatically cleaned up after 30 seconds of inactivity to prevent resource leaks. This means:\nNo need to manually close streams if the client disconnects\nResources are freed automatically when streams are abandoned\nStreams remain active as long as they receive audio data regularly"}},"/developer-guides/batch-operations":{"title":"Batch Operations","data":{"overview#Overview":"Batch operations in AD4M allow you to group multiple perspective mutations into a single atomic transaction. This feature is particularly useful when you need to perform multiple related changes that should either all succeed or all fail together, or when you want to optimize performance by reducing the number of Prolog engine updates and network operations.","key-benefits#Key Benefits":"","1-atomicity#1. Atomicity":"All operations in a batch are applied together or none are applied\nPrevents partial updates that could leave your data in an inconsistent state\nIdeal for complex operations that require multiple related changes","2-performance-optimization#2. Performance Optimization":"Reduces the number of Prolog engine updates (which can be computationally expensive)\nMinimizes the number of commits to the neighbourhood's link language\nBatches network operations for shared perspectives\nImproves overall system responsiveness when making multiple changes","using-batch-operations#Using Batch Operations":"","basic-usage-with-perspectiveproxy#Basic Usage with PerspectiveProxy":"// Create a new batch\nconst batchId = await perspective.createBatch();\ntry {\n  // Add multiple links in the batch\n  await perspective.add(link1, 'shared', batchId);\n  await perspective.add(link2, 'shared', batchId);\n  \n  // Remove a link in the same batch\n  await perspective.remove(oldLink, batchId);\n  \n  // Update a link in the batch\n  await perspective.update(existingLink, newLink, batchId);\n  \n  // Commit all changes atomically\n  const result = await perspective.commitBatch(batchId);\n  console.log('Added:', result.additions.length);\n  console.log('Removed:', result.removals.length);\n} catch (error) {\n  // If any operation fails, none of the changes are applied\n  console.error('Batch operation failed:', error);\n}","using-batches-with-ad4mmodel#Using Batches with Ad4mModel":"// Create a batch for model operations\nconst batchId = await perspective.createBatch();\ntry {\n  // Create a new model instance\n  const recipe = new Recipe(perspective);\n  recipe.title = \"Chocolate Cake\";\n  recipe.ingredients = [\"Sugar\", \"Flour\", \"Cocoa\"];\n  await recipe.save(batchId);\n  // Update another model in the same batch\n  const existingRecipe = await Recipe.findAll(perspective)[0];\n  existingRecipe.title = \"Updated Title\";\n  await existingRecipe.update(batchId);\n  // Delete a model in the batch\n  await anotherRecipe.delete(batchId);\n  // Commit all model changes together\n  await perspective.commitBatch(batchId);\n} catch (error) {\n  console.error('Model batch operations failed:', error);\n}","when-to-use-batch-operations#When to Use Batch Operations":"","1-complex-data-models#1. Complex Data Models":"When your application needs to maintain relationships between multiple entities:\nconst batchId = await perspective.createBatch();\n// Create a user profile with related entities\nawait userProfile.save(batchId);\nawait userSettings.save(batchId);\nfor (const preference of userPreferences) {\n  await preference.save(batchId);\n}\nawait perspective.commitBatch(batchId);","2-bulk-operations#2. Bulk Operations":"When performing operations on multiple items:\nconst batchId = await perspective.createBatch();\n// Bulk status update\nfor (const task of tasks) {\n  task.status = 'completed';\n  await task.update(batchId);\n}\nawait perspective.commitBatch(batchId);","3-state-transitions#3. State Transitions":"When an operation requires multiple coordinated changes:\nconst batchId = await perspective.createBatch();\n// Moving a task between lists\nawait sourceList.removeTask(task, batchId);\nawait targetList.addTask(task, batchId);\nawait task.updateStatus('moved', batchId);\nawait perspective.commitBatch(batchId);","technical-details#Technical Details":"","batch-storage#Batch Storage":"Batches are stored in memory until committed\nEach batch has a unique UUID\nChanges are tracked separately for shared and local links","prolog-engine-synchronization#Prolog Engine Synchronization":"Prolog facts are updated only once per batch commit\nUpdates are performed using a oneshot channel to ensure completion\nThe engine state remains consistent with all changes","link-language-integration#Link Language Integration":"For shared perspectives, commits to the link language happen only once per batch\nReduces network operations in distributed scenarios","best-practices#Best Practices":"Batch Size\nKeep batches focused on related operations\nAvoid extremely large batches that could impact memory usage\nConsider splitting very large operations into multiple smaller batches\nError Handling\nconst batchId = await perspective.createBatch();\ntry {\n  // Perform batch operations\n  await perspective.commitBatch(batchId);\n} catch (error) {\n  // Handle errors appropriately\n  // No changes will be persisted\n}\nResource Management\nCommit or abandon batches in a timely manner\nDon't keep batches open longer than necessary\nConsider using async/await patterns for better control flow\nTesting\nTest both successful and failed batch scenarios\nVerify data consistency after batch operations\nInclude edge cases in your test suite","limitations-and-considerations#Limitations and Considerations":"Memory Usage\nBatches store changes in memory until committed\nVery large batches may impact system performance\nConcurrency\nBatch operations don't provide explicit locking\nConsider application-level synchronization for concurrent operations\nNetwork Connectivity\nFor shared perspectives, ensure stable network connectivity before committing large batches\nConsider implementing retry logic for network-related failures","examples#Examples":"","complex-subject-creation#Complex Subject Creation":"const batchId = await perspective.createBatch();\n// Create main subject\nconst post = new BlogPost(perspective);\npost.title = \"My First Post\";\nawait post.save(batchId);\n// Create related subjects\nconst comments = initialComments.map(comment => {\n  const c = new Comment(perspective);\n  c.content = comment;\n  c.postId = post.baseExpression;\n  return c;\n});\n// Save all related subjects in the same batch\nawait Promise.all(comments.map(c => c.save(batchId)));\n// Commit everything together\nawait perspective.commitBatch(batchId);","batch-processing-with-validation#Batch Processing with Validation":"async function updateRecipeWithIngredients(recipe, ingredients) {\n  const batchId = await perspective.createBatch();\n  \n  try {\n    // Validate all ingredients first\n    for (const ingredient of ingredients) {\n      if (!await validateIngredient(ingredient)) {\n        throw new Error(`Invalid ingredient: ${ingredient}`);\n      }\n    }\n    \n    // If all valid, proceed with updates\n    recipe.ingredients = ingredients;\n    await recipe.update(batchId);\n    \n    // Create ingredient references\n    for (const ingredient of ingredients) {\n      const ref = new IngredientReference(perspective);\n      ref.recipeId = recipe.baseExpression;\n      ref.ingredientId = ingredient.id;\n      await ref.save(batchId);\n    }\n    \n    await perspective.commitBatch(batchId);\n  } catch (error) {\n    // No changes are persisted if any operation fails\n    throw new Error(`Failed to update recipe: ${error.message}`);\n  }\n}","migration-guide#Migration Guide":"Existing code will continue to work without modification. To adopt batch operations:\nIdentify groups of related operations in your code\nCreate a batch using perspective.createBatch()\nAdd the batchId parameter to your operations\nWrap operations in try/catch blocks\nCommit the batch when all operations are complete\nNo schema changes or data migration is required to use this feature."}},"/developer-guides/model-classes":{"title":"Model Classes in AD4M","data":{"":"Model classes in AD4M provide a way to define, store, and query structured data in your application. Let's start with a simple example that we'll build upon:","quick-start#Quick Start":"There are two ways to create model classes in AD4M:","option-1-using-decorators-traditional#Option 1: Using Decorators (Traditional)":"import { Ad4mModel, ModelOptions, Property } from '@coasys/ad4m';\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\"\n  })\n  name: string = \"\";\n}\n// Using the model\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nawait recipe.save();\n// Reading it back\nconst recipes = await Recipe.findAll(perspective);\nconsole.log(recipes[0].name); // \"Chocolate Cake\"","option-2-from-json-schema-dynamic#Option 2: From JSON Schema (Dynamic)":"Perfect for integrating with external systems or when you have existing JSON Schema definitions:\nimport { Ad4mModel } from '@coasys/ad4m';\n// Define your data structure using JSON Schema\nconst recipeSchema = {\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Recipe\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": { \"type\": \"string\" },\n    \"ingredients\": { \n      \"type\": \"array\", \n      \"items\": { \"type\": \"string\" } \n    },\n    \"difficulty\": { \"type\": \"number\" }\n  },\n  \"required\": [\"name\"]\n};\n// Dynamically create the model class\nconst Recipe = Ad4mModel.fromJSONSchema(recipeSchema, {\n  name: \"Recipe\",\n  namespace: \"recipe://\",\n  resolveLanguage: \"literal\"\n});\n// Use exactly like decorator-based models\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nrecipe.ingredients = [\"flour\", \"sugar\", \"cocoa\"];\nrecipe.difficulty = 3;\nawait recipe.save();\nBefore using any model class, register it with your perspective:\nawait perspective.ensureSDNASubjectClass(Recipe);","basic-concepts#Basic Concepts":"","properties#Properties":"Properties are the basic building blocks of your models. They can be required or optional:\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  // Required property\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\"\n  })\n  name: string = \"\";\n  // Optional property\n  @Optional({\n    through: \"recipe://description\",\n    resolveLanguage: \"literal\"\n  })\n  description?: string;\n}","collections#Collections":"Collections represent one-to-many relationships:\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\"\n  })\n  name: string = \"\";\n  @Collection({ through: \"recipe://ingredient\" })\n  ingredients: string[] = [];\n}\n// Using collections\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nrecipe.ingredients = [\"flour\", \"sugar\", \"cocoa\"];\nawait recipe.save();","working-with-models#Working with Models":"","creating--saving#Creating & Saving":"// Create new instance\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nawait recipe.save();\n// Create with specific ID\nconst recipe = new Recipe(perspective, \"recipe://chocolate-cake\");\nawait recipe.save();","reading--updating#Reading & Updating":"// Get by ID\nconst recipe = new Recipe(perspective, existingId);\nawait recipe.get();\n// Update\nrecipe.name = \"Dark Chocolate Cake\";\nawait recipe.update();","basic-querying#Basic Querying":"// Get all recipes (uses SurrealDB by default - 10-100x faster)\nconst allRecipes = await Recipe.findAll(perspective);\n// Get with simple conditions\nconst recipes = await Recipe.findAll(perspective, {\n  where: { name: \"Chocolate Cake\" }\n});","query-performance-with-surrealdb#Query Performance with SurrealDB":"Important: Ad4mModel now uses SurrealDB by default for all query operations, providing 10-100x faster performance compared to the legacy Prolog engine. This means:\nfindAll() automatically uses SurrealDB\nfindAllAndCount() automatically uses SurrealDB\nQuery builder methods automatically use SurrealDB\nLive query subscriptions automatically use SurrealDB\n// Uses SurrealDB by default (fast!)\nconst highRated = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } },\n  order: { rating: \"DESC\" },\n  limit: 10\n});\n// You can explicitly use Prolog if needed (for backward compatibility)\nconst recipesProlog = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } }\n}, false); // useSurrealDB = false\nFor advanced graph traversal queries and direct SurrealQL access, see the SurrealDB Queries Guide.","understanding-the-underlying-system#Understanding the Underlying System":"Now that you've seen the basics, let's understand how it works under the hood.","graph-based-storage#Graph-Based Storage":"Each model instance is stored as a subgraph in an AD4M perspective. For example, our recipe is stored as:\nrecipe://chocolate-cake-123 -[recipe://name]-> literal://string:\"Chocolate Cake\"\nrecipe://chocolate-cake-123 -[recipe://ingredient]-> ingredient://flour\nrecipe://chocolate-cake-123 -[recipe://ingredient]-> ingredient://sugar\nEvery node in this graph is a URL pointing to an Expression in some language.","base-expressions#Base Expressions":"Each model instance has a unique identifier called a \"base expression\" that serves as the root node of its subgraph. You can specify it or let AD4M generate one:\n// Auto-generated base expression\nconst recipe = new Recipe(perspective);\n// Custom base expression\nconst recipe = new Recipe(perspective, \"recipe://chocolate-cake-2024-03\");","literals-for-simple-values#Literals for Simple Values":"AD4M provides Literals for storing simple values without needing a full language:\n// These are equivalent:\nrecipe.name = \"Chocolate Cake\";\n// Stored as: literal://string:Chocolate Cake\nrecipe.cookingTime = 45;\n// Stored as: literal://number:45","advanced-features#Advanced Features":"","property-types#Property Types":"AD4M provides several specialized property decorators:","readonly#@ReadOnly":"For computed or immutable properties:\n@ReadOnly({\n  through: \"recipe://rating\",\n  getter: `\n    findall(Rating, triple(Base, \"recipe://user_rating\", Rating), Ratings),\n    sum_list(Ratings, Sum),\n    length(Ratings, Count),\n    Value is Sum / Count\n  `\n})\naverageRating: number = 0;","flag#@Flag":"For immutable type markers:\n@Flag({\n  through: \"ad4m://type\",\n  value: \"recipe://main-course\"\n})\ntype: string = \"\";","advanced-collections#Advanced Collections":"Collections can be filtered and typed:\n// Collection of other model instances\n@Collection({\n  through: \"recipe://comment\",\n  where: { isInstance: Comment }\n})\ncomments: Comment[] = [];\n// Collection with custom filter\n@Collection({\n  through: \"recipe://review\",\n  where: { condition: `triple(Target, \"review://rating\", Rating), Rating > 4` }\n})\ntopReviews: string[] = [];","advanced-querying#Advanced Querying":"The query builder provides a fluent interface for complex queries and uses SurrealDB by default for optimal performance:\n// Uses SurrealDB by default (10-100x faster)\nconst recipes = await Recipe.query(perspective)\n  .where({ \n    category: \"MainCourse\",\n    rating: { gt: 4 }\n  })\n  .order({ createdAt: \"DESC\" })\n  .limit(5)\n  .get();\n// Explicitly control query engine\nconst recipesSurreal = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .useSurrealDB(true)  // Default is true\n  .get();\n// Use Prolog for backward compatibility\nconst recipesProlog = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .useSurrealDB(false)  // Switch to Prolog\n  .get();","real-time-updates#Real-time Updates":"Subscribe to changes in your data. Subscriptions also use SurrealDB by default for better performance:\n// Create a query builder (uses SurrealDB by default)\nconst builder = Recipe.query(perspective)\n  .where({ status: \"cooking\" });\n// Subscribe to updates\nconst initialRecipes = await builder.subscribe(recipes => {\n  console.log(\"Currently cooking:\", recipes);\n});\n// Subscribe with Prolog (for backward compatibility)\nconst builderProlog = Recipe.query(perspective)\n  .where({ status: \"cooking\" })\n  .useSurrealDB(false);  // Use Prolog\nawait builderProlog.subscribe(recipes => {\n  console.log(\"Currently cooking (Prolog):\", recipes);\n});\n// Important: Clean up when done\nbuilder.dispose();\nThe query builder's subscription system:\nReturns initial results immediately\nCalls your callback whenever the results change\nMaintains an active connection to receive updates\nAutomatically cleans up resources when disposed\nAlways call dispose() when you're done with the subscription to:\nStop keepalive signals\nUnsubscribe from updates\nNotify the backend to clean up resources\nPrevent memory leaks\nYou can also subscribe to just the count of matching items:\nconst builder = Recipe.query(perspective)\n  .where({ category: \"Dessert\" });\nconst initialCount = await builder.countSubscribe(count => {\n  console.log(\"Number of desserts:\", count);\n});\n// Remember to clean up\nbuilder.dispose();","dynamic-models-from-json-schema#Dynamic Models from JSON Schema":"The fromJSONSchema() method allows you to dynamically create AD4M model classes from JSON Schema definitions. This is perfect for:\nIntegrating with external systems that use JSON Schema\nRuntime model generation based on user-defined schemas\nPartner app integration (like Holons) that define types using JSON Schema\nRapid prototyping without writing decorator-based classes","basic-usage#Basic Usage":"import { Ad4mModel } from '@coasys/ad4m';\nconst schema = {\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"BlogPost\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"title\": { \"type\": \"string\" },\n    \"content\": { \"type\": \"string\" },\n    \"tags\": { \n      \"type\": \"array\", \n      \"items\": { \"type\": \"string\" } \n    },\n    \"metadata\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"author\": { \"type\": \"string\" },\n        \"publishedAt\": { \"type\": \"string\" }\n      }\n    }\n  },\n  \"required\": [\"title\"]\n};\nconst BlogPost = Ad4mModel.fromJSONSchema(schema, {\n  name: \"BlogPost\",\n  namespace: \"blog://\",\n  resolveLanguage: \"literal\"\n});\n// Use like any other Ad4mModel\nconst post = new BlogPost(perspective);\npost.title = \"My First Post\";\npost.tags = [\"ad4m\", \"tutorial\"];\npost.metadata = { author: \"Alice\", publishedAt: \"2025-09-23\" };\nawait post.save();","configuration-options#Configuration Options":"The second parameter to fromJSONSchema() is optional and accepts these options:\ninterface JSONSchemaToModelOptions {\n  // Model configuration\n  name?: string;              // Class name override (optional: falls back to x-ad4m.className → schema.title → schema.$id)\n  namespace?: string;         // Base namespace for predicates (optional: falls back to x-ad4m.namespace → schema.title → schema.$id)\n  // Predicate generation helpers\n  // 1) Direct mapping: propertyName -> predicate URI\n  propertyMapping?: Record<string, string>;\n  // 2) Template: supports ${scheme}, ${namespace} (or ${ns}), ${title}, ${property}\n  predicateTemplate?: string;\n  // 3) Generator callback: receives schema title and property name\n  predicateGenerator?: (title: string, property: string) => string;\n  // Global property settings (applied to all properties unless overridden)\n  resolveLanguage?: string;   // Default language for all properties\n  local?: boolean;            // Whether properties are stored locally\n  // Property-specific overrides\n  // Accepts any PropertyOptions fields: through, initial, required, writable,\n  // resolveLanguage, getter, setter, local, transform\n  propertyOptions?: Record<string, Partial<PropertyOptions>>;\n}","class-name-resolution-cascading-priority#Class Name Resolution (Cascading Priority)":"The class name is determined using this priority order:\nExplicit options.name (highest priority)\nx-ad4m.className metadata in schema\nSchema title\nSchema $id (extracted from URI)\nError if none found (lowest priority)\n// Priority 1: Explicit name override\nconst Model1 = Ad4mModel.fromJSONSchema(schema, {\n  name: \"CustomModelName\"\n});\n// Priority 2: x-ad4m.className metadata\nconst schemaWithClassName = {\n  \"title\": \"Person\",\n  \"x-ad4m\": {\n    \"className\": \"PersonModel\"\n  },\n  \"properties\": { /* ... */ }\n};\nconst PersonClass = Ad4mModel.fromJSONSchema(schemaWithClassName);\n// Priority 3: Inferred from title\nconst schemaWithTitle = {\n  \"title\": \"BlogPost\",  // becomes \"BlogPost\" class name\n  \"properties\": { /* ... */ }\n};\nconst BlogPostClass = Ad4mModel.fromJSONSchema(schemaWithTitle);\n// Priority 4: Inferred from $id\nconst schemaWithId = {\n  \"$id\": \"https://example.com/schemas/product.schema.json\",  // becomes \"Product\"\n  \"properties\": { /* ... */ }\n};\nconst ProductClass = Ad4mModel.fromJSONSchema(schemaWithId);","namespace-resolution-cascading-priority#Namespace Resolution (Cascading Priority)":"The namespace is determined using this priority order:\nExplicit options.namespace (highest priority)\nx-ad4m.namespace metadata in schema\nSchema title (converted to namespace)\nSchema $id (extracted from URI)\nError if none found (lowest priority)\n// Priority 1: Explicit namespace\nconst Model1 = Ad4mModel.fromJSONSchema(schema, {\n  namespace: \"custom://\"\n});\n// Priority 2: x-ad4m.namespace metadata\nconst schemaWithMetadata = {\n  \"title\": \"Person\",\n  \"x-ad4m\": {\n    \"namespace\": \"person://\"\n  },\n  \"properties\": { /* ... */ }\n};\n// Priority 3: Inferred from title\nconst schemaWithTitle = {\n  \"title\": \"BlogPost\", // becomes \"blogpost://\"\n  \"properties\": { /* ... */ }\n};","property-predicate-resolution#Property Predicate Resolution":"Each property's predicate URI is determined by (highest to lowest precedence):\noptions.propertyMapping[name] (explicit mapping)\nx-ad4m.through in property schema\npredicateTemplate (supports ${scheme}, ${namespace}/${ns}, ${title}, ${property})\npredicateGenerator(title, property)\nDefault: ${namespace}/${propertyName} (normalized)\nconst schema = {\n  \"title\": \"Product\",\n  \"properties\": {\n    \"name\": { \"type\": \"string\" },\n    \"price\": { \n      \"type\": \"number\",\n      \"x-ad4m\": {\n        \"through\": \"product://cost\"  // Custom predicate\n      }\n    }\n  }\n};\nconst Product = Ad4mModel.fromJSONSchema(schema, {\n  name: \"Product\",\n  namespace: \"product://\",\n  // Option A: direct mapping\n  propertyMapping: {\n    name: \"product://title\"\n  }\n  // Option B: or per-property options\n  // propertyOptions: { name: { through: \"product://title\" } }\n});","advanced-schema-features#Advanced Schema Features":"","using-x-ad4m-extensions#Using x-ad4m Extensions":"Add AD4M-specific metadata directly to your JSON Schema:\nconst advancedSchema = {\n  \"title\": \"User\",\n  \"x-ad4m\": {\n    \"namespace\": \"user://\",\n    \"resolveLanguage\": \"literal\"\n  },\n  \"properties\": {\n    \"email\": { \n      \"type\": \"string\",\n      \"x-ad4m\": {\n        \"through\": \"user://email_address\",\n        \"local\": true\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"x-ad4m\": {\n        \"resolveLanguage\": \"literal\"  // Store as JSON\n      }\n    },\n    \"tags\": {\n      \"type\": \"array\",\n      \"items\": { \"type\": \"string\" },\n      \"x-ad4m\": {\n        \"through\": \"user://interests\"\n      }\n    }\n  },\n  \"required\": [\"email\"]\n};\nconst User = Ad4mModel.fromJSONSchema(advancedSchema, { name: \"User\" });","complex-object-handling#Complex Object Handling":"Object properties are automatically stored as JSON literals:\nconst schema = {\n  \"title\": \"Article\",\n  \"properties\": {\n    \"metadata\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"author\": { \"type\": \"string\" },\n        \"publishedAt\": { \"type\": \"string\" },\n        \"views\": { \"type\": \"number\" }\n      }\n    }\n  },\n  \"required\": [\"metadata\"]\n};\nconst Article = Ad4mModel.fromJSONSchema(schema, {\n  namespace: \"article://\"\n});\nconst article = new Article(perspective);\narticle.metadata = {\n  author: \"Alice\",\n  publishedAt: \"2025-09-23\",\n  views: 42\n};\nawait article.save();\n// Complex objects are preserved\nconst saved = await Article.findAll(perspective);\nconsole.log(saved[0].metadata.author); // \"Alice\"","arraycollection-mapping#Array/Collection Mapping":"Arrays in JSON Schema automatically become AD4M collections:\nconst schema = {\n  \"title\": \"BlogPost\",\n  \"properties\": {\n    \"tags\": {\n      \"type\": \"array\",\n      \"items\": { \"type\": \"string\" }\n    },\n    \"categories\": {\n      \"type\": \"array\", \n      \"items\": { \"type\": \"string\" }\n    }\n  }\n};\nconst BlogPost = Ad4mModel.fromJSONSchema(schema, {\n  namespace: \"blog://\"\n});\nconst post = new BlogPost(perspective);\npost.tags = [\"ad4m\", \"tutorial\"];\npost.categories = [\"technology\"];\nawait post.save();\n// Collections work with all standard AD4M collection methods\npost.addTags(\"blockchain\");\npost.removeCategories(\"technology\");","type-safety-considerations#Type Safety Considerations":"Since properties are added dynamically, TypeScript won't know about them at compile time. You can:\nUse type assertions for better IDE support:\nconst BlogPost = Ad4mModel.fromJSONSchema(schema) as typeof Ad4mModel & {\n  new(perspective: PerspectiveProxy): Ad4mModel & {\n    title: string;\n    tags: string[];\n    metadata: { author: string; publishedAt: string };\n  }\n};\nCreate TypeScript interfaces for your schemas:\ninterface BlogPostData {\n  title: string;\n  tags: string[];\n  metadata: { author: string; publishedAt: string };\n}\nconst post = new BlogPost(perspective) as Ad4mModel & BlogPostData;\npost.title = \"Type-safe access\";","limitations-and-best-practices#Limitations and Best Practices":"No author property: JSON schemas cannot define a top-level author property (conflicts with built-in AD4M property)\nRequired properties: At least one property must be required or have an initial value\nComplex objects: Nested objects are stored as JSON literals, limiting semantic querying capabilities\nPerformance: For better semantic querying, consider flattening complex objects into separate properties","under-the-hood#Under the Hood":"","social-dna-and-prolog#Social DNA and Prolog":"When you define a model class, AD4M generates a Social DNA (SDNA) representation in Prolog:\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\",\n    required: true\n  })\n  name: string = \"\";\n}\nsubject_class(\"Recipe\", c).\nconstructor(c, '[\n  {action: \"addLink\", source: \"this\", predicate: \"recipe://name\", target: \"literal://string:''\"}\n]').\ninstance(c, Base) :- triple(Base, \"recipe://name\", _).\nproperty(c, \"name\").\nproperty_resolve(c, \"name\").\nproperty_resolve_language(c, \"name\", \"literal\").\nproperty_getter(c, Base, \"name\", Value) :- triple(Base, \"recipe://name\", Value).\nproperty_setter(c, \"name\", '[{action: \"setSingleTarget\", source: \"this\", predicate: \"recipe://name\", \"target\": \"value\"}]').","relationship-with-shacl-and-linked-data#Relationship with SHACL and Linked Data":"AD4M's model classes share concepts with SHACL (Shapes Constraint Language):\nBoth define property constraints and validation rules\nBoth work with graph-based data\nAD4M adds TypeScript integration, CRUD operations, and real-time features","best-practices#Best Practices":"Use Meaningful Predicates: Structure your predicate URIs logically:\nthrough: \"recipe://name\"      // Good\nthrough: \"myapp://x\"          // Bad\nType Safety: Always define proper TypeScript types:\n@Property({ through: \"recipe://servings\" })\nservings: number = 0;         // Good\n@Property({ through: \"recipe://servings\" })\nservings: any;               // Bad\nCollection Filtering: Use where conditions to filter collections:\n@Collection({\n  through: \"recipe://review\",\n  where: { isInstance: Review }  // Only include Review instances\n})\nreviews: Review[] = [];\nQuery Optimization: Use specific queries instead of filtering in memory, and leverage SurrealDB's performance:\n// Good - Let SurrealDB do the filtering (fast)\nconst topRated = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .get();\n// Bad - Fetching all and filtering in memory (slow)\nconst all = await Recipe.findAll(perspective);\nconst topRated = all.filter(r => r.rating > 4);\nUse SurrealDB by Default: SurrealDB is 10-100x faster than Prolog for most queries:\n// Good - Uses SurrealDB by default\nconst recipes = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } }\n});\n// Only use Prolog if you need backward compatibility\nconst recipesProlog = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } }\n}, false); // useSurrealDB = false\nSubscriptions: Clean up subscriptions when they're no longer needed:\nconst builder = Recipe.query(perspective)\n  .where({ status: \"active\" });\n  \nawait builder.subscribe(recipes => {\n  // Handle updates\n});\n// Later...\nbuilder.dispose();\nUse Literals Appropriately:\n// Good - Using literals for simple values\n@Property({\n  through: \"recipe://name\",\n  resolveLanguage: \"literal\"\n})\nname: string = \"\";\n// Good - Using specific language for rich content\n@Property({\n  through: \"recipe://instructions\",\n  resolveLanguage: \"markdown\"\n})\ninstructions: string = \"\";\nMeaningful Base Expressions:\n// Good - Descriptive base expression\nconst recipe = new Recipe(perspective, \"recipe://chocolate-cake-2024-03\");\n// Bad - Random or meaningless base expression\nconst recipe = new Recipe(perspective, \"x://123\");","error-handling#Error Handling":"Always handle potential errors when working with models:\ntry {\n  const recipe = new Recipe(perspective);\n  recipe.name = \"Failed Recipe\";\n  await recipe.save();\n} catch (error) {\n  console.error(\"Failed to save recipe:\", error);\n  // Handle error appropriately\n}","integration-with-ad4m-perspectives#Integration with AD4M Perspectives":"Before using a model class, register it with the perspective:\n// Register the model class\nawait perspective.ensureSDNASubjectClass(Recipe);\n// Now you can use it\nconst recipe = new Recipe(perspective);\nawait recipe.save();\nThis ensures the perspective knows how to handle instances of your model class."}},"/expressions":{"title":"Expressions: Agent-Authored Data Objects","data":{"understanding-expressions#Understanding Expressions":"In AD4M's agent-centric paradigm, all data is treated as a claim or statement made by an agent. These claims are called \"Expressions\" – following the metaphor of Languages, they are what agents \"express\" through different protocols (Languages). While they could be seen as simple data objects, Expressions are fundamentally different because they:\nAlways include cryptographic proof of who created them\nAre always created through a specific Language\nHave globally unique addresses in AD4M's universal addressing scheme","anatomy-of-an-expression#Anatomy of an Expression":"Every Expression consists of:\ninterface Expression {\n    // The DID of the agent who created this Expression\n    author: string;\n    \n    // When the Expression was created\n    timestamp: string;\n    \n    // The actual data/content\n    data: any;\n    \n    // Which Language this Expression belongs to\n    language: LanguageRef;\n    \n    // Cryptographic proof of authorship\n    proof: {\n        // These flags are added by AD4M during retrieval\n        valid?: boolean;    // True if signature verification succeeded\n        invalid?: boolean;  // True if signature verification failed\n        // The actual stored proof data\n        signature: string;  // The cryptographic signature\n        key: string;       // Key path in the author's DID Document used for signing\n    };\n}\nFor example:\n{\n  \"author\": \"did:key:zQ3shv5VUAbtY5P1jGsPzy7L27FTxeDv2hnhVp9QT3ALNCnQ2\",\n  \"timestamp\": \"2023-06-21T14:47:48.935Z\",\n  \"data\": \"Hello World!\",\n  \"language\": {\n    \"address\": \"literal\"\n  },\n  \"proof\": {\n    \"valid\": true,     // Added by AD4M during retrieval\n    \"invalid\": false,  // Added by AD4M during retrieval\n    \"signature\": \"...\", // The stored signature\n    \"key\": \"...\" // Key path in the author's DID Document used for signing\n  }\n}","global-addressing#Global Addressing":"Every Expression in AD4M has a unique address in the format:\n<language_hash>://<expression_address>\nThis means:\nThe Language's hash identifies how to interpret/resolve the address\nThe expression_address is Language-specific (could be a CID, URL, hash, etc.)\nThe full address is globally unique and resolvable by any AD4M instance","working-with-expressions#Working with Expressions":"","creating-expressions#Creating Expressions":"When an agent wants to share data, they create an Expression through a Language:\n// Create an Expression using the literal Language\nconst url = await ad4m.expression.create(\n    \"Hello World!\", \n    \"literal\"\n);\n// Returns: literal://base64encoded-content\n// Create an Expression using a custom Language\nconst socialPost = await ad4m.expression.create(\n    { text: \"My first post!\" },\n    \"QmSocialApp123\" // Language hash\n);\n// Returns: QmSocialApp123://post789\nBehind the scenes, AD4M:\nPasses the data to the specified Language\nThe Language stores/processes the data and returns an address\nAD4M signs the Expression with the agent's keys\nReturns the full Expression URL","retrieving-expressions#Retrieving Expressions":"Any agent can retrieve an Expression using its address:\nconst expression = await ad4m.expression.get(\"QmSocialApp123://post789\");\nThe retrieved Expression includes:\nThe original data\nWho created it (author DID)\nWhen it was created\nCryptographic proof of authenticity","signature-verification#Signature Verification":"When you retrieve an Expression through ad4m.expression.get(), AD4M automatically:\nResolves the author's DID to get their public keys\nVerifies that the signature matches:\nThe author's DID\nThe Expression's data\nThe timestamp\nUsing the specified key from the author's DID Document\nEnriches the Expression object with verification flags:\nproof.valid: Set to true if verification succeeded\nproof.invalid: Set to true if verification failed\nThese verification flags are not stored with the Expression – they are computed on-the-fly during retrieval to ensure fresh verification against the current state of the author's DID Document.\n// When you retrieve an Expression\nconst expression = await ad4m.expression.get(\"QmSocialApp123://post789\");\n// AD4M has already verified the signature\nif (expression.proof.valid) {\n    // The Expression is authentic and unmodified\n    console.log(\"Verified expression from:\", expression.author);\n} else {\n    // The signature verification failed\n    console.warn(\"Could not verify expression authenticity\");\n}","expression-types#Expression Types":"While Expressions can contain any type of data, there are several common patterns:\nLiteral Expressions\nSimple data types (strings, numbers, objects)\nEncoded directly in the address\nExample: literal://base64encoded-content\nContent Expressions\nLarger data objects (posts, documents, media)\nStored in a distributed system (IPFS, Holochain, etc.)\nExample: QmSocialApp123://post789\nReference Expressions\nPoint to data in other systems\nAct as bridges to existing protocols\nExample: http://example.com/resource","expressions-and-trust#Expressions and Trust":"The agent-centric nature of Expressions enables a web of trust:\nAuthenticity: Every Expression is cryptographically signed, so you can verify who created it\nProvenance: The timestamp and author create an audit trail\nContext: Expressions can be referenced and linked in Perspectives, creating semantic meaning\nInteroperability: Any AD4M instance can verify and interpret Expressions","best-practices#Best Practices":"When working with Expressions:\nChoose the Right Language\nUse literal Language for simple, small data\nUse specialized Languages for specific data types\nConsider storage requirements and accessibility\nHandle Verification\nAlways check the proof.valid field\nConsider the Expression's author in your trust model\nUse timestamps for temporal context\nThink Agent-Centric\nRemember Expressions are claims made by agents\nConsider how Expressions fit into social contexts\nUse Perspectives to organize and give meaning to Expressions\nFor more details on implementing Languages that create and resolve Expressions, see the Language Development Guide."}},"/developer-guides/surreal-queries":{"title":"SurrealDB Queries in AD4M","data":{"":"AD4M now includes a powerful SurrealDB-based query engine that provides 10-100x faster performance compared to traditional Prolog queries. SurrealDB is used by default in Ad4mModel operations and can be accessed directly for advanced graph traversal queries.","why-surrealdb#Why SurrealDB?":"SurrealDB brings several key advantages:\nPerformance: 10-100x faster than Prolog for most queries\nFamiliar Syntax: SQL-like query language (SurrealQL)\nGraph Traversal: Native support for multi-hop graph patterns with -> operator\nPattern Matching: Query complex graph structures in a single query (e.g., node->link[WHERE ...][0].out.uri)\nLiteral Parsing: Built-in fn::parse_literal() function to extract values from AD4M literals\nAggregations: Built-in support for COUNT, SUM, AVG, GROUP BY, etc.\nScalability: Optimized for large datasets","default-behavior#Default Behavior":"Important: Ad4mModel now uses SurrealDB by default for all query operations. This means:\nfindAll() uses SurrealDB automatically\nfindAllAndCount() uses SurrealDB automatically\nQuery builder methods use SurrealDB automatically\nLive query subscriptions use SurrealDB automatically\nYou can still use Prolog queries by explicitly passing useSurrealDB: false if needed for backward compatibility.","quick-reference-graph-traversal-syntax#Quick Reference: Graph Traversal Syntax":"SurrealDB's graph traversal operator (->) enables powerful multi-hop queries:\n// Basic syntax: node->link[filter][index].field\nout->link[WHERE predicate = 'flux://entry_type'][0].out.uri\n// Components:\n// - out                     : Start from target node\n// - ->link                  : Follow link edges\n// - [WHERE predicate = ...] : Filter links (optional)\n// - [0]                     : Get first result (array index)\n// - .out.uri                : Access target URI\nKey Functions:\nfn::parse_literal(uri) - Extract values from AD4M literal URIs (handles literal://string:, literal://number:, literal://json:, etc.)\nIndexed Fields (fast):\nin.uri - Source node of link\nout.uri - Target node of link\npredicate - Link predicate\nsource, target - String representations (also indexed)","direct-surrealdb-queries#Direct SurrealDB Queries":"For advanced use cases, you can execute SurrealQL queries directly using perspective.querySurrealDB():","basic-query#Basic Query":"// Get all links\nconst links = await perspective.querySurrealDB('SELECT * FROM link');\nconsole.log(links);\n// [\n//   { source: \"user://alice\", predicate: \"follows\", target: \"user://bob\", ... },\n//   { source: \"post://123\", predicate: \"likes\", target: \"user://alice\", ... }\n// ]","filtering#Filtering":"// Filter links by predicate\nconst follows = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'follows'\"\n);\n// Multiple conditions\nconst recentLikes = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'likes' AND timestamp > '2024-01-01T00:00:00Z'\"\n);","aggregations#Aggregations":"// Count links by predicate\nconst stats = await perspective.querySurrealDB(\n  \"SELECT predicate, count() as total FROM link GROUP BY predicate\"\n);\n// [\n//   { predicate: \"follows\", total: 42 },\n//   { predicate: \"likes\", total: 156 }\n// ]\n// Count total links\nconst totalLinks = await perspective.querySurrealDB(\n  \"SELECT count() as total FROM link\"\n);\n// Count unique sources using GROUP BY\nconst uniqueSources = await perspective.querySurrealDB(\n  \"SELECT source FROM link GROUP BY source\"\n);\n// uniqueSources.length gives you the count of unique sources","graph-traversal-queries#Graph Traversal Queries":"SurrealDB uses efficient graph traversal with indexed node lookups. The key is to use direct field comparisons rather than subqueries for optimal performance.","️-performance-warning-avoid-subqueries#⚠️ Performance Warning: Avoid Subqueries":"Important: Subqueries (using IN (SELECT ...)) can be very slow, especially with large datasets. Instead, use the graph traversal operator (->) which is optimized and uses indexed lookups.\n// ❌ SLOW - Uses subquery\nconst bad = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE source IN (SELECT target FROM link WHERE source = 'user://alice')\"\n);\n// ✅ FAST - Use graph traversal operator for multi-hop\nconst good = await perspective.querySurrealDB(\n  \"SELECT out->link[WHERE predicate = 'posted'].out.uri AS posts FROM link WHERE in.uri = 'user://alice' AND predicate = 'follows'\"\n);","graph-traversal-operators#Graph Traversal Operators":"SurrealDB stores links as graph edges with indexed source (in.uri) and target (out.uri) node references:\nin.uri - The source node of the link (where the edge comes FROM)\nout.uri - The target node of the link (where the edge goes TO)\nsource / target - String fields (also available for simple filtering)","forward-traversal-outgoing-links#Forward Traversal (Outgoing Links)":"// Find all users that Alice follows\nconst aliceFollows = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'follows'\"\n);\n// Find all posts by Alice\nconst alicePosts = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'author'\"\n);","reverse-traversal-incoming-links#Reverse Traversal (Incoming Links)":"// Find all users who follow Alice (followers)\nconst aliceFollowers = await perspective.querySurrealDB(\n  \"SELECT source FROM link WHERE out.uri = 'user://alice' AND predicate = 'follows'\"\n);\n// Find all posts that mention Alice\nconst mentionsAlice = await perspective.querySurrealDB(\n  \"SELECT source FROM link WHERE out.uri = 'user://alice' AND predicate = 'mentions'\"\n);","bidirectional-queries#Bidirectional Queries":"// Find all users connected to Alice (either following or followed by)\nconst aliceConnections = await perspective.querySurrealDB(\n  \"SELECT source, target FROM link WHERE (in.uri = 'user://alice' OR out.uri = 'user://alice') AND predicate = 'follows'\"\n);","multi-hop-traversal-with-graph-operators#Multi-Hop Traversal with Graph Operators":"Use the -> operator to traverse multiple hops in a single efficient query:\n// Find friends of friends (2-hop traversal)\n// Traverse: Alice -> Friends -> Their Friends\n// Note: Use GROUP BY instead of DISTINCT for unique results\nconst friendsOfFriends = await perspective.querySurrealDB(`\n  SELECT out->link[WHERE predicate = 'follows'].out.uri AS friend_of_friend\n  FROM link\n  WHERE in.uri = 'user://alice' AND predicate = 'follows'\n`);\n// Deduplicate in JavaScript if needed: [...new Set(friendsOfFriends.map(f => f.friend_of_friend))]\n// Get user profiles 2 hops away\n// Traverse: User -> Follows -> Profile\nconst profiles = await perspective.querySurrealDB(`\n  SELECT \n    out.uri AS user,\n    out->link[WHERE predicate = 'has_profile'][0].out.uri AS profile\n  FROM link\n  WHERE in.uri = 'user://alice' AND predicate = 'follows'\n`);","chaining-multiple-traversals#Chaining Multiple Traversals":"You can chain -> operators for deeper traversals:\n// 3-hop: Conversation -> Subgroup -> Items -> Get item types\nconst itemTypes = await perspective.querySurrealDB(`\n  SELECT \n    out.uri AS subgroup,\n    out->link[WHERE predicate = 'ad4m://has_child'].out->link[WHERE predicate = 'flux://entry_type'][0].out.uri AS item_type\n  FROM link\n  WHERE in.uri = 'conversation://main'\n    AND predicate = 'ad4m://has_child'\n    AND out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://conversation_subgroup'\n`);","complex-graph-patterns#Complex Graph Patterns":"Use graph traversal for complex multi-hop patterns:\n// Find all comments on Alice's posts (2-hop)\n// Traverse: Alice -> Posts (authored) -> Comments (has_comment)\nconst commentsOnAlicePosts = await perspective.querySurrealDB(`\n  SELECT \n    out.uri AS post,\n    out->link[WHERE predicate = 'has_comment'].out.uri AS comments\n  FROM link\n  WHERE in.uri = 'user://alice' AND predicate = 'authored'\n`);\n// Get all reactions to posts by people Alice follows (3-hop)\n// Traverse: Alice -> Follows -> Posts -> Reactions\nconst reactions = await perspective.querySurrealDB(`\n  SELECT \n    out.uri AS followed_user,\n    out->link[WHERE predicate = 'authored'].out.uri AS post,\n    out->link[WHERE predicate = 'authored'].out->link[WHERE predicate = 'has_reaction'].out.uri AS reaction\n  FROM link\n  WHERE in.uri = 'user://alice' AND predicate = 'follows'\n`);","filtering-by-properties#Filtering by Properties":"// Find all links from Alice with a specific timestamp range\nconst recentLinks = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE in.uri = 'user://alice' AND timestamp > '2024-01-01T00:00:00Z' AND timestamp < '2024-12-31T23:59:59Z'\"\n);\n// Find links by author\nconst bobsLinks = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE author = 'did:key:bob' AND predicate = 'posted'\"\n);","advanced-graph-traversal-patterns#Advanced Graph Traversal Patterns":"For complex graph queries, SurrealDB provides powerful traversal operators that let you navigate multi-hop relationships in a single query.","the-graph-traversal-operator--#The Graph Traversal Operator (->)":"The -> operator allows you to traverse edges in your graph. Combined with filtering and array indexing, you can express complex patterns efficiently:Syntax: node->link[WHERE condition][index].field\nnode->link - Follow link edges from the node\n[WHERE condition] - Filter the traversed links (optional)\n[index] - Select a specific result (e.g., [0] for first, [-1] for last)\n.field - Access a field from the result (e.g., .out.uri for target URI)","multi-hop-traversal-examples#Multi-Hop Traversal Examples":"// Get the type of child items (2-hop traversal)\n// Traverse: Parent -> Child (via 'ad4m://has_child') -> Type (via 'flux://entry_type')\nconst query = `\n  SELECT \n    out.uri AS child,\n    out->link[WHERE predicate = 'flux://entry_type'][0].out.uri AS type\n  FROM link\n  WHERE in.uri = 'parent://123' \n    AND predicate = 'ad4m://has_child'\n`;\nconst results = await perspective.querySurrealDB(query);\n// Results include child URI and its type","filtering-on-multi-hop-properties#Filtering on Multi-Hop Properties":"You can filter based on properties several hops away:\n// Find all children that are of type 'conversation_subgroup'\nconst subgroups = `\n  SELECT out.uri AS subgroup\n  FROM link\n  WHERE in.uri = 'conversation://456'\n    AND predicate = 'ad4m://has_child'\n    AND out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://conversation_subgroup'\n`;\nconst results = await perspective.querySurrealDB(subgroups);","the-fnparse_literal-function#The fn::parse_literal() Function":"AD4M provides a custom SurrealDB function to parse literal values. Literals in AD4M are stored as URIs like:\nliteral://string:Hello → \"Hello\"\nliteral://number:42 → 42\nliteral://boolean:true → true\nliteral://json:{\"data\":\"value\"} → \"value\" (extracts .data field)\nUsage:\n// Extract parsed values from literals\nconst query = `\n  SELECT \n    out.uri AS baseExpression,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://title'][0].out.uri) AS title,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://body'][0].out.uri) AS body,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://count'][0].out.uri) AS count\n  FROM link\n  WHERE in.uri = 'parent://789'\n    AND predicate = 'ad4m://has_child'\n`;\nconst results = await perspective.querySurrealDB(query);\n// Results have parsed values: { baseExpression, title: \"Hello\", body: \"World\", count: 42 }","real-world-example-querying-messages-with-metadata#Real-World Example: Querying Messages with Metadata":"Here's a complete example showing how to query messages with their metadata:\n// Get messages with type, body, and author information\nconst messagesQuery = `\n  SELECT\n    out.uri AS baseExpression,\n    author,\n    timestamp,\n    out->link[WHERE predicate = 'flux://entry_type'][0].out.uri AS type,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://body'][0].out.uri) AS messageBody,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://title'][0].out.uri) AS postTitle\n  FROM link\n  WHERE in.uri = 'channel://main'\n    AND predicate = 'ad4m://has_child'\n    AND (\n      out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://has_message'\n      OR out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://has_post'\n    )\n  ORDER BY timestamp ASC\n`;\nconst messages = await perspective.querySurrealDB(messagesQuery);\n// Each message includes: baseExpression, author, timestamp, type, messageBody, postTitle","counting-nested-items#Counting Nested Items":"Count items that match complex multi-hop conditions:\n// Count conversation subgroups\nconst countQuery = `\n  SELECT count() AS count\n  FROM link\n  WHERE in.uri = 'conversation://abc'\n    AND predicate = 'ad4m://has_child'\n    AND out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://conversation_subgroup'\n`;\nconst result = await perspective.querySurrealDB(countQuery);\nconsole.log(`Found ${result[0].count} subgroups`);","finding-unique-values-across-hops#Finding Unique Values Across Hops":"Get unique authors from items nested within subgroups:\n// Get unique participants from nested items\n// Traverse: Conversation -> Subgroups -> Items -> Extract unique authors\nconst participantsQuery = `\n  SELECT VALUE author\n  FROM link\n  WHERE in.uri = 'conversation://xyz'\n    AND predicate = 'ad4m://has_child'\n    AND out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://conversation_subgroup'\n    AND out->link[WHERE predicate = 'ad4m://has_child'].author IS NOT NONE\n  GROUP BY author\n`;\nconst participants = await perspective.querySurrealDB(participantsQuery);\n// Returns array of unique author DIDs","complex-multi-condition-queries#Complex Multi-Condition Queries":"Combine multiple traversals and conditions:\n// Find all tasks, posts, and messages with their specific metadata\nconst itemsQuery = `\n  SELECT\n    out.uri AS item,\n    author,\n    timestamp,\n    out->link[WHERE predicate = 'flux://entry_type'][0].out.uri AS type,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://body'][0].out.uri) AS messageBody,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://title'][0].out.uri) AS postTitle,\n    fn::parse_literal(out->link[WHERE predicate = 'flux://name'][0].out.uri) AS taskName\n  FROM link\n  WHERE in.uri = 'workspace://project1'\n    AND predicate = 'ad4m://has_child'\n    AND (\n      out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://has_message'\n      OR out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://has_post'\n      OR out->link[WHERE predicate = 'flux://entry_type'][0].out.uri = 'flux://has_task'\n    )\n  ORDER BY timestamp DESC\n  LIMIT 50\n`;\nconst items = await perspective.querySurrealDB(itemsQuery);\n// Returns mixed items with appropriate metadata populated based on type","performance-tips-for-complex-queries#Performance Tips for Complex Queries":"Index-Friendly Patterns: Start with indexed fields (in.uri, out.uri, predicate)\nFilter Within Traversals: Use ->link[WHERE predicate = 'x'] to filter as you traverse\nArray Indexing: Use [0] to get first result efficiently, [-1] for last\nTraversal Depth: 2-4 hops perform well in a single query\nUse IS NOT NONE: Check for existence of traversed values to avoid errors\nCombine Conditions: Use AND/OR in WHERE clauses on final filtered results","pattern-breakdown#Pattern Breakdown":"Understanding the query structure:\n// Pattern: node->link[filter][index].field\nout->link[WHERE predicate = 'flux://entry_type'][0].out.uri\n// Breakdown:\n// 1. out                    - Start from the target node\n// 2. ->link                 - Follow link edges\n// 3. [WHERE predicate = ...]- Filter to specific predicate\n// 4. [0]                    - Take first matching link\n// 5. .out.uri               - Get the target URI of that link\nThis pattern is equivalent to asking: \"From this node, follow links with a specific predicate and tell me where they point.\"","using-surrealdb-with-ad4mmodel#Using SurrealDB with Ad4mModel":"Ad4mModel uses SurrealDB by default for all operations, providing significant performance improvements:","findall---default-uses-surrealdb#findAll() - Default Uses SurrealDB":"@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({ through: \"recipe://name\", resolveLanguage: \"literal\" })\n  name: string = \"\";\n  @Property({ through: \"recipe://rating\", resolveLanguage: \"literal\" })\n  rating: number = 0;\n}\n// Uses SurrealDB automatically (default)\nconst allRecipes = await Recipe.findAll(perspective);\n// With filters (still uses SurrealDB)\nconst highRated = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } },\n  order: { rating: \"DESC\" },\n  limit: 10\n});\n// Explicitly use Prolog (for backward compatibility)\nconst recipesProlog = await Recipe.findAll(perspective, {}, false);","query-builder---default-uses-surrealdb#Query Builder - Default Uses SurrealDB":"// Query builder uses SurrealDB by default\nconst recipes = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .order({ rating: \"DESC\" })\n  .limit(10)\n  .get();\n// Explicitly enable SurrealDB (redundant since it's default)\nconst recipesSurreal = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .useSurrealDB(true)  // Default is true\n  .get();\n// Explicitly use Prolog\nconst recipesProlog = await Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .useSurrealDB(false)  // Switch to Prolog\n  .get();","live-query-subscriptions#Live Query Subscriptions":"Subscriptions also benefit from SurrealDB's performance:\n// Subscribe using SurrealDB (default)\nawait Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .subscribe((recipes) => {\n    console.log(\"Updated high-rated recipes:\", recipes);\n  });\n// Subscribe using Prolog\nawait Recipe.query(perspective)\n  .where({ rating: { gt: 4 } })\n  .useSurrealDB(false)\n  .subscribe((recipes) => {\n    console.log(\"Updated recipes (Prolog):\", recipes);\n  });","findallandcount#findAllAndCount()":"// Uses SurrealDB by default\nconst { results, totalCount } = await Recipe.findAllAndCount(perspective, {\n  where: { rating: { gt: 3 } },\n  limit: 10,\n  offset: 0\n});\nconsole.log(`Showing ${results.length} of ${totalCount} recipes`);\n// Use Prolog explicitly\nconst { results, totalCount } = await Recipe.findAllAndCount(\n  perspective, \n  { where: { rating: { gt: 3 } } },\n  false  // useSurrealDB = false\n);","performance-comparison#Performance Comparison":"Here's what you can expect from SurrealDB vs Prolog:\nOperation\tProlog\tSurrealDB\tSpeed-up\tFind all (1000 items)\t~500ms\t~5ms\t100x\tComplex where query\t~800ms\t~15ms\t53x\tAggregation (count)\t~600ms\t~8ms\t75x\tGraph traversal (3 hops)\t~1200ms\t~25ms\t48x\t\nBenchmarks on typical datasets. Actual performance varies by query complexity and data size.","advanced-surrealql-features#Advanced SurrealQL Features":"","grouping-and-aggregation#Grouping and Aggregation":"// Find posts with more than 10 likes\n// Note: SurrealDB doesn't support HAVING clause, so filter in JavaScript\nconst allPosts = await perspective.querySurrealDB(\n  \"SELECT out.uri as post, count() as like_count FROM link WHERE predicate = 'likes' GROUP BY out.uri\"\n);\nconst popularPosts = allPosts.filter(p => p.like_count > 10);\n// Count followers per user\nconst followerCounts = await perspective.querySurrealDB(\n  \"SELECT out.uri as user, count() as followers FROM link WHERE predicate = 'follows' GROUP BY out.uri ORDER BY followers DESC\"\n);","distinct-values#DISTINCT Values":"// Get all unique predicates used\n// Note: Use GROUP BY instead of SELECT DISTINCT\nconst predicates = await perspective.querySurrealDB(\n  \"SELECT predicate FROM link GROUP BY predicate\"\n);\n// Get unique authors\nconst authors = await perspective.querySurrealDB(\n  \"SELECT author FROM link GROUP BY author\"\n);","sorting-and-pagination#Sorting and Pagination":"// Recent links first, paginated\nconst recentLinks = await perspective.querySurrealDB(\n  \"SELECT * FROM link ORDER BY timestamp DESC LIMIT 20 START 0\"\n);\n// Next page\nconst nextPage = await perspective.querySurrealDB(\n  \"SELECT * FROM link ORDER BY timestamp DESC LIMIT 20 START 20\"\n);","string-operations#String Operations":"// Find links with predicates containing \"follow\"\nconst followLinks = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate CONTAINS 'follow'\"\n);\n// Case-insensitive search\nconst searchResults = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE string::lowercase(predicate) CONTAINS 'like'\"\n);","security-note#Security Note":"Important: querySurrealDB() only allows read-only operations for security reasons. The following operations are blocked:\n❌ DELETE - Use perspective.remove() instead\n❌ UPDATE - Use perspective.update() instead\n❌ INSERT / CREATE - Use perspective.add() instead\n❌ DROP / DEFINE - Not applicable to link data\nAllowed operations:\n✅ SELECT - Query data\n✅ RETURN - Return expressions\n✅ Aggregations (COUNT, SUM, AVG, etc.)\n✅ Graph traversal operators\nIf you need to modify links, use the standard AD4M methods:\n// Adding links\nawait perspective.add({ source: \"user://alice\", predicate: \"follows\", target: \"user://bob\" });\n// Removing links  \nawait perspective.remove({ source: \"user://alice\", predicate: \"follows\", target: \"user://bob\" });","migration-from-prolog#Migration from Prolog":"If you have existing code using Prolog queries, here's how to migrate:","before-prolog#Before (Prolog)":"const results = await perspective.infer(\n  'triple(Post, \"likes\", User), triple(User, \"follows\", \"user://alice\")'\n);","after-surrealdb---graph-traversal#After (SurrealDB - Graph Traversal)":"// Use graph traversal to find posts liked by Alice's followers (2-hop)\nconst results = await perspective.querySurrealDB(`\n  SELECT \n    in.uri AS Post,\n    out.uri AS User\n  FROM link\n  WHERE out.uri = 'user://alice'\n    AND predicate = 'follows'\n    AND in->link[WHERE predicate = 'likes'].out.uri IS NOT NONE\n`);\n// Alternative: Get all liked posts by traversing from followers\nconst likedPosts = await perspective.querySurrealDB(`\n  SELECT \n    out.uri AS follower,\n    out->link[WHERE predicate = 'likes'].out.uri AS liked_posts\n  FROM link\n  WHERE out.uri = 'user://alice' AND predicate = 'follows'\n`);","ad4mmodel-migration#Ad4mModel Migration":"Good news! If you're using Ad4mModel, you don't need to change anything:\n// This automatically uses SurrealDB now (no code changes needed!)\nconst recipes = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } }\n});\nIf you need Prolog for backward compatibility:\n// Explicitly use Prolog\nconst recipes = await Recipe.findAll(perspective, {\n  where: { rating: { gt: 4 } }\n}, false); // useSurrealDB = false","when-to-use-which#When to Use Which?":"","use-surrealdb-default-when#Use SurrealDB (Default) When:":"✅ You need fast queries (most cases)\n✅ You're using Ad4mModel (automatic)\n✅ You need graph traversal (with -> operator)\n✅ You need multi-hop pattern matching\n✅ You need aggregations and analytics\n✅ You have large datasets\n✅ You need to parse literal values","use-prolog-when#Use Prolog When:":"⚠️ You have complex custom SDNA rules\n⚠️ You need backward compatibility with existing code\n⚠️ You're using advanced Prolog-specific features\n⚠️ You need logic programming capabilities beyond graph queries","best-practices#Best Practices":"Avoid Subqueries: Never use IN (SELECT ...) patterns - they're very slow. Use the -> traversal operator instead\nUse Graph Traversal Operators:\nin.uri / out.uri for direct node access (indexed)\nnode->link[WHERE predicate = 'x'][0].out.uri for multi-hop patterns\nChain multiple -> operators for deeper traversals\nMuch faster than subqueries\nUse fn::parse_literal(): Extract values from AD4M literal URIs automatically\nFilter on Traversals: Filter within traversals using [WHERE ...] for efficiency\nUse Ad4mModel: Let it handle query generation automatically with SurrealDB\nArray Indexing: Use [0] for first result, [-1] for last result on traversed links\nLimit Results: Always use LIMIT for large result sets\nProfile Performance: Use browser DevTools to measure query performance\nIndex Awareness: The system automatically indexes in.uri, out.uri, predicate, source, and target\nTraversal Depth: You can safely traverse 2-4 hops in a single query with good performance","examples-repository#Examples Repository":"For more examples, check out these real-world use cases:\nSocial Graph: Finding connections and recommendations\nContent Discovery: Filtering and ranking posts\nAnalytics Dashboard: Aggregating metrics and statistics\nHierarchical Data: Navigating tree structures\nSee the AD4M examples repository for complete implementations.","related-resources#Related Resources":"Model Classes Guide - Using Ad4mModel with SurrealDB\nPerspectives - Understanding perspectives and links\nSocial DNA - Advanced query patterns with SDNA\nSurrealDB Documentation - Complete SurrealQL reference"}},"/jsdoc/classes/AIClient":{"title":"Class: AIClient","data":{"":"@coasys/ad4m / Exports / AIClient","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#apolloClient\n#transcriptionSubscriptions","methods#Methods":"addModel\naddTask\ncloseTranscriptionStream\nembed\nfeedTranscriptionStream\ngetDefaultModel\ngetModels\nmodelLoadingStatus\nopenTranscriptionStream\nprompt\nremoveModel\nremoveTask\nsetDefaultModel\ntasks\nupdateModel\nupdateTask","constructors-1#Constructors":"","constructor#constructor":"• new AIClient(apolloClient, subscribe?)","parameters#Parameters":"Name\tType\tDefault value\tapolloClient\tApolloClient<any>\tundefined\tsubscribe\tboolean\ttrue","defined-in#Defined in":"ai/AIClient.ts:12","properties-1#Properties":"","apolloclient##apolloClient":"• Private #apolloClient: ApolloClient<any>","defined-in-1#Defined in":"ai/AIClient.ts:9","transcriptionsubscriptions##transcriptionSubscriptions":"• Private #transcriptionSubscriptions: Map<string, any>","defined-in-2#Defined in":"ai/AIClient.ts:10","methods-1#Methods":"","addmodel#addModel":"▸ addModel(model): Promise<string>","parameters-1#Parameters":"Name\tType\tmodel\tModelInput","returns#Returns":"Promise<string>","defined-in-3#Defined in":"ai/AIClient.ts:47","addtask#addTask":"▸ addTask(name, modelId, systemPrompt, promptExamples, metaData?): Promise<AITask>","parameters-2#Parameters":"Name\tType\tname\tstring\tmodelId\tstring\tsystemPrompt\tstring\tpromptExamples\t{ input: string ; output: string  }[]\tmetaData?\tstring","returns-1#Returns":"Promise<AITask>","defined-in-4#Defined in":"ai/AIClient.ts:151","closetranscriptionstream#closeTranscriptionStream":"▸ closeTranscriptionStream(streamId): Promise<void>","parameters-3#Parameters":"Name\tType\tstreamId\tstring","returns-2#Returns":"Promise<void>","defined-in-5#Defined in":"ai/AIClient.ts:339","embed#embed":"▸ embed(modelId, text): Promise<number[]>","parameters-4#Parameters":"Name\tType\tmodelId\tstring\ttext\tstring","returns-3#Returns":"Promise<number[]>","defined-in-6#Defined in":"ai/AIClient.ts:276","feedtranscriptionstream#feedTranscriptionStream":"▸ feedTranscriptionStream(streamIds, audio): Promise<void>","parameters-5#Parameters":"Name\tType\tstreamIds\tstring | string[]\taudio\tFloat32Array","returns-4#Returns":"Promise<void>","defined-in-7#Defined in":"ai/AIClient.ts:360","getdefaultmodel#getDefaultModel":"▸ getDefaultModel(modelType): Promise<Model>","parameters-6#Parameters":"Name\tType\tmodelType\tModelType","returns-5#Returns":"Promise<Model>","defined-in-8#Defined in":"ai/AIClient.ts:95","getmodels#getModels":"▸ getModels(): Promise<Model[]>","returns-6#Returns":"Promise<Model[]>","defined-in-9#Defined in":"ai/AIClient.ts:16","modelloadingstatus#modelLoadingStatus":"▸ modelLoadingStatus(model): Promise<AIModelLoadingStatus>","parameters-7#Parameters":"Name\tType\tmodel\tstring","returns-7#Returns":"Promise<AIModelLoadingStatus>","defined-in-10#Defined in":"ai/AIClient.ts:239","opentranscriptionstream#openTranscriptionStream":"▸ openTranscriptionStream(modelId, streamCallback, params?): Promise<string>","parameters-8#Parameters":"Name\tType\tmodelId\tstring\tstreamCallback\t(text: string) => void\tparams?\tObject\tparams.endThreshold?\tnumber\tparams.endWindow?\tnumber\tparams.startThreshold?\tnumber\tparams.startWindow?\tnumber\tparams.timeBeforeSpeech?\tnumber","returns-8#Returns":"Promise<string>","defined-in-11#Defined in":"ai/AIClient.ts:296","prompt#prompt":"▸ prompt(taskId, prompt): Promise<string>","parameters-9#Parameters":"Name\tType\ttaskId\tstring\tprompt\tstring","returns-9#Returns":"Promise<string>","defined-in-12#Defined in":"ai/AIClient.ts:260","removemodel#removeModel":"▸ removeModel(modelId): Promise<boolean>","parameters-10#Parameters":"Name\tType\tmodelId\tstring","returns-10#Returns":"Promise<boolean>","defined-in-13#Defined in":"ai/AIClient.ts:71","removetask#removeTask":"▸ removeTask(taskId): Promise<AITask>","parameters-11#Parameters":"Name\tType\ttaskId\tstring","returns-11#Returns":"Promise<AITask>","defined-in-14#Defined in":"ai/AIClient.ts:179","setdefaultmodel#setDefaultModel":"▸ setDefaultModel(modelType, modelId): Promise<boolean>","parameters-12#Parameters":"Name\tType\tmodelType\tModelType\tmodelId\tstring","returns-12#Returns":"Promise<boolean>","defined-in-15#Defined in":"ai/AIClient.ts:83","tasks#tasks":"▸ tasks(): Promise<AITask[]>","returns-13#Returns":"Promise<AITask[]>","defined-in-16#Defined in":"ai/AIClient.ts:127","updatemodel#updateModel":"▸ updateModel(modelId, model): Promise<boolean>","parameters-13#Parameters":"Name\tType\tmodelId\tstring\tmodel\tModelInput","returns-14#Returns":"Promise<boolean>","defined-in-17#Defined in":"ai/AIClient.ts:59","updatetask#updateTask":"▸ updateTask(taskId, task): Promise<AITask>","parameters-14#Parameters":"Name\tType\ttaskId\tstring\ttask\tAITask","returns-15#Returns":"Promise<AITask>","defined-in-18#Defined in":"ai/AIClient.ts:206"}},"/developer-guides/hooks":{"title":"AD4M React Hooks","data":{"":"AD4M provides a set of React hooks to easily work with core AD4M concepts like Agents, Perspectives, and Subjects. These hooks handle state management, caching, and real-time updates automatically.","useclient#useClient":"The most fundamental hook that provides access to the AD4M client instance.\nimport { useClient } from '@coasys/ad4m-react-hooks';\nfunction MyComponent() {\n  const { client, error, reload } = useClient();\n  if (error) {\n    return <div>Error connecting to AD4M: {error}</div>;\n  }\n  if (!client) {\n    return <div>Connecting to AD4M...</div>;\n  }\n  return <div>Connected to AD4M</div>;\n}\nThe hook returns:\nclient: The AD4M client instance\nerror: Any connection errors\nreload: Function to retry the connection\nmutate: Function to update the cached client instance","useagent#useAgent":"Fetches and caches agent data by DID, with support for profile formatting.\nimport { useAgent } from '@coasys/ad4m-react-hooks';\nfunction AgentProfile({ agentClient, did }) {\n  const { agent, profile, error } = useAgent({\n    client: agentClient,\n    did,\n    formatter: (links) => ({\n      name: links.find(l => l.data.predicate === 'name')?.data.target,\n      bio: links.find(l => l.data.predicate === 'bio')?.data.target\n    })\n  });\n  if (error) return <div>Error: {error}</div>;\n  if (!agent) return <div>Loading...</div>;\n  return (\n    <div>\n      <h2>{profile?.name}</h2>\n      <p>{profile?.bio}</p>\n      <p>DID: {agent.did}</p>\n    </div>\n  );\n}","useme#useMe":"Provides access to the current agent's data and status.\nimport { useMe } from '@coasys/ad4m-react-hooks';\nfunction MyProfile({ agentClient }) {\n  const { me, status, profile, error } = useMe(agentClient, (links) => ({\n    name: links.find(l => l.data.predicate === 'name')?.data.target,\n    bio: links.find(l => l.data.predicate === 'bio')?.data.target\n  }));\n  if (error) return <div>Error: {error}</div>;\n  if (!me) return <div>Loading...</div>;\n  return (\n    <div>\n      <h2>{profile?.name}</h2>\n      <p>{profile?.bio}</p>\n      <p>Status: {status.isUnlocked ? 'Unlocked' : 'Locked'}</p>\n    </div>\n  );\n}","useperspective#usePerspective":"Fetches and subscribes to a single perspective by UUID.\nimport { usePerspective } from '@coasys/ad4m-react-hooks';\nfunction Perspective({ client, uuid }) {\n  const { data } = usePerspective(client, uuid);\n  const { perspective, synced } = data;\n  if (!perspective) return <div>Loading...</div>;\n  return (\n    <div>\n      <h2>{perspective.name}</h2>\n      <p>Synced: {synced ? 'Yes' : 'No'}</p>\n      <p>UUID: {perspective.uuid}</p>\n    </div>\n  );\n}","useperspectives#usePerspectives":"Provides access to all perspectives and handles real-time updates.\nimport { usePerspectives } from '@coasys/ad4m-react-hooks';\nfunction PerspectivesList({ client }) {\n  const { perspectives, neighbourhoods, onLinkAdded, onLinkRemoved } = usePerspectives(client);\n  useEffect(() => {\n    const handleNewLink = (perspective, link) => {\n      console.log(`New link in ${perspective.name}:`, link);\n    };\n    onLinkAdded(handleNewLink);\n    return () => onLinkRemoved(handleNewLink);\n  }, []);\n  return (\n    <div>\n      <h2>All Perspectives</h2>\n      <ul>\n        {Object.values(perspectives).map(p => (\n          <li key={p.uuid}>{p.name}</li>\n        ))}\n      </ul>\n      \n      <h2>Neighbourhoods</h2>\n      <ul>\n        {Object.values(neighbourhoods).map(p => (\n          <li key={p.uuid}>{p.name}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}","usemodel#useModel":"Provides a convenient way to query and subscribe to AD4M models with pagination support.\nimport { useModel } from '@coasys/ad4m-react-hooks';\nimport { Todo } from './models/Todo';\nfunction TodoList({ perspective }) {\n  const { entries, loading, error, totalCount, loadMore } = useModel<Todo>({\n    perspective,\n    model: Todo,\n    query: { /* optional query parameters */ },\n    pageSize: 10, // Optional - enables pagination\n    preserveReferences: true // Optional - improves rendering performance\n  });\n  if (error) return <div>Error: {error}</div>;\n  if (loading && entries.length === 0) return <div>Loading...</div>;\n  return (\n    <div>\n      <h2>Todos ({totalCount})</h2>\n      {entries.map(todo => (\n        <div key={todo.baseExpression}>\n          <h3>{todo.title}</h3>\n          <p>{todo.description}</p>\n        </div>\n      ))}\n      {entries.length < totalCount && (\n        <button onClick={loadMore} disabled={loading}>\n          {loading ? 'Loading...' : 'Load More'}\n        </button>\n      )}\n    </div>\n  );\n}","best-practices#Best Practices":"Always handle loading and error states\nif (error) return <ErrorComponent error={error} />;\nif (!data) return <LoadingComponent />;\nClean up subscriptions\nuseEffect(() => {\n  const callback = (perspective, link) => { /* ... */ };\n  onLinkAdded(callback);\n  return () => onLinkRemoved(callback);\n}, []);\nUse formatters for consistent data structure\nconst formatter = (links) => ({\n  name: links.find(l => l.data.predicate === 'name')?.data.target,\n  bio: links.find(l => l.data.predicate === 'bio')?.data.target\n});\nLeverage caching\n// The hooks handle caching automatically\nconst { data: perspective1 } = usePerspective(client, uuid1);\nconst { data: perspective2 } = usePerspective(client, uuid2);\nUse TypeScript for better type safety\ninterface TodoSubject {\n  id: string;\n  title: string;\n  description: string;\n}\nconst { entries } = useSubjects<TodoSubject>({\n  perspective,\n  subject: 'Todo'\n});"}},"/jsdoc/classes/AIModelLoadingStatus":{"title":"Class: AIModelLoadingStatus","data":{"":"@coasys/ad4m / Exports / AIModelLoadingStatus","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"downloaded\nloaded\nmodel\nprogress\nstatus","constructors-1#Constructors":"","constructor#constructor":"• new AIModelLoadingStatus(model, status, progress, downloaded, loaded)","parameters#Parameters":"Name\tType\tmodel\tstring\tstatus\tstring\tprogress\tnumber\tdownloaded\tboolean\tloaded\tboolean","defined-in#Defined in":"ai/Tasks.ts:114","properties-1#Properties":"","downloaded#downloaded":"• downloaded: boolean","defined-in-1#Defined in":"ai/Tasks.ts:109","loaded#loaded":"• loaded: boolean","defined-in-2#Defined in":"ai/Tasks.ts:112","model#model":"• model: string","defined-in-3#Defined in":"ai/Tasks.ts:100","progress#progress":"• progress: number","defined-in-4#Defined in":"ai/Tasks.ts:106","status#status":"• status: string","defined-in-5#Defined in":"ai/Tasks.ts:103"}},"/jsdoc/classes/AITask":{"title":"Class: AITask","data":{"":"@coasys/ad4m / Exports / AITask","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"createdAt\nmetaData\nmodelId\nname\npromptExamples\nsystemPrompt\ntaskId\nupdatedAt","constructors-1#Constructors":"","constructor#constructor":"• new AITask(name, model_id, task_id, system_prompt, prompt_examples, metaData?, created_at?, updated_at?)","parameters#Parameters":"Name\tType\tname\tstring\tmodel_id\tstring\ttask_id\tstring\tsystem_prompt\tstring\tprompt_examples\tAIPromptExamples[]\tmetaData?\tstring\tcreated_at?\tstring\tupdated_at?\tstring","defined-in#Defined in":"ai/Tasks.ts:85","properties-1#Properties":"","createdat#createdAt":"• createdAt: string","defined-in-1#Defined in":"ai/Tasks.ts:80","metadata#metaData":"• Optional metaData: string","defined-in-2#Defined in":"ai/Tasks.ts:77","modelid#modelId":"• modelId: string","defined-in-3#Defined in":"ai/Tasks.ts:65","name#name":"• name: string","defined-in-4#Defined in":"ai/Tasks.ts:62","promptexamples#promptExamples":"• promptExamples: AIPromptExamples[]","defined-in-5#Defined in":"ai/Tasks.ts:74","systemprompt#systemPrompt":"• systemPrompt: string","defined-in-6#Defined in":"ai/Tasks.ts:71","taskid#taskId":"• taskId: string","defined-in-7#Defined in":"ai/Tasks.ts:68","updatedat#updatedAt":"• updatedAt: string","defined-in-8#Defined in":"ai/Tasks.ts:83"}},"/jsdoc/classes/AIPromptExamplesInput":{"title":"Class: AIPromptExamplesInput","data":{"":"@coasys/ad4m / Exports / AIPromptExamplesInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"input\noutput","constructors-1#Constructors":"","constructor#constructor":"• new AIPromptExamplesInput(input, output)","parameters#Parameters":"Name\tType\tinput\tstring\toutput\tstring","defined-in#Defined in":"ai/Tasks.ts:12","properties-1#Properties":"","input#input":"• input: string","defined-in-1#Defined in":"ai/Tasks.ts:7","output#output":"• output: string","defined-in-2#Defined in":"ai/Tasks.ts:10"}},"/jsdoc/classes/AIPromptExamples":{"title":"Class: AIPromptExamples","data":{"":"@coasys/ad4m / Exports / AIPromptExamples","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"input\noutput","constructors-1#Constructors":"","constructor#constructor":"• new AIPromptExamples(input, output)","parameters#Parameters":"Name\tType\tinput\tstring\toutput\tstring","defined-in#Defined in":"ai/Tasks.ts:27","properties-1#Properties":"","input#input":"• input: string","defined-in-1#Defined in":"ai/Tasks.ts:22","output#output":"• output: string","defined-in-2#Defined in":"ai/Tasks.ts:25"}},"/jsdoc/classes/Ad4mModel":{"title":"Class: Ad4mModel","data":{"":"@coasys/ad4m / Exports / Ad4mModelBase class for defining data models in AD4M.DescriptionAd4mModel provides the foundation for creating data models that are stored in AD4M perspectives.\nEach model instance is represented as a subgraph in the perspective, with properties and collections\nmapped to links in that graph. The class uses Prolog-based queries to efficiently search and filter\ninstances based on their properties and relationships.Key concepts:\nEach model instance has a unique base expression that serves as its identifier\nProperties are stored as links with predicates defined by the through option\nCollections represent one-to-many relationships as sets of links\nQueries are translated to Prolog for efficient graph pattern matching\nChanges are tracked through the perspective's subscription system\nExample\n// Define a recipe model\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  // Required property with literal value\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\"\n  })\n  name: string = \"\";\n  // Optional property with custom initial value\n  @Optional({\n    through: \"recipe://status\",\n    initial: \"recipe://draft\"\n  })\n  status: string = \"\";\n  // Read-only computed property\n  @ReadOnly({\n    through: \"recipe://rating\",\n    getter: `\n      findall(Rating, triple(Base, \"recipe://user_rating\", Rating), Ratings),\n      sum_list(Ratings, Sum),\n      length(Ratings, Count),\n      Value is Sum / Count\n    `\n  })\n  averageRating: number = 0;\n  // Collection of ingredients\n  @Collection({ through: \"recipe://ingredient\" })\n  ingredients: string[] = [];\n  // Collection of comments that are instances of another model\n  @Collection({\n    through: \"recipe://comment\",\n    where: { isInstance: Comment }\n  })\n  comments: Comment[] = [];\n}\n// Create and save a new recipe\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nrecipe.ingredients = [\"flour\", \"sugar\", \"cocoa\"];\nawait recipe.save();\n// Query recipes in different ways\n// Get all recipes\nconst allRecipes = await Recipe.findAll(perspective);\n// Find recipes with specific criteria\nconst desserts = await Recipe.findAll(perspective, {\n  where: { \n    status: \"recipe://published\",\n    averageRating: { gt: 4 }\n  },\n  order: { name: \"ASC\" },\n  limit: 10\n});\n// Use the fluent query builder\nconst popularRecipes = await Recipe.query(perspective)\n  .where({ averageRating: { gt: 4.5 } })\n  .order({ averageRating: \"DESC\" })\n  .limit(5)\n  .get();\n// Subscribe to real-time updates\nawait Recipe.query(perspective)\n  .where({ status: \"recipe://cooking\" })\n  .subscribe(recipes => {\n    console.log(\"Currently being cooked:\", recipes);\n  });\n// Paginate results\nconst { results, totalCount, pageNumber } = await Recipe.query(perspective)\n  .where({ status: \"recipe://published\" })\n  .paginate(10, 1);","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#baseExpression\n#perspective\n#source\n#subjectClassName\nauthor\ntimestamp\nclassNamesByClass","accessors#Accessors":"baseExpression\nperspective","methods#Methods":"cleanCopy\ndelete\nget\ngetData\ninnerUpdate\nsave\nsetCollectionAdder\nsetCollectionRemover\nsetCollectionSetter\nsetProperty\nupdate\nassignValuesToInstance\nbuildGraphTraversalWhereClause\nbuildSurrealSelectFields\nbuildSurrealSelectFieldsWithAggregation\nbuildSurrealWhereClause\ncount\ncountQueryToProlog\ncountQueryToSurrealQL\ndetermineNamespace\ndeterminePredicate\nfindAll\nfindAllAndCount\nformatSurrealValue\nfromJSONSchema\ngetClassName\ngetDefaultValueForType\ngetModelMetadata\ngetPropertyOption\ninstancesFromPrologResult\nmatchesCondition\npaginate\nquery\nqueryToProlog\nqueryToSurrealQL","constructors-1#Constructors":"","constructor#constructor":"• new Ad4mModel(perspective, baseExpression?, source?)Constructs a new model instance.","parameters#Parameters":"Name\tType\tDescription\tperspective\tPerspectiveProxy\tThe perspective where this model will be stored\tbaseExpression?\tstring\tOptional unique identifier for this instance\tsource?\tstring\tOptional source expression this instance is linked to\t\nExample\n// Create a new recipe with auto-generated base expression\nconst recipe = new Recipe(perspective);\n// Create with specific base expression\nconst recipe = new Recipe(perspective, \"recipe://chocolate-cake\");\n// Create with source link\nconst recipe = new Recipe(perspective, undefined, \"cookbook://desserts\");","defined-in#Defined in":"model/Ad4mModel.ts:596","properties-1#Properties":"","baseexpression##baseExpression":"• Private #baseExpression: string","defined-in-1#Defined in":"model/Ad4mModel.ts:406","perspective##perspective":"• Private #perspective: PerspectiveProxy","defined-in-2#Defined in":"model/Ad4mModel.ts:409","source##source":"• Private #source: string","defined-in-3#Defined in":"model/Ad4mModel.ts:408","subjectclassname##subjectClassName":"• Private #subjectClassName: string","defined-in-4#Defined in":"model/Ad4mModel.ts:407","author#author":"• author: string","defined-in-5#Defined in":"model/Ad4mModel.ts:410","timestamp#timestamp":"• timestamp: string","defined-in-6#Defined in":"model/Ad4mModel.ts:411","classnamesbyclass#classNamesByClass":"▪ Static Private classNamesByClass: WeakMap<typeof Ad4mModel, { [perspectiveId: string]: string;  }>","defined-in-7#Defined in":"model/Ad4mModel.ts:413","accessors-1#Accessors":"","baseexpression-1#baseExpression":"• get baseExpression(): stringGets the base expression of the subject.","returns#Returns":"string","defined-in-8#Defined in":"model/Ad4mModel.ts:605","perspective-1#perspective":"• Protected get perspective(): PerspectiveProxyProtected getter for the perspective.\nAllows subclasses to access the perspective while keeping it private from external code.","returns-1#Returns":"PerspectiveProxy","defined-in-9#Defined in":"model/Ad4mModel.ts:613","methods-1#Methods":"","cleancopy#cleanCopy":"▸ Private cleanCopy(): Object","returns-2#Returns":"Object","defined-in-10#Defined in":"model/Ad4mModel.ts:1974","delete#delete":"▸ delete(batchId?): Promise<void>Deletes the model instance from the perspective.","parameters-1#Parameters":"Name\tType\tDescription\tbatchId?\tstring\tOptional batch ID for batch operations","returns-3#Returns":"Promise<void>ThrowsWill throw if removal failsExample\nconst recipe = await Recipe.findAll(perspective)[0];\nawait recipe.delete();\n// Or with batch operations:\nconst batchId = await perspective.createBatch();\nawait recipe.delete(batchId);\nawait perspective.commitBatch(batchId);","defined-in-11#Defined in":"model/Ad4mModel.ts:2077","get#get":"▸ get(): Promise<Ad4mModel>Gets the model instance with all properties and collections populated.","returns-4#Returns":"Promise<Ad4mModel>The populated model instanceThrowsWill throw if data retrieval failsExample\nconst recipe = new Recipe(perspective, existingId);\nawait recipe.get();\nconsole.log(recipe.name, recipe.ingredients);","defined-in-12#Defined in":"model/Ad4mModel.ts:2054","getdata#getData":"▸ Private getData(): Promise<Ad4mModel>","returns-5#Returns":"Promise<Ad4mModel>","defined-in-13#Defined in":"model/Ad4mModel.ts:669","innerupdate#innerUpdate":"▸ Private innerUpdate(setProperties?, batchId?): Promise<void>","parameters-2#Parameters":"Name\tType\tDefault value\tsetProperties\tboolean\ttrue\tbatchId?\tstring\tundefined","returns-6#Returns":"Promise<void>","defined-in-14#Defined in":"model/Ad4mModel.ts:1985","save#save":"▸ save(batchId?): Promise<void>Saves the model instance to the perspective.\nCreates a new instance with the base expression and links it to the source.","parameters-3#Parameters":"Name\tType\tDescription\tbatchId?\tstring\tOptional batch ID for batch operations","returns-7#Returns":"Promise<void>ThrowsWill throw if instance creation, linking, or updating failsExample\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Spaghetti\";\nrecipe.ingredients = [\"pasta\", \"tomato sauce\"];\nawait recipe.save();\n// Or with batch operations:\nconst batchId = await perspective.createBatch();\nawait recipe.save(batchId);\nawait perspective.commitBatch(batchId);","defined-in-15#Defined in":"model/Ad4mModel.ts:1928","setcollectionadder#setCollectionAdder":"▸ Private setCollectionAdder(key, value, batchId?): Promise<void>","parameters-4#Parameters":"Name\tType\tkey\tstring\tvalue\tany\tbatchId?\tstring","returns-8#Returns":"Promise<void>","defined-in-16#Defined in":"model/Ad4mModel.ts:1864","setcollectionremover#setCollectionRemover":"▸ Private setCollectionRemover(key, value, batchId?): Promise<void>","parameters-5#Parameters":"Name\tType\tkey\tstring\tvalue\tany\tbatchId?\tstring","returns-9#Returns":"Promise<void>","defined-in-17#Defined in":"model/Ad4mModel.ts:1886","setcollectionsetter#setCollectionSetter":"▸ Private setCollectionSetter(key, value, batchId?): Promise<void>","parameters-6#Parameters":"Name\tType\tkey\tstring\tvalue\tany\tbatchId?\tstring","returns-10#Returns":"Promise<void>","defined-in-18#Defined in":"model/Ad4mModel.ts:1840","setproperty#setProperty":"▸ Private setProperty(key, value, batchId?): Promise<void>","parameters-7#Parameters":"Name\tType\tkey\tstring\tvalue\tany\tbatchId?\tstring","returns-11#Returns":"Promise<void>","defined-in-19#Defined in":"model/Ad4mModel.ts:1819","update#update":"▸ update(batchId?): Promise<void>Updates the model instance's properties and collections.","parameters-8#Parameters":"Name\tType\tDescription\tbatchId?\tstring\tOptional batch ID for batch operations","returns-12#Returns":"Promise<void>ThrowsWill throw if property setting or collection updates failExample\nconst recipe = await Recipe.findAll(perspective)[0];\nrecipe.rating = 5;\nrecipe.ingredients.push(\"garlic\");\nawait recipe.update();\n// Or with batch operations:\nconst batchId = await perspective.createBatch();\nawait recipe.update(batchId);\nawait perspective.commitBatch(batchId);","defined-in-20#Defined in":"model/Ad4mModel.ts:2036","assignvaluestoinstance#assignValuesToInstance":"▸ Static assignValuesToInstance(perspective, instance, values): Promise<void>","parameters-9#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tinstance\tAd4mModel\tvalues\tValueTuple[]","returns-13#Returns":"Promise<void>","defined-in-21#Defined in":"model/Ad4mModel.ts:617","buildgraphtraversalwhereclause#buildGraphTraversalWhereClause":"▸ Static Private buildGraphTraversalWhereClause(metadata, where?): stringBuilds the WHERE clause for SurrealQL queries using graph traversal syntax.","parameters-10#Parameters":"Name\tType\tDescription\tmetadata\tModelMetadata\tModel metadata containing property predicates\twhere?\tWhere\tWhere conditions from the query","returns-14#Returns":"stringGraph traversal WHERE clause filters, or empty string if no conditionsDescriptionTranslates where conditions into graph traversal filters: ->link[WHERE ...]\nThis is more efficient than nested SELECTs because SurrealDB can optimize graph traversals.Handles several condition types:\nSimple equality: { name: \"Pasta\" } → ->link[WHERE predicate = 'X' AND out.uri = 'Pasta']\nArrays (IN clause): { name: [\"Pasta\", \"Pizza\"] } → ->link[WHERE predicate = 'X' AND out.uri IN [...]]\nNOT operators: Use NOT prefix\nComparison operators (gt, gte, lt, lte, etc.): Handled in post-query JavaScript filtering\nSpecial fields: base uses uri directly, author/timestamp handled post-query","defined-in-22#Defined in":"model/Ad4mModel.ts:854","buildsurrealselectfields#buildSurrealSelectFields":"▸ Static Private buildSurrealSelectFields(metadata, properties?, collections?): stringBuilds the SELECT fields for SurrealQL queries.","parameters-11#Parameters":"Name\tType\tDescription\tmetadata\tModelMetadata\tModel metadata containing property and collection predicates\tproperties?\tstring[]\tOptional array of property names to include (default: all)\tcollections?\tstring[]\tOptional array of collection names to include (default: all)","returns-15#Returns":"stringComma-separated SELECT field listDescriptionGenerates the field list for the SELECT clause, resolving properties and collections\nvia subqueries. Each property is fetched with a subquery that finds the link with the\nappropriate predicate and returns its target. Collections are similar but don't use LIMIT 1.Field types:\nProperties: (SELECT VALUE target FROM link WHERE source = $parent.base AND predicate = 'X' LIMIT 1) AS propName\nCollections: (SELECT VALUE target FROM link WHERE source = $parent.base AND predicate = 'X') AS collName\nAuthor/Timestamp: Always included to provide metadata about each instance\nIf properties or collections arrays are provided, only those fields are included.\nOtherwise, all properties/collections from metadata are included.","defined-in-23#Defined in":"model/Ad4mModel.ts:1114","buildsurrealselectfieldswithaggregation#buildSurrealSelectFieldsWithAggregation":"▸ Static Private buildSurrealSelectFieldsWithAggregation(metadata, properties?, collections?): stringBuilds the SELECT fields for SurrealQL queries using aggregation functions.\nCompatible with GROUP BY source queries.","parameters-12#Parameters":"Name\tType\tmetadata\tModelMetadata\tproperties?\tstring[]\tcollections?\tstring[]","returns-16#Returns":"string","defined-in-24#Defined in":"model/Ad4mModel.ts:1150","buildsurrealwhereclause#buildSurrealWhereClause":"▸ Static Private buildSurrealWhereClause(metadata, where?): stringBuilds the WHERE clause for SurrealQL queries.","parameters-13#Parameters":"Name\tType\tDescription\tmetadata\tModelMetadata\tModel metadata containing property predicates\twhere?\tWhere\tWhere conditions from the query","returns-17#Returns":"stringWHERE clause string (without the \"WHERE\" keyword), or empty string if no conditionsDescriptionTranslates the where conditions from the Query object into SurrealQL WHERE clause fragments.\nFor each property filter, generates a subquery that checks for links with the appropriate\npredicate and target value.Handles several condition types:\nSimple equality: { name: \"Pasta\" } → subquery checking for predicate and target match\nArrays (IN clause): { name: [\"Pasta\", \"Pizza\"] } → target IN [...]\nOperators: { rating: { gt: 4 } } → target > '4'\ngt, gte, lt, lte: comparison operators\nnot: negation (single value or array)\nbetween: range check\ncontains: substring/element check (uses SurrealQL CONTAINS)\nSpecial fields: base, author, timestamp are accessed directly, not via subqueries\nAll conditions are joined with AND.","defined-in-25#Defined in":"model/Ad4mModel.ts:985","count#count":"▸ Static count(perspective, query?, useSurrealDB?): anyGets a count of all matching instances.","parameters-14#Parameters":"Name\tType\tDefault value\tDescription\tperspective\tPerspectiveProxy\tundefined\tThe perspective to search in\tquery\tQuery\t{}\tOptional query parameters to filter results\tuseSurrealDB\tboolean\ttrue\tWhether to use SurrealDB (default: true, 10-100x faster) or Prolog (legacy)","returns-18#Returns":"anyTotal count of matching entitiesExample\nconst totalRecipes = await Recipe.count(perspective);\nconst activeRecipes = await Recipe.count(perspective, {\n  where: { status: \"active\" }\n});\n// Use Prolog explicitly (legacy)\nconst countProlog = await Recipe.count(perspective, {}, false);","defined-in-26#Defined in":"model/Ad4mModel.ts:1804","countquerytoprolog#countQueryToProlog":"▸ Static countQueryToProlog(perspective, query?, modelClassName?): Promise<string>","parameters-15#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tquery\tQuery\tmodelClassName?\tstring","returns-19#Returns":"Promise<string>","defined-in-27#Defined in":"model/Ad4mModel.ts:1749","countquerytosurrealql#countQueryToSurrealQL":"▸ Static Private countQueryToSurrealQL(perspective, query): Promise<string>Generates a SurrealQL COUNT query for the model.","parameters-16#Parameters":"Name\tType\tDescription\tperspective\tPerspectiveProxy\tThe perspective context\tquery\tQuery\tQuery parameters to filter the count","returns-20#Returns":"Promise<string>SurrealQL COUNT query string","defined-in-28#Defined in":"model/Ad4mModel.ts:1776","determinenamespace#determineNamespace":"▸ Static Private determineNamespace(schema, options): stringDetermines the namespace for predicates using cascading precedence","parameters-17#Parameters":"Name\tType\tschema\tJSONSchema\toptions\tJSONSchemaToModelOptions","returns-21#Returns":"string","defined-in-29#Defined in":"model/Ad4mModel.ts:2341","determinepredicate#determinePredicate":"▸ Static Private determinePredicate(schema, propertyName, propertySchema, namespace, options): stringDetermines the predicate for a specific property using cascading precedence","parameters-18#Parameters":"Name\tType\tschema\tJSONSchema\tpropertyName\tstring\tpropertySchema\tJSONSchemaProperty\tnamespace\tstring\toptions\tJSONSchemaToModelOptions","returns-22#Returns":"string","defined-in-30#Defined in":"model/Ad4mModel.ts:2385","findall#findAll":"▸ Static findAll<T>(this, perspective, query?, useSurrealDB?): Promise<T[]>Gets all instances of the model in the perspective that match the query params.","type-parameters#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters-19#Parameters":"Name\tType\tDefault value\tDescription\tthis\ttypeof Ad4mModel & (...args: any[]) => T\tundefined\t-\tperspective\tPerspectiveProxy\tundefined\tThe perspective to search in\tquery\tQuery\t{}\tOptional query parameters to filter results\tuseSurrealDB\tboolean\ttrue\tWhether to use SurrealDB (default: true, 10-100x faster) or Prolog (legacy)","returns-23#Returns":"Promise<T[]>Array of matching modelsExample\n// Get all recipes (uses SurrealDB by default)\nconst allRecipes = await Recipe.findAll(perspective);\n// Get recipes with specific criteria (uses SurrealDB)\nconst recipes = await Recipe.findAll(perspective, {\n  where: { \n    name: \"Pasta\",\n    rating: { gt: 4 }\n  },\n  order: { createdAt: \"DESC\" },\n  limit: 10\n});\n// Explicitly use Prolog (legacy, for backward compatibility)\nconst recipesProlog = await Recipe.findAll(perspective, {}, false);","defined-in-31#Defined in":"model/Ad4mModel.ts:1650","findallandcount#findAllAndCount":"▸ Static findAllAndCount<T>(this, perspective, query?, useSurrealDB?): Promise<ResultsWithTotalCount<T>>Gets all instances with count of total matches without offset & limit applied.","type-parameters-1#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters-20#Parameters":"Name\tType\tDefault value\tDescription\tthis\ttypeof Ad4mModel & (...args: any[]) => T\tundefined\t-\tperspective\tPerspectiveProxy\tundefined\tThe perspective to search in\tquery\tQuery\t{}\tOptional query parameters to filter results\tuseSurrealDB\tboolean\ttrue\tWhether to use SurrealDB (default: true, 10-100x faster) or Prolog (legacy)","returns-24#Returns":"Promise<ResultsWithTotalCount<T>>Object containing results array and total countExample\nconst { results, totalCount } = await Recipe.findAllAndCount(perspective, {\n  where: { category: \"Dessert\" },\n  limit: 10\n});\nconsole.log(`Showing 10 of ${totalCount} dessert recipes`);\n// Use Prolog explicitly (legacy)\nconst { results, totalCount } = await Recipe.findAllAndCount(perspective, {}, false);","defined-in-32#Defined in":"model/Ad4mModel.ts:1689","formatsurrealvalue#formatSurrealValue":"▸ Static Private formatSurrealValue(value): stringFormats a value for use in SurrealQL queries.","parameters-21#Parameters":"Name\tType\tDescription\tvalue\tany\tThe value to format","returns-25#Returns":"stringFormatted value string ready for SurrealQLDescriptionHandles different value types:\nStrings: Wrapped in single quotes with backslash-escaped special characters\nNumbers/booleans: Converted to string\nArrays: Recursively formatted and wrapped in brackets","defined-in-33#Defined in":"model/Ad4mModel.ts:1195","fromjsonschema#fromJSONSchema":"▸ Static fromJSONSchema(schema, options): typeof Ad4mModelCreates an Ad4mModel class from a JSON Schema definition.","parameters-22#Parameters":"Name\tType\tDescription\tschema\tJSONSchema\tJSON Schema definition\toptions\tJSONSchemaToModelOptions\tConfiguration options","returns-26#Returns":"typeof Ad4mModelGenerated Ad4mModel subclassDescriptionThis method dynamically generates an Ad4mModel subclass from a JSON Schema,\nenabling integration with systems that use JSON Schema for type definitions.The method follows a cascading approach for determining predicates:\nExplicit configuration in options parameter (highest precedence)\nx-ad4m metadata in the JSON Schema\nInference from schema title and property names\nError if no namespace can be determined\nExample\n// With explicit configuration\nconst PersonClass = Ad4mModel.fromJSONSchema(schema, {\n  name: \"Person\",\n  namespace: \"person://\",\n  resolveLanguage: \"literal\"\n});\n// With property mapping\nconst ContactClass = Ad4mModel.fromJSONSchema(schema, {\n  name: \"Contact\",\n  namespace: \"contact://\",\n  propertyMapping: {\n    \"name\": \"foaf://name\",\n    \"email\": \"foaf://mbox\"\n  }\n});\n// With x-ad4m metadata in schema\nconst schema = {\n  \"title\": \"Product\",\n  \"x-ad4m\": { \"namespace\": \"product://\" },\n  \"properties\": {\n    \"name\": { \n      \"type\": \"string\",\n      \"x-ad4m\": { \"through\": \"product://title\" }\n    }\n  }\n};\nconst ProductClass = Ad4mModel.fromJSONSchema(schema, { name: \"Product\" });\nThrowsError when namespace cannot be inferred","defined-in-34#Defined in":"model/Ad4mModel.ts:2163","getclassname#getClassName":"▸ Static getClassName(perspective): Promise<string>","parameters-23#Parameters":"Name\tType\tperspective\tPerspectiveProxy","returns-27#Returns":"Promise<string>","defined-in-35#Defined in":"model/Ad4mModel.ts:415","getdefaultvaluefortype#getDefaultValueForType":"▸ Static Private getDefaultValueForType(type?): anyGets default value for a JSON Schema type","parameters-24#Parameters":"Name\tType\ttype?\tstring","returns-28#Returns":"any","defined-in-36#Defined in":"model/Ad4mModel.ts:2462","getmodelmetadata#getModelMetadata":"▸ Static getModelMetadata(): ModelMetadataExtracts metadata from decorators for query building.","returns-29#Returns":"ModelMetadataStructured metadata object containing className, properties, and collectionsDescriptionThis method reads the metadata stored by decorators (@Property, @Collection, etc.)\nand returns it in a structured format that's easier to work with for query builders\nand other systems that need to introspect model structure.The metadata includes:\nClass name from\nModel Options\nProperty metadata (predicates, types, constraints, etc.)\nCollection metadata (predicates, filters, etc.)\nFor models created via fromJSONSchema(), this method will derive metadata from\nthe stored __properties and __collections structures that were populated during\nthe dynamic class creation. If these structures are empty but a JSON schema was\nattached to the class, it can fall back to deriving metadata from that schema.ThrowsError if the class doesn't haveModel OptionsdecoratorExample\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({ through: \"recipe://name\", resolveLanguage: \"literal\" })\n  name: string = \"\";\n  \n  @Collection({ through: \"recipe://ingredient\" })\n  ingredients: string[] = [];\n}\nconst metadata = Recipe.getModelMetadata();\nconsole.log(metadata.className); // \"Recipe\"\nconsole.log(metadata.properties.name.predicate); // \"recipe://name\"\nconsole.log(metadata.collections.ingredients.predicate); // \"recipe://ingredient\"","defined-in-37#Defined in":"model/Ad4mModel.ts:478","getpropertyoption#getPropertyOption":"▸ Static Private getPropertyOption(propertyName, propertySchema, options, optionName, defaultValue?): anyGets property-specific options using cascading precedence","parameters-25#Parameters":"Name\tType\tpropertyName\tstring\tpropertySchema\tJSONSchemaProperty\toptions\tJSONSchemaToModelOptions\toptionName\tkeyof PropertyOptions\tdefaultValue?\tany","returns-30#Returns":"any","defined-in-38#Defined in":"model/Ad4mModel.ts:2433","instancesfromprologresult#instancesFromPrologResult":"▸ Static instancesFromPrologResult<T>(this, perspective, query, result): Promise<ResultsWithTotalCount<T>>","type-parameters-2#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters-26#Parameters":"Name\tType\tthis\ttypeof Ad4mModel & (...args: any[]) => T\tperspective\tPerspectiveProxy\tquery\tQuery\tresult\tAllInstancesResult","returns-31#Returns":"Promise<ResultsWithTotalCount<T>>","defined-in-39#Defined in":"model/Ad4mModel.ts:1215","matchescondition#matchesCondition":"▸ Static Private matchesCondition(value, condition): booleanChecks if a value matches a condition (for post-query filtering).","parameters-27#Parameters":"Name\tType\tvalue\tany\tcondition\tWhereCondition","returns-32#Returns":"boolean","defined-in-40#Defined in":"model/Ad4mModel.ts:1562","paginate#paginate":"▸ Static paginate<T>(this, perspective, pageSize, pageNumber, query?, useSurrealDB?): Promise<PaginationResult<T>>Helper function for pagination with explicit page size and number.","type-parameters-3#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters-28#Parameters":"Name\tType\tDefault value\tDescription\tthis\ttypeof Ad4mModel & (...args: any[]) => T\tundefined\t-\tperspective\tPerspectiveProxy\tundefined\tThe perspective to search in\tpageSize\tnumber\tundefined\tNumber of items per page\tpageNumber\tnumber\tundefined\tWhich page to retrieve (1-based)\tquery?\tQuery\tundefined\tOptional additional query parameters\tuseSurrealDB\tboolean\ttrue\tWhether to use SurrealDB (default: true, 10-100x faster) or Prolog (legacy)","returns-33#Returns":"Promise<PaginationResult<T>>Paginated results with metadataExample\nconst page = await Recipe.paginate(perspective, 10, 1, {\n  where: { category: \"Main Course\" }\n});\nconsole.log(`Page ${page.pageNumber} of recipes, ${page.results.length} items`);\n// Use Prolog explicitly (legacy)\nconst pageProlog = await Recipe.paginate(perspective, 10, 1, {}, false);","defined-in-41#Defined in":"model/Ad4mModel.ts:1727","query#query":"▸ Static query<T>(this, perspective, query?): ModelQueryBuilder<T>Creates a query builder for fluent query construction.","type-parameters-4#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters-29#Parameters":"Name\tType\tDescription\tthis\ttypeof Ad4mModel & (...args: any[]) => T\t-\tperspective\tPerspectiveProxy\tThe perspective to query\tquery?\tQuery\tOptional initial query parameters","returns-34#Returns":"ModelQueryBuilder<T>A new query builder instanceExample\nconst recipes = await Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .order({ rating: \"DESC\" })\n  .limit(5)\n  .run();\n// With real-time updates\nawait Recipe.query(perspective)\n  .where({ status: \"cooking\" })\n  .subscribe(recipes => {\n    console.log(\"Currently cooking:\", recipes);\n  });","defined-in-42#Defined in":"model/Ad4mModel.ts:2104","querytoprolog#queryToProlog":"▸ Static queryToProlog(perspective, query, modelClassName?): Promise<string>","parameters-30#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tquery\tQuery\tmodelClassName?\tstring","returns-35#Returns":"Promise<string>","defined-in-43#Defined in":"model/Ad4mModel.ts:689","querytosurrealql#queryToSurrealQL":"▸ Static queryToSurrealQL(perspective, query): Promise<string>Generates a SurrealQL query from a Query object.","parameters-31#Parameters":"Name\tType\tDescription\tperspective\tPerspectiveProxy\tThe perspective to query (used for metadata extraction)\tquery\tQuery\tQuery parameters (where, order, limit, offset, properties, collections)","returns-36#Returns":"Promise<string>Complete SurrealQL query string ready for executionDescriptionThis method translates high-level query parameters into a SurrealQL query string\nthat can be executed against the SurrealDB backend. Unlike Prolog queries which\noperate on SDNA-aware predicates, SurrealQL queries operate directly on raw links\nstored in SurrealDB.The generated query uses a CTE (Common Table Expression) pattern:\nFirst, identify candidate base expressions by filtering links based on where conditions\nThen, for each candidate base, resolve properties and collections via subqueries\nFinally, apply ordering, pagination (LIMIT/START) at the SQL level\nKey architectural notes:\nSurrealDB stores only raw links (source, predicate, target, author, timestamp)\nNo SDNA knowledge at the database level\nProperties are resolved via subqueries that look for links with specific predicates\nCollections are similar but return multiple values instead of one\nSpecial fields (base, author, timestamp) are accessed directly, not via subqueries\nExample\nconst query = Recipe.queryToSurrealQL(perspective, {\n  where: { name: \"Pasta\", rating: { gt: 4 } },\n  order: { timestamp: \"DESC\" },\n  limit: 10\n});\n// Returns: SELECT source AS base, array::first(target[WHERE predicate = ...]) AS name, ...\n//          FROM link WHERE ... GROUP BY source ORDER BY timestamp DESC LIMIT 10","defined-in-44#Defined in":"model/Ad4mModel.ts:751"}},"/jsdoc/classes/AITaskInput":{"title":"Class: AITaskInput","data":{"":"@coasys/ad4m / Exports / AITaskInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"metaData\nmodelId\nname\npromptExamples\nsystemPrompt","constructors-1#Constructors":"","constructor#constructor":"• new AITaskInput(name, model_id, system_prompt, prompt_examples, metaData?)","parameters#Parameters":"Name\tType\tname\tstring\tmodel_id\tstring\tsystem_prompt\tstring\tprompt_examples\tAIPromptExamplesInput[]\tmetaData?\tstring","defined-in#Defined in":"ai/Tasks.ts:50","properties-1#Properties":"","metadata#metaData":"• metaData: string","defined-in-1#Defined in":"ai/Tasks.ts:48","modelid#modelId":"• modelId: string","defined-in-2#Defined in":"ai/Tasks.ts:39","name#name":"• name: string","defined-in-3#Defined in":"ai/Tasks.ts:36","promptexamples#promptExamples":"• promptExamples: AIPromptExamplesInput[]","defined-in-4#Defined in":"ai/Tasks.ts:45","systemprompt#systemPrompt":"• systemPrompt: string","defined-in-5#Defined in":"ai/Tasks.ts:42"}},"/jsdoc/classes/AgentExpression":{"title":"Class: AgentExpression","data":{"":"@coasys/ad4m / Exports / AgentExpression","hierarchy#Hierarchy":"any↳ AgentExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new AgentExpression()","inherited-from#Inherited from":"ExpressionGeneric(Agent).constructor"}},"/jsdoc/classes/AgentClient":{"title":"Class: AgentClient","data":{"":"@coasys/ad4m / Exports / AgentClientProvides access to all functions regarding the local agent,\nsuch as generating, locking, unlocking, importing the DID keystore,\nas well as updating the publicly shared Agent expression.","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#agentStatusChangedCallbacks\n#apolloClient\n#appsChangedCallback\n#updatedCallbacks","methods#Methods":"addAgentStatusChangedListener\naddAppChangedListener\naddEntanglementProofs\naddUpdatedListener\nbyDID\ndeleteEntanglementProofs\nentanglementProofPreFlight\ngenerate\ngenerateJwt\ngetApps\ngetEntanglementProofs\nimport\nisLocked\nlock\nme\nmutatePublicPerspective\npermitCapability\nremoveApp\nrequestCapability\nrevokeToken\nsignMessage\nstatus\nsubscribeAgentStatusChanged\nsubscribeAgentUpdated\nsubscribeAppsChanged\nunlock\nupdateDirectMessageLanguage\nupdatePublicPerspective","constructors-1#Constructors":"","constructor#constructor":"• new AgentClient(client, subscribe?)","parameters#Parameters":"Name\tType\tDefault value\tclient\tApolloClient<any>\tundefined\tsubscribe\tboolean\ttrue","defined-in#Defined in":"agent/AgentClient.ts:93","properties-1#Properties":"","agentstatuschangedcallbacks##agentStatusChangedCallbacks":"• Private #agentStatusChangedCallbacks: AgentStatusChangedCallback[]","defined-in-1#Defined in":"agent/AgentClient.ts:91","apolloclient##apolloClient":"• Private #apolloClient: ApolloClient<any>","defined-in-2#Defined in":"agent/AgentClient.ts:88","appschangedcallback##appsChangedCallback":"• Private #appsChangedCallback: AgentAppsUpdatedCallback[]","defined-in-3#Defined in":"agent/AgentClient.ts:89","updatedcallbacks##updatedCallbacks":"• Private #updatedCallbacks: AgentUpdatedCallback[]","defined-in-4#Defined in":"agent/AgentClient.ts:90","methods-1#Methods":"","addagentstatuschangedlistener#addAgentStatusChangedListener":"▸ addAgentStatusChangedListener(listener): void","parameters-1#Parameters":"Name\tType\tlistener\tany","returns#Returns":"void","defined-in-5#Defined in":"agent/AgentClient.ts:399","addappchangedlistener#addAppChangedListener":"▸ addAppChangedListener(listener): void","parameters-2#Parameters":"Name\tType\tlistener\tany","returns-1#Returns":"void","defined-in-6#Defined in":"agent/AgentClient.ts:356","addentanglementproofs#addEntanglementProofs":"▸ addEntanglementProofs(proofs): Promise<EntanglementProof[]>","parameters-3#Parameters":"Name\tType\tproofs\tEntanglementProofInput[]","returns-2#Returns":"Promise<EntanglementProof[]>","defined-in-7#Defined in":"agent/AgentClient.ts:290","addupdatedlistener#addUpdatedListener":"▸ addUpdatedListener(listener): void","parameters-4#Parameters":"Name\tType\tlistener\tany","returns-3#Returns":"void","defined-in-8#Defined in":"agent/AgentClient.ts:352","bydid#byDID":"▸ byDID(did): Promise<Agent>","parameters-5#Parameters":"Name\tType\tdid\tstring","returns-4#Returns":"Promise<Agent>","defined-in-9#Defined in":"agent/AgentClient.ts:200","deleteentanglementproofs#deleteEntanglementProofs":"▸ deleteEntanglementProofs(proofs): Promise<EntanglementProof[]>","parameters-6#Parameters":"Name\tType\tproofs\tEntanglementProofInput[]","returns-5#Returns":"Promise<EntanglementProof[]>","defined-in-10#Defined in":"agent/AgentClient.ts:306","entanglementproofpreflight#entanglementProofPreFlight":"▸ entanglementProofPreFlight(deviceKey, deviceKeyType): Promise<EntanglementProof>","parameters-7#Parameters":"Name\tType\tdeviceKey\tstring\tdeviceKeyType\tstring","returns-6#Returns":"Promise<EntanglementProof>","defined-in-11#Defined in":"agent/AgentClient.ts:335","generate#generate":"▸ generate(passphrase): Promise<AgentStatus>","parameters-8#Parameters":"Name\tType\tpassphrase\tstring","returns-7#Returns":"Promise<AgentStatus>","defined-in-12#Defined in":"agent/AgentClient.ts:136","generatejwt#generateJwt":"▸ generateJwt(requestId, rand): Promise<string>","parameters-9#Parameters":"Name\tType\trequestId\tstring\trand\tstring","returns-8#Returns":"Promise<string>","defined-in-13#Defined in":"agent/AgentClient.ts:450","getapps#getApps":"▸ getApps(): Promise<Apps[]>","returns-9#Returns":"Promise<Apps[]>","defined-in-14#Defined in":"agent/AgentClient.ts:464","getentanglementproofs#getEntanglementProofs":"▸ getEntanglementProofs(): Promise<string[]>","returns-10#Returns":"Promise<string[]>","defined-in-15#Defined in":"agent/AgentClient.ts:322","import#import":"▸ import(args): Promise<AgentStatus>","parameters-10#Parameters":"Name\tType\targs\tInitializeArgs","returns-11#Returns":"Promise<AgentStatus>","defined-in-16#Defined in":"agent/AgentClient.ts:152","islocked#isLocked":"▸ isLocked(): Promise<boolean>","returns-12#Returns":"Promise<boolean>","defined-in-17#Defined in":"agent/AgentClient.ts:505","lock#lock":"▸ lock(passphrase): Promise<AgentStatus>","parameters-11#Parameters":"Name\tType\tpassphrase\tstring","returns-13#Returns":"Promise<AgentStatus>","defined-in-18#Defined in":"agent/AgentClient.ts:172","me#me":"▸ me(): Promise<Agent>Returns the Agent expression of the local agent as it is shared\npublicly via the AgentLanguage.I.e. this is the users profile.","returns-14#Returns":"Promise<Agent>","defined-in-19#Defined in":"agent/AgentClient.ts:112","mutatepublicperspective#mutatePublicPerspective":"▸ mutatePublicPerspective(mutations): Promise<Agent>","parameters-12#Parameters":"Name\tType\tmutations\tLinkMutations","returns-15#Returns":"Promise<Agent>","defined-in-20#Defined in":"agent/AgentClient.ts:240","permitcapability#permitCapability":"▸ permitCapability(auth): Promise<string>","parameters-13#Parameters":"Name\tType\tauth\tstring","returns-16#Returns":"Promise<string>","defined-in-21#Defined in":"agent/AgentClient.ts:436","removeapp#removeApp":"▸ removeApp(requestId): Promise<Apps[]>","parameters-14#Parameters":"Name\tType\trequestId\tstring","returns-17#Returns":"Promise<Apps[]>","defined-in-22#Defined in":"agent/AgentClient.ts:477","requestcapability#requestCapability":"▸ requestCapability(authInfo): Promise<string>","parameters-15#Parameters":"Name\tType\tauthInfo\tAuthInfoInput","returns-18#Returns":"Promise<string>","defined-in-23#Defined in":"agent/AgentClient.ts:422","revoketoken#revokeToken":"▸ revokeToken(requestId): Promise<Apps[]>","parameters-16#Parameters":"Name\tType\trequestId\tstring","returns-19#Returns":"Promise<Apps[]>","defined-in-24#Defined in":"agent/AgentClient.ts:491","signmessage#signMessage":"▸ signMessage(message): Promise<string>","parameters-17#Parameters":"Name\tType\tmessage\tstring","returns-20#Returns":"Promise<string>","defined-in-25#Defined in":"agent/AgentClient.ts:518","status#status":"▸ status(): Promise<AgentStatus>","returns-21#Returns":"Promise<AgentStatus>","defined-in-26#Defined in":"agent/AgentClient.ts:123","subscribeagentstatuschanged#subscribeAgentStatusChanged":"▸ subscribeAgentStatusChanged(): void","returns-22#Returns":"void","defined-in-27#Defined in":"agent/AgentClient.ts:403","subscribeagentupdated#subscribeAgentUpdated":"▸ subscribeAgentUpdated(): void","returns-23#Returns":"void","defined-in-28#Defined in":"agent/AgentClient.ts:360","subscribeappschanged#subscribeAppsChanged":"▸ subscribeAppsChanged(): void","returns-24#Returns":"void","defined-in-29#Defined in":"agent/AgentClient.ts:379","unlock#unlock":"▸ unlock(passphrase, holochain?): Promise<AgentStatus>","parameters-18#Parameters":"Name\tType\tDefault value\tpassphrase\tstring\tundefined\tholochain\tboolean\ttrue","returns-25#Returns":"Promise<AgentStatus>","defined-in-30#Defined in":"agent/AgentClient.ts:186","updatedirectmessagelanguage#updateDirectMessageLanguage":"▸ updateDirectMessageLanguage(directMessageLanguage): Promise<Agent>","parameters-19#Parameters":"Name\tType\tdirectMessageLanguage\tstring","returns-26#Returns":"Promise<Agent>","defined-in-31#Defined in":"agent/AgentClient.ts:271","updatepublicperspective#updatePublicPerspective":"▸ updatePublicPerspective(perspective): Promise<Agent>","parameters-20#Parameters":"Name\tType\tperspective\tPerspectiveInput","returns-27#Returns":"Promise<Agent>","defined-in-32#Defined in":"agent/AgentClient.ts:214"}},"/jsdoc/classes/Agent":{"title":"Class: Agent","data":{"":"@coasys/ad4m / Exports / AgentAD4M's representation of an AgentAD4M Agents are build around DIDs, which are used to identify and authenticate the Agent.\nConceptually, an Agent is regarded as something that can speak and that can listen.Agents speak by creating Expressions in AD4M Languages which are signed by the Agent's DID key,\nAnd they also speak (broadcast) by putting semantic statements into their public \"Agent Perspective\".\nThey listen (can receive messages) through their \"direct message Language\".These three aspects are represented by the three fields of this class.This class is used as format for the Expressions in the Agent language.\nSince AD4M treats DID URIs as addresses for the Agent Language,\nDIDs are resolved to Expressions that are objects of this class.\nThus, this is how agents see (other) agents.","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"did\ndirectMessageLanguage\nperspective","constructors-1#Constructors":"","constructor#constructor":"• new Agent(did, perspective?)","parameters#Parameters":"Name\tType\tdid\tstring\tperspective?\tPerspective","defined-in#Defined in":"agent/Agent.ts:42","properties-1#Properties":"","did#did":"• did: stringThe DID of the Agent\nAll epxressions authored by them are signed with the keys mentioned\nin the DID document behind this DID URI.","defined-in-1#Defined in":"agent/Agent.ts:28","directmessagelanguage#directMessageLanguage":"• Optional directMessageLanguage: stringAddress of the Language by which the Agent will receive DMs","defined-in-2#Defined in":"agent/Agent.ts:40","perspective#perspective":"• Optional perspective: PerspectiveThe Perspective that holds the public-facing semantics/statements of the Agent\nHolds and shares a Perspective that links all information\nthis agent wants to offer as public-facing semantics.\nThis should be used for any kind of user profile information.","defined-in-3#Defined in":"agent/Agent.ts:36"}},"/jsdoc/classes/AgentStatus":{"title":"Class: AgentStatus","data":{"":"@coasys/ad4m / Exports / AgentStatus","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"did\ndidDocument\nerror\nisInitialized\nisUnlocked","constructors-1#Constructors":"","constructor#constructor":"• new AgentStatus(obj?)","parameters#Parameters":"Name\tType\tobj?\tobject","defined-in#Defined in":"agent/AgentStatus.ts:20","properties-1#Properties":"","did#did":"• Optional did: string","defined-in-1#Defined in":"agent/AgentStatus.ts:12","diddocument#didDocument":"• Optional didDocument: string","defined-in-2#Defined in":"agent/AgentStatus.ts:15","error#error":"• Optional error: string","defined-in-3#Defined in":"agent/AgentStatus.ts:18","isinitialized#isInitialized":"• isInitialized: Boolean","defined-in-4#Defined in":"agent/AgentStatus.ts:6","isunlocked#isUnlocked":"• isUnlocked: Boolean","defined-in-5#Defined in":"agent/AgentStatus.ts:9"}},"/jsdoc/classes/AgentSignature":{"title":"Class: AgentSignature","data":{"":"@coasys/ad4m / Exports / AgentSignature","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"publicKey\nsignature","constructors-1#Constructors":"","constructor#constructor":"• new AgentSignature(signature, publicKey)","parameters#Parameters":"Name\tType\tsignature\tstring\tpublicKey\tstring","defined-in#Defined in":"agent/Agent.ts:137","properties-1#Properties":"","publickey#publicKey":"• publicKey: string","defined-in-1#Defined in":"agent/Agent.ts:135","signature#signature":"• signature: string","defined-in-2#Defined in":"agent/Agent.ts:132"}},"/jsdoc/classes/Apps":{"title":"Class: Apps","data":{"":"@coasys/ad4m / Exports / Apps","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"auth\nrequestId\nrevoked\ntoken","constructors-1#Constructors":"","constructor#constructor":"• new Apps(requestId, auth, token, revoked?)","parameters#Parameters":"Name\tType\trequestId\tstring\tauth\tAuthInfo\ttoken\tstring\trevoked?\tboolean","defined-in#Defined in":"agent/Agent.ts:217","properties-1#Properties":"","auth#auth":"• auth: AuthInfo","defined-in-1#Defined in":"agent/Agent.ts:215","requestid#requestId":"• requestId: string","defined-in-2#Defined in":"agent/Agent.ts:206","revoked#revoked":"• Optional revoked: boolean","defined-in-3#Defined in":"agent/Agent.ts:212","token#token":"• token: string","defined-in-4#Defined in":"agent/Agent.ts:209"}},"/jsdoc/classes/AuthInfo":{"title":"Class: AuthInfo","data":{"":"@coasys/ad4m / Exports / AuthInfo","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"appDesc\nappIconPath\nappName\nappUrl\ncapabilities","constructors-1#Constructors":"","constructor#constructor":"• new AuthInfo(appName, appDesc, appUrl, capabilities, appIconPath?)","parameters#Parameters":"Name\tType\tappName\tstring\tappDesc\tstring\tappUrl\tstring\tcapabilities\tCapability[]\tappIconPath?\tstring","defined-in#Defined in":"agent/Agent.ts:188","properties-1#Properties":"","appdesc#appDesc":"• appDesc: string","defined-in-1#Defined in":"agent/Agent.ts:177","appiconpath#appIconPath":"• Optional appIconPath: string","defined-in-2#Defined in":"agent/Agent.ts:183","appname#appName":"• appName: string","defined-in-3#Defined in":"agent/Agent.ts:174","appurl#appUrl":"• appUrl: string","defined-in-4#Defined in":"agent/Agent.ts:180","capabilities#capabilities":"• capabilities: Capability[]","defined-in-5#Defined in":"agent/Agent.ts:186"}},"/jsdoc/classes/AuthInfoInput":{"title":"Class: AuthInfoInput","data":{"":"@coasys/ad4m / Exports / AuthInfoInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"appDesc\nappDomain\nappIconPath\nappName\nappUrl\ncapabilities","constructors-1#Constructors":"","constructor#constructor":"• new AuthInfoInput(appName, appDesc, appDomain, appUrl?, appIconPath?, capabilities?)","parameters#Parameters":"Name\tType\tappName\tstring\tappDesc\tstring\tappDomain\tstring\tappUrl?\tstring\tappIconPath?\tstring\tcapabilities?\tCapabilityInput[]","defined-in#Defined in":"agent/Agent.ts:278","properties-1#Properties":"","appdesc#appDesc":"• appDesc: string","defined-in-1#Defined in":"agent/Agent.ts:264","appdomain#appDomain":"• appDomain: string","defined-in-2#Defined in":"agent/Agent.ts:267","appiconpath#appIconPath":"• Optional appIconPath: string","defined-in-3#Defined in":"agent/Agent.ts:273","appname#appName":"• appName: string","defined-in-4#Defined in":"agent/Agent.ts:261","appurl#appUrl":"• Optional appUrl: string","defined-in-5#Defined in":"agent/Agent.ts:270","capabilities#capabilities":"• Optional capabilities: CapabilityInput[]","defined-in-6#Defined in":"agent/Agent.ts:276"}},"/jsdoc/classes/Capability":{"title":"Class: Capability","data":{"":"@coasys/ad4m / Exports / Capability","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"can\nwith","constructors-1#Constructors":"","constructor#constructor":"• new Capability(withF, can)","parameters#Parameters":"Name\tType\twithF\tResource\tcan\tstring[]","defined-in#Defined in":"agent/Agent.ts:165","properties-1#Properties":"","can#can":"• can: string[]","defined-in-1#Defined in":"agent/Agent.ts:163","with#with":"• with: Resource","defined-in-2#Defined in":"agent/Agent.ts:160"}},"/jsdoc/classes/CapabilityInput":{"title":"Class: CapabilityInput","data":{"":"@coasys/ad4m / Exports / CapabilityInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"can\nwith","constructors-1#Constructors":"","constructor#constructor":"• new CapabilityInput(withF, can)","parameters#Parameters":"Name\tType\twithF\tResourceInput\tcan\tstring[]","defined-in#Defined in":"agent/Agent.ts:252","properties-1#Properties":"","can#can":"• can: string[]","defined-in-1#Defined in":"agent/Agent.ts:250","with#with":"• with: ResourceInput","defined-in-2#Defined in":"agent/Agent.ts:247"}},"/jsdoc/classes/Dna":{"title":"Class: Dna","data":{"":"@coasys/ad4m / Exports / Dna","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"file\nnick\nzomeCalls","constructors-1#Constructors":"","constructor#constructor":"• new Dna()","properties-1#Properties":"","file#file":"• file: Buffer","defined-in#Defined in":"language/LanguageContext.ts:23","nick#nick":"• nick: string","defined-in-1#Defined in":"language/LanguageContext.ts:24","zomecalls#zomeCalls":"• zomeCalls: [string, string][]","defined-in-2#Defined in":"language/LanguageContext.ts:25"}},"/jsdoc/classes/EntanglementProof":{"title":"Class: EntanglementProof","data":{"":"@coasys/ad4m / Exports / EntanglementProof","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"deviceKey\ndeviceKeySignedByDid\ndeviceKeyType\ndid\ndidSignedByDeviceKey\ndidSigningKeyId","constructors-1#Constructors":"","constructor#constructor":"• new EntanglementProof(did, didSigningKeyId, deviceKeyType, deviceKey, deviceKeySignedByDid, didSignedByDeviceKey?)","parameters#Parameters":"Name\tType\tdid\tstring\tdidSigningKeyId\tstring\tdeviceKeyType\tstring\tdeviceKey\tstring\tdeviceKeySignedByDid\tstring\tdidSignedByDeviceKey?\tstring","defined-in#Defined in":"agent/Agent.ts:75","properties-1#Properties":"","devicekey#deviceKey":"• deviceKey: string","defined-in-1#Defined in":"agent/Agent.ts:67","devicekeysignedbydid#deviceKeySignedByDid":"• deviceKeySignedByDid: string","defined-in-2#Defined in":"agent/Agent.ts:70","devicekeytype#deviceKeyType":"• deviceKeyType: string","defined-in-3#Defined in":"agent/Agent.ts:64","did#did":"• did: string","defined-in-4#Defined in":"agent/Agent.ts:58","didsignedbydevicekey#didSignedByDeviceKey":"• Optional didSignedByDeviceKey: string","defined-in-5#Defined in":"agent/Agent.ts:73","didsigningkeyid#didSigningKeyId":"• didSigningKeyId: string","defined-in-6#Defined in":"agent/Agent.ts:61"}},"/jsdoc/classes/EntanglementProofInput":{"title":"Class: EntanglementProofInput","data":{"":"@coasys/ad4m / Exports / EntanglementProofInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"deviceKey\ndeviceKeySignedByDid\ndeviceKeyType\ndid\ndidSignedByDeviceKey\ndidSigningKeyId","constructors-1#Constructors":"","constructor#constructor":"• new EntanglementProofInput(did, didSigningKeyId, deviceKeyType, deviceKey, deviceKeySignedByDid, didSignedByDeviceKey)","parameters#Parameters":"Name\tType\tdid\tstring\tdidSigningKeyId\tstring\tdeviceKeyType\tstring\tdeviceKey\tstring\tdeviceKeySignedByDid\tstring\tdidSignedByDeviceKey\tstring","defined-in#Defined in":"agent/Agent.ts:112","properties-1#Properties":"","devicekey#deviceKey":"• deviceKey: string","defined-in-1#Defined in":"agent/Agent.ts:104","devicekeysignedbydid#deviceKeySignedByDid":"• deviceKeySignedByDid: string","defined-in-2#Defined in":"agent/Agent.ts:107","devicekeytype#deviceKeyType":"• deviceKeyType: string","defined-in-3#Defined in":"agent/Agent.ts:101","did#did":"• did: string","defined-in-4#Defined in":"agent/Agent.ts:95","didsignedbydevicekey#didSignedByDeviceKey":"• didSignedByDeviceKey: string","defined-in-5#Defined in":"agent/Agent.ts:110","didsigningkeyid#didSigningKeyId":"• didSigningKeyId: string","defined-in-6#Defined in":"agent/Agent.ts:98"}},"/jsdoc/classes/Expression":{"title":"Class: Expression","data":{"":"@coasys/ad4m / Exports / Expression","hierarchy#Hierarchy":"any↳ Expression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new Expression()","inherited-from#Inherited from":"ExpressionGeneric(Object).constructor"}},"/jsdoc/classes/ExpressionProof":{"title":"Class: ExpressionProof","data":{"":"@coasys/ad4m / Exports / ExpressionProof","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"invalid\nkey\nsignature\nvalid","constructors-1#Constructors":"","constructor#constructor":"• new ExpressionProof(sig, k)","parameters#Parameters":"Name\tType\tsig\tstring\tk\tstring","defined-in#Defined in":"expression/Expression.ts:20","properties-1#Properties":"","invalid#invalid":"• Optional invalid: boolean","defined-in-1#Defined in":"expression/Expression.ts:18","key#key":"• key: string","defined-in-2#Defined in":"expression/Expression.ts:12","signature#signature":"• signature: string","defined-in-3#Defined in":"expression/Expression.ts:9","valid#valid":"• Optional valid: boolean","defined-in-4#Defined in":"expression/Expression.ts:15"}},"/jsdoc/classes/ExpressionProofInput":{"title":"Class: ExpressionProofInput","data":{"":"@coasys/ad4m / Exports / ExpressionProofInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"invalid\nkey\nsignature\nvalid","constructors-1#Constructors":"","constructor#constructor":"• new ExpressionProofInput()","properties-1#Properties":"","invalid#invalid":"• Optional invalid: boolean","defined-in#Defined in":"expression/Expression.ts:38","key#key":"• key: string","defined-in-1#Defined in":"expression/Expression.ts:32","signature#signature":"• signature: string","defined-in-2#Defined in":"expression/Expression.ts:29","valid#valid":"• Optional valid: boolean","defined-in-3#Defined in":"expression/Expression.ts:35"}},"/jsdoc/classes/ExpressionRef":{"title":"Class: ExpressionRef","data":{"":"@coasys/ad4m / Exports / ExpressionRef","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"expression\nlanguage","constructors-1#Constructors":"","constructor#constructor":"• new ExpressionRef(lang, expr)","parameters#Parameters":"Name\tType\tlang\tLanguageRef\texpr\tstring","defined-in#Defined in":"expression/ExpressionRef.ts:14","properties-1#Properties":"","expression#expression":"• expression: string","defined-in-1#Defined in":"expression/ExpressionRef.ts:12","language#language":"• language: LanguageRef","defined-in-2#Defined in":"expression/ExpressionRef.ts:9"}},"/jsdoc/classes/ExpressionRendered":{"title":"Class: ExpressionRendered","data":{"":"@coasys/ad4m / Exports / ExpressionRendered","hierarchy#Hierarchy":"any↳ ExpressionRendered","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"icon\nlanguage","constructors-1#Constructors":"","constructor#constructor":"• new ExpressionRendered()","inherited-from#Inherited from":"ExpressionGeneric(String).constructor","properties-1#Properties":"","icon#icon":"• icon: Icon","defined-in#Defined in":"expression/Expression.ts:94","language#language":"• language: LanguageRef","defined-in-1#Defined in":"expression/Expression.ts:91"}},"/jsdoc/classes/InteractionCall":{"title":"Class: InteractionCall","data":{"":"@coasys/ad4m / Exports / InteractionCall","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"name\nparametersStringified","accessors#Accessors":"parameters","constructors-1#Constructors":"","constructor#constructor":"• new InteractionCall(name, parameters)","parameters#Parameters":"Name\tType\tname\tstring\tparameters\tobject","defined-in#Defined in":"language/Language.ts:244","properties-1#Properties":"","name#name":"• name: string","defined-in-1#Defined in":"language/Language.ts:236","parametersstringified#parametersStringified":"• parametersStringified: string","defined-in-2#Defined in":"language/Language.ts:238","accessors-1#Accessors":"","parameters-1#parameters":"• get parameters(): object","returns#Returns":"object","defined-in-3#Defined in":"language/Language.ts:240"}},"/jsdoc/classes/InteractionMeta":{"title":"Class: InteractionMeta","data":{"":"@coasys/ad4m / Exports / InteractionMeta","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"label\nname\nparameters","constructors-1#Constructors":"","constructor#constructor":"• new InteractionMeta()","properties-1#Properties":"","label#label":"• label: string","defined-in#Defined in":"language/Language.ts:218","name#name":"• name: string","defined-in-1#Defined in":"language/Language.ts:221","parameters#parameters":"• parameters: InteractionParameter[]","defined-in-2#Defined in":"language/Language.ts:224"}},"/jsdoc/classes/LanguageExpression":{"title":"Class: LanguageExpression","data":{"":"@coasys/ad4m / Exports / LanguageExpression","hierarchy#Hierarchy":"any↳ LanguageExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new LanguageExpression()","inherited-from#Inherited from":"ExpressionGeneric(LanguageMetaInternal).constructor"}},"/jsdoc/classes/Icon":{"title":"Class: Icon","data":{"":"@coasys/ad4m / Exports / Icon","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"code","constructors-1#Constructors":"","constructor#constructor":"• new Icon(code)","parameters#Parameters":"Name\tType\tcode\tstring","defined-in#Defined in":"language/Icon.ts:8","properties-1#Properties":"","code#code":"• code: string","defined-in-1#Defined in":"language/Icon.ts:6"}},"/jsdoc/classes/LanguageLanguageInput":{"title":"Class: LanguageLanguageInput","data":{"":"@coasys/ad4m / Exports / LanguageLanguageInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"bundle\nmeta","constructors-1#Constructors":"","constructor#constructor":"• new LanguageLanguageInput()","properties-1#Properties":"","bundle#bundle":"• bundle: string","defined-in#Defined in":"language/LanguageMeta.ts:68","meta#meta":"• meta: LanguageMetaInternal","defined-in-1#Defined in":"language/LanguageMeta.ts:69"}},"/jsdoc/classes/LanguageMeta":{"title":"Class: LanguageMeta","data":{"":"@coasys/ad4m / Exports / LanguageMeta","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"address\nauthor\ndescription\nname\npossibleTemplateParams\nsourceCodeLink\ntemplateAppliedParams\ntemplateSourceLanguageAddress\ntemplated","constructors-1#Constructors":"","constructor#constructor":"• new LanguageMeta()","properties-1#Properties":"","address#address":"• address: string","defined-in#Defined in":"language/LanguageMeta.ts:10","author#author":"• author: string","defined-in-1#Defined in":"language/LanguageMeta.ts:16","description#description":"• description: string","defined-in-2#Defined in":"language/LanguageMeta.ts:13","name#name":"• name: string","defined-in-3#Defined in":"language/LanguageMeta.ts:7","possibletemplateparams#possibleTemplateParams":"• Optional possibleTemplateParams: string[]","defined-in-4#Defined in":"language/LanguageMeta.ts:28","sourcecodelink#sourceCodeLink":"• Optional sourceCodeLink: string","defined-in-5#Defined in":"language/LanguageMeta.ts:31","templateappliedparams#templateAppliedParams":"• Optional templateAppliedParams: string","defined-in-6#Defined in":"language/LanguageMeta.ts:25","templatesourcelanguageaddress#templateSourceLanguageAddress":"• Optional templateSourceLanguageAddress: string","defined-in-7#Defined in":"language/LanguageMeta.ts:22","templated#templated":"• templated: boolean","defined-in-8#Defined in":"language/LanguageMeta.ts:19"}},"/jsdoc/classes/LanguageMetaInternal":{"title":"Class: LanguageMetaInternal","data":{"":"@coasys/ad4m / Exports / LanguageMetaInternal","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"address\ndescription\nname\npossibleTemplateParams\nsourceCodeLink\ntemplateAppliedParams\ntemplateSourceLanguageAddress","constructors-1#Constructors":"","constructor#constructor":"• new LanguageMetaInternal()","properties-1#Properties":"","address#address":"• address: string","defined-in#Defined in":"language/LanguageMeta.ts:57","description#description":"• description: string","defined-in-1#Defined in":"language/LanguageMeta.ts:58","name#name":"• name: string","defined-in-2#Defined in":"language/LanguageMeta.ts:56","possibletemplateparams#possibleTemplateParams":"• Optional possibleTemplateParams: string[]","defined-in-3#Defined in":"language/LanguageMeta.ts:61","sourcecodelink#sourceCodeLink":"• Optional sourceCodeLink: string","defined-in-4#Defined in":"language/LanguageMeta.ts:62","templateappliedparams#templateAppliedParams":"• Optional templateAppliedParams: string","defined-in-5#Defined in":"language/LanguageMeta.ts:60","templatesourcelanguageaddress#templateSourceLanguageAddress":"• Optional templateSourceLanguageAddress: string","defined-in-6#Defined in":"language/LanguageMeta.ts:59"}},"/jsdoc/classes/LanguageRef":{"title":"Class: LanguageRef","data":{"":"@coasys/ad4m / Exports / LanguageRef","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"address\nname","constructors-1#Constructors":"","constructor#constructor":"• new LanguageRef(address?, name?)","parameters#Parameters":"Name\tType\taddress?\tstring\tname?\tstring","defined-in#Defined in":"language/LanguageRef.ts:14","properties-1#Properties":"","address#address":"• address: string","defined-in-1#Defined in":"language/LanguageRef.ts:9","name#name":"• name: string","defined-in-2#Defined in":"language/LanguageRef.ts:12"}},"/jsdoc/classes/LanguageHandle":{"title":"Class: LanguageHandle","data":{"":"@coasys/ad4m / Exports / LanguageHandle","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"address\nconstructorIcon\nicon\nname\nsettings\nsettingsIcon","constructors-1#Constructors":"","constructor#constructor":"• new LanguageHandle()","properties-1#Properties":"","address#address":"• address: string","defined-in#Defined in":"language/LanguageHandle.ts:10","constructoricon#constructorIcon":"• Optional constructorIcon: Icon","defined-in-1#Defined in":"language/LanguageHandle.ts:19","icon#icon":"• Optional icon: Icon","defined-in-2#Defined in":"language/LanguageHandle.ts:16","name#name":"• name: string","defined-in-3#Defined in":"language/LanguageHandle.ts:7","settings#settings":"• Optional settings: string","defined-in-4#Defined in":"language/LanguageHandle.ts:13","settingsicon#settingsIcon":"• Optional settingsIcon: Icon","defined-in-5#Defined in":"language/LanguageHandle.ts:22"}},"/jsdoc/classes/Link":{"title":"Class: Link","data":{"":"@coasys/ad4m / Exports / Link","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"predicate\nsource\ntarget","constructors-1#Constructors":"","constructor#constructor":"• new Link(obj)","parameters#Parameters":"Name\tType\tobj\tany","defined-in#Defined in":"links/Links.ts:16","properties-1#Properties":"","predicate#predicate":"• Optional predicate: string","defined-in-1#Defined in":"links/Links.ts:14","source#source":"• source: string","defined-in-2#Defined in":"links/Links.ts:8","target#target":"• target: string","defined-in-3#Defined in":"links/Links.ts:11"}},"/jsdoc/classes/LanguageMetaInput":{"title":"Class: LanguageMetaInput","data":{"":"@coasys/ad4m / Exports / LanguageMetaInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"description\nname\npossibleTemplateParams\nsourceCodeLink","constructors-1#Constructors":"","constructor#constructor":"• new LanguageMetaInput(name?, description?)","parameters#Parameters":"Name\tType\tname?\tstring\tdescription?\tstring","defined-in#Defined in":"language/LanguageMeta.ts:48","properties-1#Properties":"","description#description":"• description: string","defined-in-1#Defined in":"language/LanguageMeta.ts:40","name#name":"• name: string","defined-in-2#Defined in":"language/LanguageMeta.ts:37","possibletemplateparams#possibleTemplateParams":"• Optional possibleTemplateParams: string[]","defined-in-3#Defined in":"language/LanguageMeta.ts:43","sourcecodelink#sourceCodeLink":"• Optional sourceCodeLink: string","defined-in-4#Defined in":"language/LanguageMeta.ts:46"}},"/jsdoc/classes/LinkExpression":{"title":"Class: LinkExpression","data":{"":"@coasys/ad4m / Exports / LinkExpression","hierarchy#Hierarchy":"any↳ LinkExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"status","methods#Methods":"hash","constructors-1#Constructors":"","constructor#constructor":"• new LinkExpression()","inherited-from#Inherited from":"ExpressionGeneric(Link).constructor","properties-1#Properties":"","status#status":"• Optional status: LinkStatus","defined-in#Defined in":"links/Links.ts:72","methods-1#Methods":"","hash#hash":"▸ hash(): number","returns#Returns":"number","defined-in-1#Defined in":"links/Links.ts:59"}},"/jsdoc/classes/LinkExpressionMutations":{"title":"Class: LinkExpressionMutations","data":{"":"@coasys/ad4m / Exports / LinkExpressionMutations","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"additions\nremovals","constructors-1#Constructors":"","constructor#constructor":"• new LinkExpressionMutations(additions, removals)","parameters#Parameters":"Name\tType\tadditions\tLinkExpression[]\tremovals\tLinkExpression[]","defined-in#Defined in":"links/Links.ts:39","properties-1#Properties":"","additions#additions":"• additions: LinkExpression[]","defined-in-1#Defined in":"links/Links.ts:34","removals#removals":"• removals: LinkExpression[]","defined-in-2#Defined in":"links/Links.ts:37"}},"/jsdoc/classes/LinkExpressionInput":{"title":"Class: LinkExpressionInput","data":{"":"@coasys/ad4m / Exports / LinkExpressionInput","hierarchy#Hierarchy":"any↳ LinkExpressionInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"hash\nstatus","constructors-1#Constructors":"","constructor#constructor":"• new LinkExpressionInput()","inherited-from#Inherited from":"ExpressionGenericInput(LinkInput).constructor","properties-1#Properties":"","hash#hash":"• hash: () => number","type-declaration#Type declaration":"▸ (): number","returns#Returns":"number","defined-in#Defined in":"links/Links.ts:77","status#status":"• Optional status: LinkStatus","defined-in-1#Defined in":"links/Links.ts:80"}},"/jsdoc/classes/LinkExpressionUpdated":{"title":"Class: LinkExpressionUpdated","data":{"":"@coasys/ad4m / Exports / LinkExpressionUpdated","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"newLink\noldLink","constructors-1#Constructors":"","constructor#constructor":"• new LinkExpressionUpdated(oldLink, newLink)","parameters#Parameters":"Name\tType\toldLink\tLinkExpression\tnewLink\tLinkExpression","defined-in#Defined in":"links/Links.ts:103","properties-1#Properties":"","newlink#newLink":"• newLink: LinkExpression","defined-in-1#Defined in":"links/Links.ts:101","oldlink#oldLink":"• oldLink: LinkExpression","defined-in-2#Defined in":"links/Links.ts:98"}},"/jsdoc/classes/InteractionParameter":{"title":"Class: InteractionParameter","data":{"":"@coasys/ad4m / Exports / InteractionParameter","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"name\ntype","constructors-1#Constructors":"","constructor#constructor":"• new InteractionParameter()","properties-1#Properties":"","name#name":"• name: string","defined-in#Defined in":"language/Language.ts:209","type#type":"• type: string","defined-in-1#Defined in":"language/Language.ts:212"}},"/jsdoc/classes/LinkQuery":{"title":"Class: LinkQuery","data":{"":"@coasys/ad4m / Exports / LinkQuery","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"fromDate\nlimit\npredicate\nsource\ntarget\nuntilDate","methods#Methods":"isMatch","constructors-1#Constructors":"","constructor#constructor":"• new LinkQuery(obj)","parameters#Parameters":"Name\tType\tobj\tobject","defined-in#Defined in":"perspectives/LinkQuery.ts:25","properties-1#Properties":"","fromdate#fromDate":"• Optional fromDate: Date","defined-in-1#Defined in":"perspectives/LinkQuery.ts:17","limit#limit":"• Optional limit: number","defined-in-2#Defined in":"perspectives/LinkQuery.ts:23","predicate#predicate":"• Optional predicate: string","defined-in-3#Defined in":"perspectives/LinkQuery.ts:14","source#source":"• Optional source: string","defined-in-4#Defined in":"perspectives/LinkQuery.ts:8","target#target":"• Optional target: string","defined-in-5#Defined in":"perspectives/LinkQuery.ts:11","untildate#untilDate":"• Optional untilDate: Date","defined-in-6#Defined in":"perspectives/LinkQuery.ts:20","methods-1#Methods":"","ismatch#isMatch":"▸ isMatch(l): boolean","parameters-1#Parameters":"Name\tType\tl\tLink","returns#Returns":"boolean","defined-in-7#Defined in":"perspectives/LinkQuery.ts:51"}},"/jsdoc/classes/LinkInput":{"title":"Class: LinkInput","data":{"":"@coasys/ad4m / Exports / LinkInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"predicate\nsource\ntarget","constructors-1#Constructors":"","constructor#constructor":"• new LinkInput()","properties-1#Properties":"","predicate#predicate":"• Optional predicate: string","defined-in#Defined in":"links/Links.ts:54","source#source":"• source: string","defined-in-1#Defined in":"links/Links.ts:48","target#target":"• target: string","defined-in-2#Defined in":"links/Links.ts:51"}},"/jsdoc/classes/NeighbourhoodExpression":{"title":"Class: NeighbourhoodExpression","data":{"":"@coasys/ad4m / Exports / NeighbourhoodExpression","hierarchy#Hierarchy":"any↳ NeighbourhoodExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new NeighbourhoodExpression()","inherited-from#Inherited from":"ExpressionGeneric(Neighbourhood).constructor"}},"/jsdoc/classes/LinkMutations":{"title":"Class: LinkMutations","data":{"":"@coasys/ad4m / Exports / LinkMutations","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"additions\nremovals","constructors-1#Constructors":"","constructor#constructor":"• new LinkMutations()","properties-1#Properties":"","additions#additions":"• additions: LinkInput[]","defined-in#Defined in":"links/Links.ts:26","removals#removals":"• removals: LinkExpressionInput[]","defined-in-1#Defined in":"links/Links.ts:29"}},"/jsdoc/classes/ModelQueryBuilder":{"title":"Class: ModelQueryBuilder<T>","data":{"":"@coasys/ad4m / Exports / ModelQueryBuilderQuery builder for Ad4mModel queries.\nAllows building queries with a fluent interface and either running them once\nor subscribing to updates.Example\nconst builder = Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .order({ rating: \"DESC\" })\n  .limit(10);\n// Run once\nconst recipes = await builder.run();\n// Or subscribe to updates\nawait builder.subscribe(recipes => {\n  console.log(\"Updated recipes:\", recipes);\n});","type-parameters#Type parameters":"Name\tType\tT\textends Ad4mModel","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"ctor\ncurrentSubscription\nmodelClassName\nperspective\nqueryParams\nuseSurrealDBFlag","methods#Methods":"collections\ncount\ncountSubscribe\ndispose\nget\nlimit\noffset\norder\noverrideModelClassName\npaginate\npaginateSubscribe\nproperties\nsource\nsubscribe\nuseSurrealDB\nwhere","constructors-1#Constructors":"","constructor#constructor":"• new ModelQueryBuilder<T>(perspective, ctor, query?)","type-parameters-1#Type parameters":"Name\tType\tT\textends Ad4mModel<T>","parameters#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tctor\ttypeof Ad4mModel\tquery?\tQuery","defined-in#Defined in":"model/Ad4mModel.ts:2503","properties-1#Properties":"","ctor#ctor":"• Private ctor: typeof Ad4mModel","defined-in-1#Defined in":"model/Ad4mModel.ts:2499","currentsubscription#currentSubscription":"• Private Optional currentSubscription: any","defined-in-2#Defined in":"model/Ad4mModel.ts:2500","modelclassname#modelClassName":"• Private modelClassName: string = null","defined-in-3#Defined in":"model/Ad4mModel.ts:2498","perspective#perspective":"• Private perspective: PerspectiveProxy","defined-in-4#Defined in":"model/Ad4mModel.ts:2496","queryparams#queryParams":"• Private queryParams: Query = {}","defined-in-5#Defined in":"model/Ad4mModel.ts:2497","usesurrealdbflag#useSurrealDBFlag":"• Private useSurrealDBFlag: boolean = true","defined-in-6#Defined in":"model/Ad4mModel.ts:2501","methods-1#Methods":"","collections#collections":"▸ collections(collections): ModelQueryBuilder<T>Specifies which collections to include in the results.","parameters-1#Parameters":"Name\tType\tDescription\tcollections\tstring[]\tArray of collection names to include","returns#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.collections([\"ingredients\", \"steps\"])","defined-in-7#Defined in":"model/Ad4mModel.ts:2640","count#count":"▸ count(): Promise<number>Gets the total count of matching entities.","returns-1#Returns":"Promise<number>Total countExample\nconst totalDesserts = await Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .count();","defined-in-8#Defined in":"model/Ad4mModel.ts:2794","countsubscribe#countSubscribe":"▸ countSubscribe(callback): Promise<number>Subscribes to count updates for matching entities.This method:\nCreates and initializes a SurrealDB live query subscription for the count (default)\nSets up the callback to process future count updates\nReturns the initial count immediately\nRemember to call dispose() when you're done with the subscription\nto clean up resources.","parameters-2#Parameters":"Name\tType\tDescription\tcallback\t(count: number) => void\tFunction to call with updated count","returns-2#Returns":"Promise<number>Initial countExample\nconst builder = Recipe.query(perspective)\n  .where({ status: \"active\" });\nconst initialCount = await builder.countSubscribe(count => {\n  console.log(\"Active items:\", count);\n});\n// When done with subscription:\nbuilder.dispose();\nRemarksBy default, this uses SurrealDB live queries for real-time updates.\nProlog subscriptions remain available via .useSurrealDB(false).","defined-in-9#Defined in":"model/Ad4mModel.ts:2841","dispose#dispose":"▸ dispose(): voidDisposes of the current subscription if one exists.This method:\nStops the keepalive signals to the subscription\nUnsubscribes from GraphQL subscription updates\nNotifies the backend to clean up subscription resources\nClears the subscription reference\nYou should call this method when you're done with a subscription\nto prevent memory leaks and ensure proper cleanup.","returns-3#Returns":"void","defined-in-10#Defined in":"model/Ad4mModel.ts:2521","get#get":"▸ get(): Promise<T[]>Executes the query once and returns the results.","returns-4#Returns":"Promise<T[]>Array of matching entitiesExample\nconst recipes = await Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .get();","defined-in-11#Defined in":"model/Ad4mModel.ts:2692","limit#limit":"▸ limit(limit): ModelQueryBuilder<T>Sets the maximum number of results to return.","parameters-3#Parameters":"Name\tType\tDescription\tlimit\tnumber\tMaximum number of results","returns-5#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.limit(10)","defined-in-12#Defined in":"model/Ad4mModel.ts:2576","offset#offset":"▸ offset(offset): ModelQueryBuilder<T>Sets the number of results to skip.","parameters-4#Parameters":"Name\tType\tDescription\toffset\tnumber\tNumber of results to skip","returns-6#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.offset(20) // Skip first 20 results","defined-in-13#Defined in":"model/Ad4mModel.ts:2592","order#order":"▸ order(orderBy): ModelQueryBuilder<T>Sets the order for the query results.","parameters-5#Parameters":"Name\tType\tDescription\torderBy\tOrder\tThe ordering criteria","returns-7#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.order({ createdAt: \"DESC\" })","defined-in-14#Defined in":"model/Ad4mModel.ts:2560","overridemodelclassname#overrideModelClassName":"▸ overrideModelClassName(className): ModelQueryBuilder<T>","parameters-6#Parameters":"Name\tType\tclassName\tstring","returns-8#Returns":"ModelQueryBuilder<T>","defined-in-15#Defined in":"model/Ad4mModel.ts:2645","paginate#paginate":"▸ paginate(pageSize, pageNumber): Promise<PaginationResult<T>>Gets a page of results with pagination metadata.","parameters-7#Parameters":"Name\tType\tDescription\tpageSize\tnumber\tNumber of items per page\tpageNumber\tnumber\tWhich page to retrieve (1-based)","returns-9#Returns":"Promise<PaginationResult<T>>Paginated results with metadataExample\nconst page = await Recipe.query(perspective)\n  .where({ category: \"Main\" })\n  .paginate(10, 1);\nconsole.log(`Page ${page.pageNumber}, ${page.results.length} of ${page.totalCount}`);","defined-in-16#Defined in":"model/Ad4mModel.ts:2890","paginatesubscribe#paginateSubscribe":"▸ paginateSubscribe(pageSize, pageNumber, callback): Promise<PaginationResult<T>>Subscribes to paginated results updates.This method:\nCreates and initializes a SurrealDB live query subscription for the paginated results (default)\nSets up the callback to process future page updates\nReturns the initial page immediately\nRemember to call dispose() when you're done with the subscription\nto clean up resources.","parameters-8#Parameters":"Name\tType\tDescription\tpageSize\tnumber\tNumber of items per page\tpageNumber\tnumber\tWhich page to retrieve (1-based)\tcallback\t(results: PaginationResult<T>) => void\tFunction to call with updated pagination results","returns-10#Returns":"Promise<PaginationResult<T>>Initial pagination resultsExample\nconst builder = Recipe.query(perspective)\n  .where({ category: \"Main\" });\nconst initialPage = await builder.paginateSubscribe(10, 1, page => {\n  console.log(\"Updated page:\", page.results);\n});\n// When done with subscription:\nbuilder.dispose();\nRemarksBy default, this uses SurrealDB live queries for real-time updates.\nProlog subscriptions remain available via .useSurrealDB(false).","defined-in-17#Defined in":"model/Ad4mModel.ts:2938","properties-2#properties":"▸ properties(properties): ModelQueryBuilder<T>Specifies which properties to include in the results.","parameters-9#Parameters":"Name\tType\tDescription\tproperties\tstring[]\tArray of property names to include","returns-11#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.properties([\"name\", \"description\", \"rating\"])","defined-in-18#Defined in":"model/Ad4mModel.ts:2624","source#source":"▸ source(source): ModelQueryBuilder<T>Sets the source filter for the query.","parameters-10#Parameters":"Name\tType\tDescription\tsource\tstring\tThe source to filter by","returns-12#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.source(\"ad4m://self\")","defined-in-19#Defined in":"model/Ad4mModel.ts:2608","subscribe#subscribe":"▸ subscribe(callback): Promise<T[]>Subscribes to the query and receives updates when results change.This method:\nCreates and initializes a SurrealDB live query subscription (default)\nSets up the callback to process future updates\nReturns the initial results immediately\nRemember to call dispose() when you're done with the subscription\nto clean up resources.","parameters-11#Parameters":"Name\tType\tDescription\tcallback\t(results: T[]) => void\tFunction to call with updated results","returns-13#Returns":"Promise<T[]>Initial results arrayExample\nconst builder = Recipe.query(perspective)\n  .where({ status: \"cooking\" });\nconst initialRecipes = await builder.subscribe(recipes => {\n  console.log(\"Updated recipes:\", recipes);\n});\n// When done with subscription:\nbuilder.dispose();\nRemarksBy default, this uses SurrealDB live queries for real-time updates.\nProlog subscriptions remain available via .useSurrealDB(false).","defined-in-20#Defined in":"model/Ad4mModel.ts:2737","usesurrealdb#useSurrealDB":"▸ useSurrealDB(enabled?): ModelQueryBuilder<T>Enables or disables SurrealDB query path.","parameters-12#Parameters":"Name\tType\tDefault value\tDescription\tenabled\tboolean\ttrue\tWhether to use SurrealDB (default: true, 10-100x faster) or Prolog (legacy)","returns-14#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n// Use SurrealDB (default)\nconst recipes = await Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .useSurrealDB(true)\n  .get();\n// Use Prolog (legacy)\nconst recipesProlog = await Recipe.query(perspective)\n  .where({ category: \"Dessert\" })\n  .useSurrealDB(false)\n  .get();\nRemarksNote: Subscriptions (subscribe(), countSubscribe(), paginateSubscribe()) default to SurrealDB live queries\nif useSurrealDB(true) is set (default).","defined-in-21#Defined in":"model/Ad4mModel.ts:2675","where#where":"▸ where(conditions): ModelQueryBuilder<T>Adds where conditions to the query.","parameters-13#Parameters":"Name\tType\tDescription\tconditions\tWhere\tThe conditions to filter by","returns-15#Returns":"ModelQueryBuilder<T>The query builder for chainingExample\n.where({\n  category: \"Dessert\",\n  rating: { gt: 4 },\n  tags: [\"vegan\", \"quick\"],\n  published: true\n})","defined-in-22#Defined in":"model/Ad4mModel.ts:2544"}},"/jsdoc/classes/Neighbourhood":{"title":"Class: Neighbourhood","data":{"":"@coasys/ad4m / Exports / Neighbourhood","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"linkLanguage\nmeta","constructors-1#Constructors":"","constructor#constructor":"• new Neighbourhood(linkLanguage, meta)","parameters#Parameters":"Name\tType\tlinkLanguage\tstring\tmeta\tPerspective","defined-in#Defined in":"neighbourhood/Neighbourhood.ts:15","properties-1#Properties":"","linklanguage#linkLanguage":"• linkLanguage: string","defined-in-1#Defined in":"neighbourhood/Neighbourhood.ts:10","meta#meta":"• meta: Perspective","defined-in-2#Defined in":"neighbourhood/Neighbourhood.ts:13"}},"/jsdoc/classes/NeighbourhoodProxy":{"title":"Class: NeighbourhoodProxy","data":{"":"@coasys/ad4m / Exports / NeighbourhoodProxy","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#client\n#pID","methods#Methods":"addSignalHandler\nhasTelepresenceAdapter\nonlineAgents\notherAgents\nremoveSignalHandler\nsendBroadcast\nsendBroadcastU\nsendSignal\nsendSignalU\nsetOnlineStatus\nsetOnlineStatusU","constructors-1#Constructors":"","constructor#constructor":"• new NeighbourhoodProxy(client, pID)","parameters#Parameters":"Name\tType\tclient\tNeighbourhoodClient\tpID\tstring","defined-in#Defined in":"neighbourhood/NeighbourhoodProxy.ts:10","properties-1#Properties":"","client##client":"• Private #client: NeighbourhoodClient","defined-in-1#Defined in":"neighbourhood/NeighbourhoodProxy.ts:7","pid##pID":"• Private #pID: string","defined-in-2#Defined in":"neighbourhood/NeighbourhoodProxy.ts:8","methods-1#Methods":"","addsignalhandler#addSignalHandler":"▸ addSignalHandler(handler): Promise<void>","parameters-1#Parameters":"Name\tType\thandler\t(payload: PerspectiveExpression) => void","returns#Returns":"Promise<void>","defined-in-3#Defined in":"neighbourhood/NeighbourhoodProxy.ts:51","hastelepresenceadapter#hasTelepresenceAdapter":"▸ hasTelepresenceAdapter(): Promise<boolean>","returns-1#Returns":"Promise<boolean>","defined-in-4#Defined in":"neighbourhood/NeighbourhoodProxy.ts:19","onlineagents#onlineAgents":"▸ onlineAgents(): Promise<OnlineAgent[]>","returns-2#Returns":"Promise<OnlineAgent[]>","defined-in-5#Defined in":"neighbourhood/NeighbourhoodProxy.ts:23","otheragents#otherAgents":"▸ otherAgents(): Promise<string[]>","returns-3#Returns":"Promise<string[]>","defined-in-6#Defined in":"neighbourhood/NeighbourhoodProxy.ts:15","removesignalhandler#removeSignalHandler":"▸ removeSignalHandler(handler): void","parameters-2#Parameters":"Name\tType\thandler\t(payload: PerspectiveExpression) => void","returns-4#Returns":"void","defined-in-7#Defined in":"neighbourhood/NeighbourhoodProxy.ts:55","sendbroadcast#sendBroadcast":"▸ sendBroadcast(payload, loopback?): Promise<boolean>","parameters-3#Parameters":"Name\tType\tDefault value\tpayload\tPerspective\tundefined\tloopback\tboolean\tfalse","returns-5#Returns":"Promise<boolean>","defined-in-8#Defined in":"neighbourhood/NeighbourhoodProxy.ts:43","sendbroadcastu#sendBroadcastU":"▸ sendBroadcastU(payload, loopback?): Promise<boolean>","parameters-4#Parameters":"Name\tType\tDefault value\tpayload\tPerspectiveUnsignedInput\tundefined\tloopback\tboolean\tfalse","returns-6#Returns":"Promise<boolean>","defined-in-9#Defined in":"neighbourhood/NeighbourhoodProxy.ts:47","sendsignal#sendSignal":"▸ sendSignal(remoteAgentDid, payload): Promise<boolean>","parameters-5#Parameters":"Name\tType\tremoteAgentDid\tstring\tpayload\tPerspective","returns-7#Returns":"Promise<boolean>","defined-in-10#Defined in":"neighbourhood/NeighbourhoodProxy.ts:35","sendsignalu#sendSignalU":"▸ sendSignalU(remoteAgentDid, payload): Promise<boolean>","parameters-6#Parameters":"Name\tType\tremoteAgentDid\tstring\tpayload\tPerspectiveUnsignedInput","returns-8#Returns":"Promise<boolean>","defined-in-11#Defined in":"neighbourhood/NeighbourhoodProxy.ts:39","setonlinestatus#setOnlineStatus":"▸ setOnlineStatus(status): Promise<boolean>","parameters-7#Parameters":"Name\tType\tstatus\tPerspective","returns-9#Returns":"Promise<boolean>","defined-in-12#Defined in":"neighbourhood/NeighbourhoodProxy.ts:27","setonlinestatusu#setOnlineStatusU":"▸ setOnlineStatusU(status): Promise<boolean>","parameters-8#Parameters":"Name\tType\tstatus\tPerspectiveUnsignedInput","returns-10#Returns":"Promise<boolean>","defined-in-13#Defined in":"neighbourhood/NeighbourhoodProxy.ts:31"}},"/jsdoc/classes/Perspective":{"title":"Class: Perspective","data":{"":"@coasys/ad4m / Exports / PerspectiveA Perspective represents subjective meaning, encoded through\nassociations between expressions, a.k.a. Links, that is a graph\nover the objective Expressions of any subset of Languages.This type represents the clean onotological concept of a Perspective.\nAn instance of this class can be regarded as an immutable snapshot of\na mutable perspective.The types PerspectiveProxy and PerspectiveHandle are used when dealing\nwith an instantiated mutable perspective as is done through most of\nthe GraphQL mutations.","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"links","methods#Methods":"get\ngetSingleTarget","constructors-1#Constructors":"","constructor#constructor":"• new Perspective(links?)","parameters#Parameters":"Name\tType\tlinks?\tLinkExpression[]","defined-in#Defined in":"perspectives/Perspective.ts:24","properties-1#Properties":"","links#links":"• links: LinkExpression[]The content of the perspective, a list/graph of links","defined-in-1#Defined in":"perspectives/Perspective.ts:22","methods-1#Methods":"","get#get":"▸ get(query): LinkExpression[]Convenience function for filtering links just like with PerspectiveProxy","parameters-1#Parameters":"Name\tType\tquery\tLinkQuery","returns#Returns":"LinkExpression[]","defined-in-2#Defined in":"perspectives/Perspective.ts:33","getsingletarget#getSingleTarget":"▸ getSingleTarget(query): string | voidConvenience function to get the target of the first link that matches the given query\nThis makes sense when the query is expected to return only one link\nand the target of that link is what you are looking for.","parameters-2#Parameters":"Name\tType\tquery\tLinkQuery","returns-1#Returns":"string | void","defined-in-3#Defined in":"perspectives/Perspective.ts:81"}},"/jsdoc/classes/OnlineAgent":{"title":"Class: OnlineAgent","data":{"":"@coasys/ad4m / Exports / OnlineAgent","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"did\nstatus","constructors-1#Constructors":"","constructor#constructor":"• new OnlineAgent()","properties-1#Properties":"","did#did":"• did: string","defined-in#Defined in":"language/Language.ts:253","status#status":"• status: PerspectiveExpression","defined-in-1#Defined in":"language/Language.ts:255"}},"/jsdoc/classes/PerspectiveAction":{"title":"Class: PerspectiveAction","data":{"":"@coasys/ad4m / Exports / PerspectiveAction","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"action\npredicate\nsource\ntarget","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveAction()","properties-1#Properties":"","action#action":"• action: string","defined-in#Defined in":"model/decorators.ts:6","predicate#predicate":"• predicate: string","defined-in-1#Defined in":"model/decorators.ts:8","source#source":"• source: string","defined-in-2#Defined in":"model/decorators.ts:7","target#target":"• target: string","defined-in-3#Defined in":"model/decorators.ts:9"}},"/jsdoc/classes/PerspectiveExpression":{"title":"Class: PerspectiveExpression","data":{"":"@coasys/ad4m / Exports / PerspectiveExpression","hierarchy#Hierarchy":"any↳ PerspectiveExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveExpression()","inherited-from#Inherited from":"ExpressionGeneric(Perspective).constructor"}},"/jsdoc/classes/PerspectiveDiff":{"title":"Class: PerspectiveDiff","data":{"":"@coasys/ad4m / Exports / PerspectiveDiff","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"additions\nremovals","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveDiff()","properties-1#Properties":"","additions#additions":"• additions: LinkExpression[]","defined-in#Defined in":"perspectives/PerspectiveDiff.ts:8","removals#removals":"• removals: LinkExpression[]","defined-in-1#Defined in":"perspectives/PerspectiveDiff.ts:11"}},"/jsdoc/classes/PerspectiveDiffExpression":{"title":"Class: PerspectiveDiffExpression","data":{"":"@coasys/ad4m / Exports / PerspectiveDiffExpression","hierarchy#Hierarchy":"any↳ PerspectiveDiffExpression","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveDiffExpression()","inherited-from#Inherited from":"ExpressionGeneric(PerspectiveDiff).constructor"}},"/jsdoc/classes/Literal":{"title":"Class: Literal","data":{"":"@coasys/ad4m / Exports / Literal","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#literal\n#url","methods#Methods":"get\ntoUrl\nfrom\nfromUrl","constructors-1#Constructors":"","constructor#constructor":"• new Literal()","properties-1#Properties":"","literal##literal":"• Private Optional #literal: any","defined-in#Defined in":"Literal.ts:10","url##url":"• Private Optional #url: string","defined-in-1#Defined in":"Literal.ts:11","methods-1#Methods":"","get#get":"▸ get(): any","returns#Returns":"any","defined-in-2#Defined in":"Literal.ts:52","tourl#toUrl":"▸ toUrl(): string","returns-1#Returns":"string","defined-in-3#Defined in":"Literal.ts:27","from#from":"▸ Static from(literal): Literal","parameters#Parameters":"Name\tType\tliteral\tany","returns-2#Returns":"Literal","defined-in-4#Defined in":"Literal.ts:21","fromurl#fromUrl":"▸ Static fromUrl(url): Literal","parameters-1#Parameters":"Name\tType\turl\tstring","returns-3#Returns":"Literal","defined-in-5#Defined in":"Literal.ts:13"}},"/jsdoc/classes/PerspectiveHandle":{"title":"Class: PerspectiveHandle","data":{"":"@coasys/ad4m / Exports / PerspectiveHandle","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"name\nneighbourhood\nsharedUrl\nstate\nuuid","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveHandle(uuid?, name?, state?)","parameters#Parameters":"Name\tType\tuuid?\tstring\tname?\tstring\tstate?\tPerspectiveState","defined-in#Defined in":"perspectives/PerspectiveHandle.ts:30","properties-1#Properties":"","name#name":"• name: string","defined-in-1#Defined in":"perspectives/PerspectiveHandle.ts:20","neighbourhood#neighbourhood":"• Optional neighbourhood: NeighbourhoodExpression","defined-in-2#Defined in":"perspectives/PerspectiveHandle.ts:28","sharedurl#sharedUrl":"• Optional sharedUrl: string","defined-in-3#Defined in":"perspectives/PerspectiveHandle.ts:25","state#state":"• state: PerspectiveState","defined-in-4#Defined in":"perspectives/PerspectiveHandle.ts:22","uuid#uuid":"• uuid: string","defined-in-5#Defined in":"perspectives/PerspectiveHandle.ts:18"}},"/jsdoc/classes/PerspectiveProxy":{"title":"Class: PerspectiveProxy","data":{"":"@coasys/ad4m / Exports / PerspectiveProxyPerspectiveProxy provides a high-level interface for working with AD4M Perspectives - agent-centric semantic graphs\nthat store and organize links between expressions.A Perspective is fundamentally a collection of links (subject-predicate-object triples) that represent an agent's view\nof their digital world. Through PerspectiveProxy, you can:\nAdd, remove, and query links\nWork with Social DNA (subject classes and flows)\nSubscribe to real-time updates\nShare perspectives as Neighbourhoods\nExecute Prolog queries for complex graph patterns\nExample\n// Create and work with links\nconst perspective = await ad4m.perspective.add(\"My Space\");\nawait perspective.add({\n  source: \"did:key:alice\",\n  predicate: \"knows\",\n  target: \"did:key:bob\"\n});\n// Query links\nconst friends = await perspective.get({\n  source: \"did:key:alice\",\n  predicate: \"knows\"\n});\n// Use Social DNA\nawait perspective.addSdna(todoClass, \"subject_class\");\nconst todo = await perspective.createSubject(\"Todo\", \"expression://123\");\n// Subscribe to changes\nperspective.addListener(\"link-added\", (link) => {\n  console.log(\"New link added:\", link);\n});","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#client\n#handle\n#perspectiveLinkAddedCallbacks\n#perspectiveLinkRemovedCallbacks\n#perspectiveLinkUpdatedCallbacks\n#perspectiveSyncStateChangeCallbacks\nname\nneighbourhood\nsharedUrl\nstate\nuuid","accessors#Accessors":"ai","methods#Methods":"add\naddLinkExpression\naddLinks\naddListener\naddSdna\naddSyncStateChangeListener\navailableFlows\nbuildQueryFromTemplate\ncommitBatch\ncreateBatch\ncreateExpression\ncreateSubject\nensureSDNASubjectClass\nexecuteAction\nexpressionsInFlowState\nflowActions\nflowState\nget\ngetAllSubjectInstances\ngetAllSubjectProxies\ngetExpression\ngetNeighbourhoodProxy\ngetSdna\ngetSdnaForClass\ngetSingleTarget\ngetSubjectData\ngetSubjectProxy\ninfer\nisSubjectInstance\nlinkMutations\nloadSnapshot\nquerySurrealDB\nremove\nremoveLinks\nremoveListener\nremoveSubject\nrunFlowAction\nsdnaFlows\nsetSingleTarget\nsnapshot\nstartFlow\nstringOrTemplateObjectToSubjectClassName\nsubjectClasses\nsubjectClassesByTemplate\nsubscribeInfer\nsubscribeSurrealDB\nupdate","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveProxy(handle, ad4m)Creates a new PerspectiveProxy instance.\nNote: Don't create this directly, use ad4m.perspective.add() instead.","parameters#Parameters":"Name\tType\thandle\tPerspectiveHandle\tad4m\tPerspectiveClient","defined-in#Defined in":"perspectives/PerspectiveProxy.ts:393","properties-1#Properties":"","client##client":"• Private #client: PerspectiveClient","defined-in-1#Defined in":"perspectives/PerspectiveProxy.ts:383","handle##handle":"• Private #handle: PerspectiveHandle","defined-in-2#Defined in":"perspectives/PerspectiveProxy.ts:382","perspectivelinkaddedcallbacks##perspectiveLinkAddedCallbacks":"• Private #perspectiveLinkAddedCallbacks: LinkCallback[]","defined-in-3#Defined in":"perspectives/PerspectiveProxy.ts:384","perspectivelinkremovedcallbacks##perspectiveLinkRemovedCallbacks":"• Private #perspectiveLinkRemovedCallbacks: LinkCallback[]","defined-in-4#Defined in":"perspectives/PerspectiveProxy.ts:385","perspectivelinkupdatedcallbacks##perspectiveLinkUpdatedCallbacks":"• Private #perspectiveLinkUpdatedCallbacks: LinkCallback[]","defined-in-5#Defined in":"perspectives/PerspectiveProxy.ts:386","perspectivesyncstatechangecallbacks##perspectiveSyncStateChangeCallbacks":"• Private #perspectiveSyncStateChangeCallbacks: SyncStateChangeCallback[]","defined-in-6#Defined in":"perspectives/PerspectiveProxy.ts:387","name#name":"• name: stringHuman-readable name of this perspective","defined-in-7#Defined in":"perspectives/PerspectiveProxy.ts:371","neighbourhood#neighbourhood":"• neighbourhood: NeighbourhoodExpressionIf this perspective is shared, this contains the Neighbourhood metadata","defined-in-8#Defined in":"perspectives/PerspectiveProxy.ts:377","sharedurl#sharedUrl":"• sharedUrl: stringIf this perspective is shared as a Neighbourhood, this is its URL","defined-in-9#Defined in":"perspectives/PerspectiveProxy.ts:374","state#state":"• state: PerspectiveStateCurrent sync state if this perspective is shared","defined-in-10#Defined in":"perspectives/PerspectiveProxy.ts:380","uuid#uuid":"• uuid: stringUnique identifier of this perspective","defined-in-11#Defined in":"perspectives/PerspectiveProxy.ts:368","accessors-1#Accessors":"","ai#ai":"• get ai(): AIClientReturns a proxy object for working with AI capabilities.","returns#Returns":"AIClientAIClient instanceExample\n// Use AI to analyze perspective content\nconst summary = await perspective.ai.summarize();\n// Generate new content\nconst suggestion = await perspective.ai.suggest(\"next action\");","defined-in-12#Defined in":"perspectives/PerspectiveProxy.ts:1303","methods-1#Methods":"","add#add":"▸ add(link, status?, batchId?): Promise<LinkExpression>Adds a new link to the perspective.","parameters-1#Parameters":"Name\tType\tDefault value\tDescription\tlink\tLink\tundefined\tThe link to add\tstatus\tLinkStatus\t'shared'\tWhether the link should be shared in a Neighbourhood\tbatchId?\tstring\tundefined\tOptional batch ID to group this operation with others","returns-1#Returns":"Promise<LinkExpression>The created LinkExpressionExample\n// Add a simple relationship\nawait perspective.add({\n  source: \"did:key:alice\",\n  predicate: \"follows\",\n  target: \"did:key:bob\"\n});\n// Add a local-only link\nawait perspective.add({\n  source: \"note://123\",\n  predicate: \"tag\",\n  target: \"private\"\n}, \"local\");","defined-in-13#Defined in":"perspectives/PerspectiveProxy.ts:583","addlinkexpression#addLinkExpression":"▸ addLinkExpression(link, status?, batchId?): Promise<LinkExpression>Adds a pre-signed LinkExpression to the perspective.","parameters-2#Parameters":"Name\tType\tDefault value\tDescription\tlink\tLinkExpression\tundefined\tThe signed LinkExpression to add\tstatus\tLinkStatus\t'shared'\tWhether the link should be shared\tbatchId?\tstring\tundefined\tOptional batch ID to group this operation with others","returns-2#Returns":"Promise<LinkExpression>The added LinkExpression","defined-in-14#Defined in":"perspectives/PerspectiveProxy.ts:631","addlinks#addLinks":"▸ addLinks(links, status?, batchId?): Promise<LinkExpression[]>Adds multiple links to the perspective in a single operation.\nMore efficient than adding links one by one.","parameters-3#Parameters":"Name\tType\tDefault value\tDescription\tlinks\tLink[]\tundefined\tArray of links to add\tstatus\tLinkStatus\t'shared'\tWhether the links should be shared\tbatchId?\tstring\tundefined\tOptional batch ID to group this operation with others","returns-3#Returns":"Promise<LinkExpression[]>Array of created LinkExpressions","defined-in-15#Defined in":"perspectives/PerspectiveProxy.ts:596","addlistener#addListener":"▸ addListener(type, cb): Promise<void>Subscribes to link changes in the perspective.","parameters-4#Parameters":"Name\tType\tDescription\ttype\tPerspectiveListenerTypes\tType of change to listen for\tcb\tLinkCallback\tCallback function","returns-4#Returns":"Promise<void>Example\n// Listen for new links\nperspective.addListener(\"link-added\", (link) => {\n  console.log(\"New link:\", link);\n});\n// Listen for removed links\nperspective.addListener(\"link-removed\", (link) => {\n  console.log(\"Link removed:\", link);\n});","defined-in-16#Defined in":"perspectives/PerspectiveProxy.ts:707","addsdna#addSdna":"▸ addSdna(name, sdnaCode, sdnaType): Promise<boolean>Adds the given Social DNA code to the perspective's SDNA code","parameters-5#Parameters":"Name\tType\tname\tstring\tsdnaCode\tstring\tsdnaType\t\"subject_class\" | \"flow\" | \"custom\"","returns-5#Returns":"Promise<boolean>","defined-in-17#Defined in":"perspectives/PerspectiveProxy.ts:961","addsyncstatechangelistener#addSyncStateChangeListener":"▸ addSyncStateChangeListener(cb): Promise<void>Subscribes to sync state changes if this perspective is shared.","parameters-6#Parameters":"Name\tType\tDescription\tcb\tSyncStateChangeCallback\tCallback function","returns-6#Returns":"Promise<void>Example\nperspective.addSyncStateChangeListener((state) => {\n  console.log(\"Sync state:\", state);\n});","defined-in-18#Defined in":"perspectives/PerspectiveProxy.ts:729","availableflows#availableFlows":"▸ availableFlows(exprAddr): Promise<string[]>Returns all Social DNA flows that can be started from the given expression","parameters-7#Parameters":"Name\tType\texprAddr\tstring","returns-7#Returns":"Promise<string[]>","defined-in-19#Defined in":"perspectives/PerspectiveProxy.ts:846","buildqueryfromtemplate#buildQueryFromTemplate":"▸ Private buildQueryFromTemplate(obj): string","parameters-8#Parameters":"Name\tType\tobj\tobject","returns-8#Returns":"string","defined-in-20#Defined in":"perspectives/PerspectiveProxy.ts:1154","commitbatch#commitBatch":"▸ commitBatch(batchId): Promise<LinkExpressionMutations>Commits a batch of operations","parameters-9#Parameters":"Name\tType\tbatchId\tstring","returns-9#Returns":"Promise<LinkExpressionMutations>","defined-in-21#Defined in":"perspectives/PerspectiveProxy.ts:662","createbatch#createBatch":"▸ createBatch(): Promise<string>Creates a new batch for grouping operations","returns-10#Returns":"Promise<string>","defined-in-22#Defined in":"perspectives/PerspectiveProxy.ts:657","createexpression#createExpression":"▸ createExpression(content, languageAddress): Promise<string>Creates a new Expression in the specified Language.","parameters-10#Parameters":"Name\tType\tDescription\tcontent\tany\tContent for the new Expression\tlanguageAddress\tstring\tAddress of the Language to use","returns-11#Returns":"Promise<string>URI of the created Expression","defined-in-23#Defined in":"perspectives/PerspectiveProxy.ts:684","createsubject#createSubject":"▸ createSubject<T, B>(subjectClass, exprAddr, initialValues?, batchId?): Promise<B extends undefined ? T : string>Creates a new subject instance of the given subject class","type-parameters#Type parameters":"Name\tType\tT\tT\tB\textends string = undefined","parameters-11#Parameters":"Name\tType\tDescription\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class.\texprAddr\tstring\tThe address of the expression to be turned into a subject instance\tinitialValues?\tRecord<string, any>\tOptional initial values for properties. If provided, these will be merged with constructor actions for better performance.\tbatchId?\tB\tOptional batch ID for grouping operations. If provided, returns the expression address instead of the subject proxy since the subject won't exist until the batch is committed.","returns-12#Returns":"Promise<B extends undefined ? T : string>A proxy object for the created subject, or just the expression address if in batch mode","defined-in-24#Defined in":"perspectives/PerspectiveProxy.ts:1000","ensuresdnasubjectclass#ensureSDNASubjectClass":"▸ ensureSDNASubjectClass(jsClass): Promise<void>Takes a JS class (its constructor) and assumes that it was decorated by\nthe","parameters-12#Parameters":"Name\tType\tjsClass\tany","returns-13#Returns":"Promise<void>Subject Classetc. decorators. It then tests if there is a subject class\nalready present in the perspective's SDNA that matches the given class.\nIf there is no such class, it gets the JS class's SDNA by calling its\nstatic generateSDNA() function and adds it to the perspective's SDNA.","defined-in-25#Defined in":"perspectives/PerspectiveProxy.ts:1274","executeaction#executeAction":"▸ executeAction(actions, expression, parameters, batchId?): Promise<boolean>Executes a set of actions on an expression with optional parameters.\nUsed internally by Social DNA flows and subject class operations.Actions are specified as an array of commands that modify links in the perspective.\nEach action is an object with the following format:\n{\n  action: \"addLink\" | \"removeLink\" | \"setSingleTarget\" | \"collectionSetter\",\n  source: string,    // Usually \"this\" to reference the current expression\n  predicate: string, // The predicate URI\n  target: string     // The target value or \"value\" for parameters\n}\nAvailable commands:\naddLink: Creates a new link\nremoveLink: Removes an existing link\nsetSingleTarget: Removes all existing links with the same source/predicate and adds a new one\ncollectionSetter: Special command for setting collection properties\nWhen used with parameters, the special value \"value\" in the target field will be\nreplaced with the actual parameter value.","parameters-13#Parameters":"Name\tType\tDescription\tactions\tany\tArray of action objects to execute\texpression\tany\tTarget expression address (replaces \"this\" in actions)\tparameters\tParameter[]\tOptional parameters that replace \"value\" in actions\tbatchId?\tstring\tOptional batch ID to group this operation with others","returns-14#Returns":"Promise<boolean>Example\n// Add a state link and remove an old one\nawait perspective.executeAction([\n  {\n    action: \"addLink\",\n    source: \"this\",\n    predicate: \"todo://state\", \n    target: \"todo://doing\"\n  },\n  {\n    action: \"removeLink\",\n    source: \"this\",\n    predicate: \"todo://state\",\n    target: \"todo://ready\"\n  }\n], \"expression://123\");\n// Set a property using a parameter\nawait perspective.executeAction([\n  {\n    action: \"setSingleTarget\",\n    source: \"this\",\n    predicate: \"todo://title\",\n    target: \"value\"\n  }\n], \"expression://123\", [\n  { name: \"title\", value: \"New Title\" }\n]);","defined-in-26#Defined in":"perspectives/PerspectiveProxy.ts:471","expressionsinflowstate#expressionsInFlowState":"▸ expressionsInFlowState(flowName, flowState): Promise<string[]>Returns all expressions in the given state of given Social DNA flow","parameters-14#Parameters":"Name\tType\tflowName\tstring\tflowState\tnumber","returns-15#Returns":"Promise<string[]>","defined-in-27#Defined in":"perspectives/PerspectiveProxy.ts:860","flowactions#flowActions":"▸ flowActions(flowName, exprAddr): Promise<string[]>Returns available action names, with regard to Social DNA flow and expression's flow state","parameters-15#Parameters":"Name\tType\tflowName\tstring\texprAddr\tstring","returns-16#Returns":"Promise<string[]>","defined-in-28#Defined in":"perspectives/PerspectiveProxy.ts:872","flowstate#flowState":"▸ flowState(flowName, exprAddr): Promise<number>Returns the given expression's flow state with regard to given Social DNA flow","parameters-16#Parameters":"Name\tType\tflowName\tstring\texprAddr\tstring","returns-17#Returns":"Promise<number>","defined-in-29#Defined in":"perspectives/PerspectiveProxy.ts:866","get#get":"▸ get(query): Promise<LinkExpression[]>Retrieves links from the perspective that match the given query.","parameters-17#Parameters":"Name\tType\tDescription\tquery\tLinkQuery\tQuery parameters to filter links","returns-18#Returns":"Promise<LinkExpression[]>Array of matching LinkExpressionsExample\n// Get all links where Alice knows someone\nconst links = await perspective.get({\n  source: \"did:key:alice\",\n  predicate: \"knows\"\n});\n// Get all comments on a post\nconst comments = await perspective.get({\n  source: \"post://123\",\n  predicate: \"comment\"\n});","defined-in-30#Defined in":"perspectives/PerspectiveProxy.ts:496","getallsubjectinstances#getAllSubjectInstances":"▸ getAllSubjectInstances<T>(subjectClass): Promise<T[]>Returns all subject instances of the given subject class as proxy objects.","type-parameters-1#Type parameters":"Name\tT","parameters-18#Parameters":"Name\tType\tDescription\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class. In the latter case, all subject classes that match the given properties will be used.","returns-19#Returns":"Promise<T[]>","defined-in-31#Defined in":"perspectives/PerspectiveProxy.ts:1116","getallsubjectproxies#getAllSubjectProxies":"▸ getAllSubjectProxies<T>(subjectClass): Promise<T[]>Returns all subject proxies of the given subject class.","type-parameters-2#Type parameters":"Name\tT","parameters-19#Parameters":"Name\tType\tDescription\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class. In the latter case, all subject classes that match the given properties will be used.","returns-20#Returns":"Promise<T[]>","defined-in-32#Defined in":"perspectives/PerspectiveProxy.ts:1138","getexpression#getExpression":"▸ getExpression(expressionURI): Promise<ExpressionRendered>Retrieves and renders an Expression referenced in this perspective.","parameters-20#Parameters":"Name\tType\tDescription\texpressionURI\tstring\tURI of the Expression to retrieve","returns-21#Returns":"Promise<ExpressionRendered>The rendered Expression","defined-in-33#Defined in":"perspectives/PerspectiveProxy.ts:673","getneighbourhoodproxy#getNeighbourhoodProxy":"▸ getNeighbourhoodProxy(): NeighbourhoodProxy","returns-22#Returns":"NeighbourhoodProxy","defined-in-34#Defined in":"perspectives/PerspectiveProxy.ts:1285","getsdna#getSdna":"▸ getSdna(): Promise<string[]>Returns the perspective's Social DNA code\nThis will return all SDNA code elements in an array.","returns-23#Returns":"Promise<string[]>","defined-in-35#Defined in":"perspectives/PerspectiveProxy.ts:888","getsdnaforclass#getSdnaForClass":"▸ getSdnaForClass(className): Promise<string>Returns the Social DNA code for a specific class\nThis will return the SDNA code for the specified class, or null if not found.","parameters-21#Parameters":"Name\tType\tclassName\tstring","returns-24#Returns":"Promise<string>","defined-in-36#Defined in":"perspectives/PerspectiveProxy.ts:931","getsingletarget#getSingleTarget":"▸ getSingleTarget(query): Promise<string | void>Gets a single target value matching a query.\nUseful when you expect only one result.","parameters-22#Parameters":"Name\tType\tDescription\tquery\tLinkQuery\tQuery to find the target","returns-25#Returns":"Promise<string | void>Target value or void if not foundExample\n// Get a user's name\nconst name = await perspective.getSingleTarget({\n  source: \"did:key:alice\",\n  predicate: \"name\"\n});","defined-in-37#Defined in":"perspectives/PerspectiveProxy.ts:799","getsubjectdata#getSubjectData":"▸ getSubjectData<T>(subjectClass, exprAddr): Promise<T>","type-parameters-3#Type parameters":"Name\tT","parameters-23#Parameters":"Name\tType\tsubjectClass\tT\texprAddr\tstring","returns-26#Returns":"Promise<T>","defined-in-38#Defined in":"perspectives/PerspectiveProxy.ts:1042","getsubjectproxy#getSubjectProxy":"▸ getSubjectProxy<T>(base, subjectClass): Promise<T>For an existing subject instance (existing in the perspective's links)\nthis function returns a proxy object that can be used to access the subject's\nproperties and methods.","type-parameters-4#Type parameters":"Name\tT","parameters-24#Parameters":"Name\tType\tDescription\tbase\tstring\tURI of the subject's root expression\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class. In the latter case, the first subject class that matches the given properties will be used.","returns-27#Returns":"Promise<T>","defined-in-39#Defined in":"perspectives/PerspectiveProxy.ts:1101","infer#infer":"▸ infer(query): Promise<any>Executes a Prolog query against the perspective's knowledge base.\nThis is a powerful way to find complex patterns in the graph.","parameters-25#Parameters":"Name\tType\tDescription\tquery\tstring\tProlog query string","returns-28#Returns":"Promise<any>Query results or false if no resultsExample\n// Find friends of friends\nconst results = await perspective.infer(`\n  triple(A, \"knows\", B),\n  triple(B, \"knows\", C),\n  A \\= C\n`);\n// Find all active todos\nconst todos = await perspective.infer(`\n  instance(Todo, \"Todo\"),\n  property_getter(\"Todo\", Todo, \"state\", \"active\")\n`);","defined-in-40#Defined in":"perspectives/PerspectiveProxy.ts:523","issubjectinstance#isSubjectInstance":"▸ isSubjectInstance<T>(expression, subjectClass): Promise<boolean>Checks if the given expression is a subject instance of the given subject class","type-parameters-5#Type parameters":"Name\tT","parameters-26#Parameters":"Name\tType\tDescription\texpression\tstring\tThe expression to be checked\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class. In the latter case, the first subject class that matches the given properties will be used.","returns-29#Returns":"Promise<boolean>","defined-in-41#Defined in":"perspectives/PerspectiveProxy.ts:1077","linkmutations#linkMutations":"▸ linkMutations(mutations, status?): Promise<LinkExpressionMutations>Applies a set of link mutations (adds and removes) in a single operation.\nUseful for atomic updates to the perspective.","parameters-27#Parameters":"Name\tType\tDefault value\tDescription\tmutations\tLinkMutations\tundefined\tObject containing links to add and remove\tstatus\tLinkStatus\t'shared'\tWhether new links should be shared","returns-30#Returns":"Promise<LinkExpressionMutations>Object containing results of the mutations","defined-in-42#Defined in":"perspectives/PerspectiveProxy.ts:619","loadsnapshot#loadSnapshot":"▸ loadSnapshot(snapshot): Promise<void>Loads a perspective snapshot, replacing current content.","parameters-28#Parameters":"Name\tType\tDescription\tsnapshot\tPerspective\tPerspective snapshot to load","returns-31#Returns":"Promise<void>","defined-in-43#Defined in":"perspectives/PerspectiveProxy.ts:770","querysurrealdb#querySurrealDB":"▸ querySurrealDB(query): Promise<any>Executes a SurrealQL query against the perspective's link cache.\nThis allows powerful SQL-like queries on the link data stored in SurrealDB.Security Note: Only read-only queries (SELECT, RETURN, etc.) are permitted.\nMutating operations (DELETE, UPDATE, INSERT, CREATE, DROP, DEFINE, etc.) are\nblocked for security reasons. Use the perspective's add/remove methods to modify links.","parameters-29#Parameters":"Name\tType\tDescription\tquery\tstring\tSurrealQL query string (read-only operations only)","returns-32#Returns":"Promise<any>Query results as parsed JSONExample\n// Get all links\nconst links = await perspective.querySurrealDB('SELECT * FROM link');\n// Filter links by predicate\nconst follows = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'follows'\"\n);\n// Complex aggregation query\nconst stats = await perspective.querySurrealDB(\n  \"SELECT predicate, count() as total FROM link GROUP BY predicate\"\n);","defined-in-44#Defined in":"perspectives/PerspectiveProxy.ts:554","remove#remove":"▸ remove(link, batchId?): Promise<boolean>Removes a link from the perspective.","parameters-30#Parameters":"Name\tType\tDescription\tlink\tLinkExpressionInput\tThe link to remove\tbatchId?\tstring\tOptional batch ID to group this operation with others","returns-33#Returns":"Promise<boolean>","defined-in-45#Defined in":"perspectives/PerspectiveProxy.ts:652","removelinks#removeLinks":"▸ removeLinks(links, batchId?): Promise<LinkExpression[]>Removes multiple links from the perspective.","parameters-31#Parameters":"Name\tType\tDescription\tlinks\tLinkExpressionInput[]\tArray of links to remove\tbatchId?\tstring\tOptional batch ID to group this operation with others","returns-34#Returns":"Promise<LinkExpression[]>Array of removed LinkExpressions","defined-in-46#Defined in":"perspectives/PerspectiveProxy.ts:607","removelistener#removeListener":"▸ removeListener(type, cb): Promise<void>Unsubscribes from link changes.","parameters-32#Parameters":"Name\tType\tDescription\ttype\tPerspectiveListenerTypes\tType of change to stop listening for\tcb\tLinkCallback\tThe callback function to remove","returns-35#Returns":"Promise<void>","defined-in-47#Defined in":"perspectives/PerspectiveProxy.ts:739","removesubject#removeSubject":"▸ removeSubject<T>(subjectClass, exprAddr, batchId?): Promise<void>Removes a subject instance by running its (SDNA defined) destructor,\nwhich means removing links around the given expression address","type-parameters-6#Type parameters":"Name\tT","parameters-33#Parameters":"Name\tType\tDescription\tsubjectClass\tT\tEither a string with the name of the subject class, or an object with the properties of the subject class. In the latter case, the first subject class that matches the given properties will be used.\texprAddr\tstring\tThe address of the expression to be turned into a subject instance\tbatchId?\tstring\tOptional batch ID for grouping operations. If provided, the removal will be part of the batch and won't be executed until the batch is committed.","returns-36#Returns":"Promise<void>","defined-in-48#Defined in":"perspectives/PerspectiveProxy.ts:1060","runflowaction#runFlowAction":"▸ runFlowAction(flowName, exprAddr, actionName): Promise<void>Runs given Social DNA flow action","parameters-34#Parameters":"Name\tType\tflowName\tstring\texprAddr\tstring\tactionName\tstring","returns-37#Returns":"Promise<void>","defined-in-49#Defined in":"perspectives/PerspectiveProxy.ts:878","sdnaflows#sdnaFlows":"▸ sdnaFlows(): Promise<string[]>Returns all the Social DNA flows defined in this perspective","returns-38#Returns":"Promise<string[]>","defined-in-50#Defined in":"perspectives/PerspectiveProxy.ts:840","setsingletarget#setSingleTarget":"▸ setSingleTarget(link, status?): Promise<void>Sets a single target value, removing any existing targets.","parameters-35#Parameters":"Name\tType\tDefault value\tDescription\tlink\tLink\tundefined\tLink defining the new target\tstatus\tLinkStatus\t'shared'\tWhether the link should be shared","returns-39#Returns":"Promise<void>Example\n// Set a user's status\nawait perspective.setSingleTarget({\n  source: \"did:key:alice\",\n  predicate: \"status\",\n  target: \"online\"\n});","defined-in-51#Defined in":"perspectives/PerspectiveProxy.ts:824","snapshot#snapshot":"▸ snapshot(): Promise<Perspective>Creates a snapshot of the current perspective state.\nUseful for backup or sharing.","returns-40#Returns":"Promise<Perspective>Perspective object containing all links","defined-in-52#Defined in":"perspectives/PerspectiveProxy.ts:761","startflow#startFlow":"▸ startFlow(flowName, exprAddr): Promise<void>Starts the Social DNA flow","parameters-36#Parameters":"Name\tType\tDescription\tflowName\tstring\ton the expression\texprAddr\tstring","returns-41#Returns":"Promise<void>","defined-in-53#Defined in":"perspectives/PerspectiveProxy.ts:852","stringortemplateobjecttosubjectclassname#stringOrTemplateObjectToSubjectClassName":"▸ stringOrTemplateObjectToSubjectClassName<T>(subjectClass): Promise<string>","type-parameters-7#Type parameters":"Name\tT","parameters-37#Parameters":"Name\tType\tsubjectClass\tT","returns-42#Returns":"Promise<string>","defined-in-54#Defined in":"perspectives/PerspectiveProxy.ts:974","subjectclasses#subjectClasses":"▸ subjectClasses(): Promise<string[]>Returns all the Subject classes defined in this perspectives SDNA","returns-43#Returns":"Promise<string[]>","defined-in-55#Defined in":"perspectives/PerspectiveProxy.ts:966","subjectclassesbytemplate#subjectClassesByTemplate":"▸ subjectClassesByTemplate(obj): Promise<string[]>Returns all subject classes that match the given template object.\nThis function looks at the properties of the template object and\nits setters and collections to create a Prolog query that finds\nall subject classes that would be converted to a proxy object\nwith exactly the same properties and collections.Since there could be multiple subject classes that match the given\ncriteria, this function returns a list of class names.","parameters-38#Parameters":"Name\tType\tDescription\tobj\tobject\tThe template object","returns-44#Returns":"Promise<string[]>","defined-in-56#Defined in":"perspectives/PerspectiveProxy.ts:1258","subscribeinfer#subscribeInfer":"▸ subscribeInfer(query): Promise<QuerySubscriptionProxy>Creates a subscription for a Prolog query that updates in real-time.This method:\nCreates the subscription on the Rust side\nSets up the subscription callback\nWaits for the initial result to come through the subscription channel\nReturns a fully initialized QuerySubscriptionProxy\nThe returned subscription is guaranteed to be ready to receive updates,\nas this method waits for the initialization process to complete.The subscription will be automatically cleaned up on both frontend and backend\nwhen dispose() is called. Make sure to call dispose() when you're done to\nprevent memory leaks and ensure proper cleanup of resources.","parameters-39#Parameters":"Name\tType\tDescription\tquery\tstring\tProlog query string","returns-45#Returns":"Promise<QuerySubscriptionProxy>Initialized QuerySubscriptionProxy instanceExample\n// Subscribe to active todos\nconst subscription = await perspective.subscribeInfer(`\n  instance(Todo, \"Todo\"),\n  property_getter(\"Todo\", Todo, \"state\", \"active\")\n`);\n// Subscription is already initialized here\nconsole.log(\"Initial result:\", subscription.result);\n// Set up callback for future updates\nsubscription.onResult((todos) => {\n  console.log(\"Active todos:\", todos);\n});\n// Clean up subscription when done\nsubscription.dispose();","defined-in-57#Defined in":"perspectives/PerspectiveProxy.ts:1346","subscribesurrealdb#subscribeSurrealDB":"▸ subscribeSurrealDB(query): Promise<QuerySubscriptionProxy>Creates a subscription for a SurrealQL query that updates in real-time.This method:\nCreates the subscription on the Rust side\nSets up the subscription callback\nWaits for the initial result to come through the subscription channel\nReturns a fully initialized QuerySubscriptionProxy\nThe returned subscription is guaranteed to be ready to receive updates,\nas this method waits for the initialization process to complete.The subscription will be automatically cleaned up on both frontend and backend\nwhen dispose() is called. Make sure to call dispose() when you're done to\nprevent memory leaks and ensure proper cleanup of resources.","parameters-40#Parameters":"Name\tType\tDescription\tquery\tstring\tSurrealQL query string","returns-46#Returns":"Promise<QuerySubscriptionProxy>Initialized QuerySubscriptionProxy instance","defined-in-58#Defined in":"perspectives/PerspectiveProxy.ts:1381","update#update":"▸ update(oldLink, newLink, batchId?): Promise<LinkExpression>Updates an existing link with new data.","parameters-41#Parameters":"Name\tType\tDescription\toldLink\tLinkExpressionInput\tThe existing link to update\tnewLink\tLink\tThe new link data\tbatchId?\tstring\tOptional batch ID to group this operation with others","returns-47#Returns":"Promise<LinkExpression>","defined-in-59#Defined in":"perspectives/PerspectiveProxy.ts:642"}},"/jsdoc/classes/QuerySubscriptionProxy":{"title":"Class: QuerySubscriptionProxy","data":{"":"@coasys/ad4m / Exports / QuerySubscriptionProxyProxy object for a subscribed Prolog query that provides real-time updatesThis class handles:\nKeeping the subscription alive by sending periodic keepalive signals\nManaging callbacks for result updates\nSubscribing to query updates via GraphQL subscriptions\nMaintaining the latest query result\nEnsuring subscription is fully initialized before allowing access\nCleaning up resources when disposed\nThe subscription will remain active as long as keepalive signals are sent.\nMake sure to call dispose() when you're done with the subscription to clean up\nresources, stop keepalive signals, and notify the backend to remove the subscription.The subscription goes through an initialization process where it waits for the first\nresult to come through the subscription channel. You can await the initialized\npromise to ensure the subscription is ready. The initialization will timeout after\n30 seconds if no result is received.Example usage:\nconst subscription = await perspective.subscribeInfer(\"my_query(X)\");\n// At this point the subscription is already initialized since subscribeInfer waits\n// Set up callback for future updates\nconst removeCallback = subscription.onResult(result => {\n    console.log(\"New result:\", result);\n});\n// Later: clean up subscription and notify backend\nsubscription.dispose();","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#callbacks\n#client\n#disposed\n#initReject\n#initResolve\n#initTimeoutId\n#initialized\n#keepaliveTimer\n#latestResult\n#query\n#subscriptionId\n#unsubscribe\n#uuid\nisSurrealDB","accessors#Accessors":"id\ninitialized\nresult","methods#Methods":"#notifyCallbacks\ndispose\nonResult\nsubscribe","constructors-1#Constructors":"","constructor#constructor":"• new QuerySubscriptionProxy(uuid, query, client)Creates a new query subscription","parameters#Parameters":"Name\tType\tDescription\tuuid\tstring\tThe UUID of the perspective\tquery\tstring\tThe Prolog query to subscribe to\tclient\tPerspectiveClient\tThe PerspectiveClient instance to use for communication","defined-in#Defined in":"perspectives/PerspectiveProxy.ts:78","properties-1#Properties":"","callbacks##callbacks":"• Private #callbacks: Set<QueryCallback>","defined-in-1#Defined in":"perspectives/PerspectiveProxy.ts:61","client##client":"• Private #client: PerspectiveClient","defined-in-2#Defined in":"perspectives/PerspectiveProxy.ts:60","disposed##disposed":"• Private #disposed: boolean = false","defined-in-3#Defined in":"perspectives/PerspectiveProxy.ts:65","initreject##initReject":"• Private Optional #initReject: (reason?: any) => void","type-declaration#Type declaration":"▸ (reason?): void","parameters-1#Parameters":"Name\tType\treason?\tany","returns#Returns":"void","defined-in-4#Defined in":"perspectives/PerspectiveProxy.ts:68","initresolve##initResolve":"• Private Optional #initResolve: (value: boolean) => void","type-declaration-1#Type declaration":"▸ (value): void","parameters-2#Parameters":"Name\tType\tvalue\tboolean","returns-1#Returns":"void","defined-in-5#Defined in":"perspectives/PerspectiveProxy.ts:67","inittimeoutid##initTimeoutId":"• Private Optional #initTimeoutId: Timeout","defined-in-6#Defined in":"perspectives/PerspectiveProxy.ts:69","initialized##initialized":"• Private #initialized: Promise<boolean>","defined-in-7#Defined in":"perspectives/PerspectiveProxy.ts:66","keepalivetimer##keepaliveTimer":"• Private #keepaliveTimer: number","defined-in-8#Defined in":"perspectives/PerspectiveProxy.ts:62","latestresult##latestResult":"• Private #latestResult: AllInstancesResult","defined-in-9#Defined in":"perspectives/PerspectiveProxy.ts:64","query##query":"• Private #query: string","defined-in-10#Defined in":"perspectives/PerspectiveProxy.ts:70","subscriptionid##subscriptionId":"• Private #subscriptionId: string","defined-in-11#Defined in":"perspectives/PerspectiveProxy.ts:59","unsubscribe##unsubscribe":"• Private Optional #unsubscribe: () => void","type-declaration-2#Type declaration":"▸ (): void","returns-2#Returns":"void","defined-in-12#Defined in":"perspectives/PerspectiveProxy.ts:63","uuid##uuid":"• Private #uuid: string","defined-in-13#Defined in":"perspectives/PerspectiveProxy.ts:58","issurrealdb#isSurrealDB":"• isSurrealDB: boolean = false","defined-in-14#Defined in":"perspectives/PerspectiveProxy.ts:71","accessors-1#Accessors":"","id#id":"• get id(): stringGet the subscription ID for this query subscriptionThis is a unique identifier assigned when the subscription was created.\nIt can be used to reference this specific subscription, for example when\nsending keepalive signals.","returns-3#Returns":"stringThe subscription ID string","defined-in-15#Defined in":"perspectives/PerspectiveProxy.ts:217","initialized-1#initialized":"• get initialized(): Promise<boolean>Promise that resolves when the subscription has received its first result\nthrough the subscription channel. This ensures the subscription is fully\nset up before allowing access to results or updates.If no result is received within 30 seconds, the subscription will automatically\nretry. The promise will remain pending until a subscription message successfully\narrives, or until a fatal error occurs during subscription setup.Note: You typically don't need to await this directly since the subscription\ncreation methods (like subscribeInfer) already wait for initialization.","returns-4#Returns":"Promise<boolean>","defined-in-16#Defined in":"perspectives/PerspectiveProxy.ts:232","result#result":"• get result(): AllInstancesResultGet the latest query resultThis returns the most recent result from the query, which could be either:\nThe initial result from when the subscription was created\nThe latest update received through the subscription","returns-5#Returns":"AllInstancesResultThe latest query result as a string (usually a JSON array of bindings)","defined-in-17#Defined in":"perspectives/PerspectiveProxy.ts:244","methods-1#Methods":"","notifycallbacks##notifyCallbacks":"▸ Private #notifyCallbacks(result): voidInternal method to notify all callbacks of a new result","parameters-3#Parameters":"Name\tType\tresult\tAllInstancesResult","returns-6#Returns":"void","defined-in-18#Defined in":"perspectives/PerspectiveProxy.ts:273","dispose#dispose":"▸ dispose(): voidClean up the subscription and stop keepalive signalsThis method:\nStops the keepalive timer\nUnsubscribes from GraphQL subscription updates\nClears all registered callbacks\nCleans up any pending initialization timeout\nAfter calling this method, the subscription is no longer active and\nwill not receive any more updates. The instance should be discarded.","returns-7#Returns":"void","defined-in-19#Defined in":"perspectives/PerspectiveProxy.ts:294","onresult#onResult":"▸ onResult(callback): () => voidAdd a callback that will be called whenever new results arriveThe callback will be called immediately with the current result,\nand then again each time the query results change.","parameters-4#Parameters":"Name\tType\tDescription\tcallback\tQueryCallback\tFunction that takes a result string and processes it","returns-8#Returns":"fnA function that can be called to remove this callbackExample:\nconst removeCallback = subscription.onResult(result => {\n    const bindings = JSON.parse(result);\n    console.log(\"New bindings:\", bindings);\n});\n// Later: stop receiving updates\nremoveCallback();\n▸ (): voidAdd a callback that will be called whenever new results arriveThe callback will be called immediately with the current result,\nand then again each time the query results change.","returns-9#Returns":"voidA function that can be called to remove this callbackExample:\nconst removeCallback = subscription.onResult(result => {\n    const bindings = JSON.parse(result);\n    console.log(\"New bindings:\", bindings);\n});\n// Later: stop receiving updates\nremoveCallback();","defined-in-20#Defined in":"perspectives/PerspectiveProxy.ts:267","subscribe#subscribe":"▸ subscribe(): Promise<void>","returns-10#Returns":"Promise<void>","defined-in-21#Defined in":"perspectives/PerspectiveProxy.ts:92"}},"/jsdoc/classes/PerspectiveInput":{"title":"Class: PerspectiveInput","data":{"":"@coasys/ad4m / Exports / PerspectiveInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"links","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveInput()","properties-1#Properties":"","links#links":"• links: LinkExpressionInput[]","defined-in#Defined in":"perspectives/Perspective.ts:95"}},"/jsdoc/classes/Resource":{"title":"Class: Resource","data":{"":"@coasys/ad4m / Exports / Resource","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"domain\npointers","constructors-1#Constructors":"","constructor#constructor":"• new Resource(domain, pointers)","parameters#Parameters":"Name\tType\tdomain\tstring\tpointers\tstring[]","defined-in#Defined in":"agent/Agent.ts:151","properties-1#Properties":"","domain#domain":"• domain: string","defined-in-1#Defined in":"agent/Agent.ts:146","pointers#pointers":"• pointers: string[]","defined-in-2#Defined in":"agent/Agent.ts:149"}},"/jsdoc/classes/PerspectiveUnsignedInput":{"title":"Class: PerspectiveUnsignedInput","data":{"":"@coasys/ad4m / Exports / PerspectiveUnsignedInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"links","methods#Methods":"fromLink","constructors-1#Constructors":"","constructor#constructor":"• new PerspectiveUnsignedInput(links?)","parameters#Parameters":"Name\tType\tlinks?\tLinkInput[]","defined-in#Defined in":"perspectives/Perspective.ts:103","properties-1#Properties":"","links#links":"• links: LinkInput[]","defined-in-1#Defined in":"perspectives/Perspective.ts:101","methods-1#Methods":"","fromlink#fromLink":"▸ Static fromLink(link): PerspectiveUnsignedInput","parameters-1#Parameters":"Name\tType\tlink\tLink","returns#Returns":"PerspectiveUnsignedInput","defined-in-2#Defined in":"perspectives/Perspective.ts:110"}},"/jsdoc/classes/SmartLiteral":{"title":"Class: SmartLiteral","data":{"":"@coasys/ad4m / Exports / SmartLiteral","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#base\n#perspective","accessors#Accessors":"base","methods#Methods":"get\nset\ncreate\ngetAllSmartLiterals\nisSmartLiteralBase","constructors-1#Constructors":"","constructor#constructor":"• new SmartLiteral(perspective, base)","parameters#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tbase\tstring","defined-in#Defined in":"SmartLiteral.ts:23","properties-1#Properties":"","base##base":"• Private #base: string","defined-in-1#Defined in":"SmartLiteral.ts:21","perspective##perspective":"• Private #perspective: PerspectiveProxy","defined-in-2#Defined in":"SmartLiteral.ts:20","accessors-1#Accessors":"","base-1#base":"• get base(): string","returns#Returns":"string","defined-in-3#Defined in":"SmartLiteral.ts:28","methods-1#Methods":"","get#get":"▸ get(): Promise<any>","returns-1#Returns":"Promise<any>","defined-in-4#Defined in":"SmartLiteral.ts:54","set#set":"▸ set(content): Promise<void>","parameters-1#Parameters":"Name\tType\tcontent\tany","returns-2#Returns":"Promise<void>","defined-in-5#Defined in":"SmartLiteral.ts:67","create#create":"▸ Static create(perspective, literal): Promise<SmartLiteral>","parameters-2#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tliteral\tany","returns-3#Returns":"Promise<SmartLiteral>","defined-in-6#Defined in":"SmartLiteral.ts:32","getallsmartliterals#getAllSmartLiterals":"▸ Static getAllSmartLiterals(perspective): Promise<SmartLiteral[]>","parameters-3#Parameters":"Name\tType\tperspective\tPerspectiveProxy","returns-4#Returns":"Promise<SmartLiteral[]>","defined-in-7#Defined in":"SmartLiteral.ts:47","issmartliteralbase#isSmartLiteralBase":"▸ Static isSmartLiteralBase(perspective, base): Promise<boolean>","parameters-4#Parameters":"Name\tType\tperspective\tPerspectiveProxy\tbase\tstring","returns-5#Returns":"Promise<boolean>","defined-in-8#Defined in":"SmartLiteral.ts:39"}},"/jsdoc/classes/Subject":{"title":"Class: Subject","data":{"":"@coasys/ad4m / Exports / SubjectRepresents a subject in the perspective.\nA subject is an entity that has properties and collections.","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#baseExpression\n#perspective\n#subjectClassName","accessors#Accessors":"baseExpression","methods#Methods":"init","constructors-1#Constructors":"","constructor#constructor":"• new Subject(perspective, baseExpression, subjectClassName)Constructs a new subject.","parameters#Parameters":"Name\tType\tDescription\tperspective\tPerspectiveProxy\tThe perspective that the subject belongs to.\tbaseExpression\tstring\tThe base expression of the subject.\tsubjectClassName\tstring\tThe class name of the subject.","defined-in#Defined in":"model/Subject.ts:19","properties-1#Properties":"","baseexpression##baseExpression":"• Private #baseExpression: string","defined-in-1#Defined in":"model/Subject.ts:9","perspective##perspective":"• Private #perspective: PerspectiveProxy","defined-in-2#Defined in":"model/Subject.ts:11","subjectclassname##subjectClassName":"• Private #subjectClassName: string","defined-in-3#Defined in":"model/Subject.ts:10","accessors-1#Accessors":"","baseexpression-1#baseExpression":"• get baseExpression(): stringGets the base expression of the subject.","returns#Returns":"string","defined-in-4#Defined in":"model/Subject.ts:28","methods-1#Methods":"","init#init":"▸ init(): Promise<void>Initializes the subject by validating it and defining its properties and collections dynamically.NOTE: This method should be called before using the subject. All the properties and collections of the subject defined are not type-checked.","returns-1#Returns":"Promise<void>","defined-in-5#Defined in":"model/Subject.ts:37"}},"/jsdoc/enums/ExceptionType":{"title":"Enumeration: ExceptionType","data":{"":"@coasys/ad4m / Exports / ExceptionType","table-of-contents#Table of contents":"","enumeration-members#Enumeration Members":"AgentIsUntrusted\nCapabilityRequested\nExpressionIsNotVerified\nInstallNotificationRequest\nLanguageIsNotLoaded","enumeration-members-1#Enumeration Members":"","agentisuntrusted#AgentIsUntrusted":"• AgentIsUntrusted = \"AGENT_IS_UNTRUSTED\"","defined-in#Defined in":"Exception.ts:4","capabilityrequested#CapabilityRequested":"• CapabilityRequested = \"CAPABILITY_REQUESTED\"","defined-in-1#Defined in":"Exception.ts:5","expressionisnotverified#ExpressionIsNotVerified":"• ExpressionIsNotVerified = \"EXPRESSION_IS_NOT_VERIFIED\"","defined-in-2#Defined in":"Exception.ts:3","installnotificationrequest#InstallNotificationRequest":"• InstallNotificationRequest = \"INSTALL_NOTIFICATION_REQUEST\"","defined-in-3#Defined in":"Exception.ts:6","languageisnotloaded#LanguageIsNotLoaded":"• LanguageIsNotLoaded = \"LANGUAGE_IS_NOT_LOADED\"","defined-in-4#Defined in":"Exception.ts:2"}},"/jsdoc/enums/PerspectiveState":{"title":"Enumeration: PerspectiveState","data":{"":"@coasys/ad4m / Exports / PerspectiveState","table-of-contents#Table of contents":"","enumeration-members#Enumeration Members":"LinkLanguageFailedToInstall\nLinkLanguageInstalledButNotSynced\nNeighboudhoodCreationInitiated\nNeighbourhoodJoinInitiated\nPrivate\nSynced","enumeration-members-1#Enumeration Members":"","linklanguagefailedtoinstall#LinkLanguageFailedToInstall":"• LinkLanguageFailedToInstall = \"LINK_LANGUAGE_FAILED_TO_INSTALL\"","defined-in#Defined in":"perspectives/PerspectiveHandle.ts:8","linklanguageinstalledbutnotsynced#LinkLanguageInstalledButNotSynced":"• LinkLanguageInstalledButNotSynced = \"LINK_LANGUAGE_INSTALLED_BUT_NOT_SYNCED\"","defined-in-1#Defined in":"perspectives/PerspectiveHandle.ts:9","neighboudhoodcreationinitiated#NeighboudhoodCreationInitiated":"• NeighboudhoodCreationInitiated = \"NEIGHBOURHOOD_CREATION_INITIATED\"","defined-in-2#Defined in":"perspectives/PerspectiveHandle.ts:6","neighbourhoodjoininitiated#NeighbourhoodJoinInitiated":"• NeighbourhoodJoinInitiated = \"NEIGHBOURHOOD_JOIN_INITIATED\"","defined-in-3#Defined in":"perspectives/PerspectiveHandle.ts:7","private#Private":"• Private = \"PRIVATE\"","defined-in-4#Defined in":"perspectives/PerspectiveHandle.ts:5","synced#Synced":"• Synced = \"SYNCED\"","defined-in-5#Defined in":"perspectives/PerspectiveHandle.ts:10"}},"/jsdoc/interfaces/AgentService":{"title":"Interface: AgentService","data":{"":"@coasys/ad4m / Exports / AgentService","table-of-contents#Table of contents":"","properties#Properties":"did","methods#Methods":"createSignedExpression","properties-1#Properties":"","did#did":"• Readonly did: string","defined-in#Defined in":"language/LanguageContext.ts:5","methods-1#Methods":"","createsignedexpression#createSignedExpression":"▸ createSignedExpression(data): Expression","parameters#Parameters":"Name\tType\tdata\tany","returns#Returns":"Expression","defined-in-1#Defined in":"language/LanguageContext.ts:6"}},"/jsdoc/classes/ResourceInput":{"title":"Class: ResourceInput","data":{"":"@coasys/ad4m / Exports / ResourceInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"domain\npointers","constructors-1#Constructors":"","constructor#constructor":"• new ResourceInput(domain, pointers)","parameters#Parameters":"Name\tType\tdomain\tstring\tpointers\tstring[]","defined-in#Defined in":"agent/Agent.ts:238","properties-1#Properties":"","domain#domain":"• domain: string","defined-in-1#Defined in":"agent/Agent.ts:233","pointers#pointers":"• pointers: string[]","defined-in-2#Defined in":"agent/Agent.ts:236"}},"/jsdoc/interfaces/CollectionOptions":{"title":"Interface: CollectionOptions","data":{"":"@coasys/ad4m / Exports / CollectionOptions","table-of-contents#Table of contents":"","properties#Properties":"local\nthrough\nwhere","properties-1#Properties":"","local#local":"• Optional local: booleanIndicates whether the property is stored locally in the perspective and not in the network. Useful for properties that are not meant to be shared with the network.","defined-in#Defined in":"model/decorators.ts:391","through#through":"• through: stringThe predicate of the property. All properties must have this option.","defined-in-1#Defined in":"model/decorators.ts:381","where#where":"• Optional where: WhereOptionsAn object representing the WHERE clause of the query.","defined-in-2#Defined in":"model/decorators.ts:386"}},"/jsdoc/interfaces/DirectMessageAdapter":{"title":"Interface: DirectMessageAdapter","data":{"":"@coasys/ad4m / Exports / DirectMessageAdapter","table-of-contents#Table of contents":"","methods#Methods":"addMessageCallback\ninbox\nrecipient\nsendInbox\nsendP2P\nsetStatus\nstatus","methods-1#Methods":"","addmessagecallback#addMessageCallback":"▸ addMessageCallback(callback): any","parameters#Parameters":"Name\tType\tcallback\tMessageCallback","returns#Returns":"any","defined-in#Defined in":"language/Language.ts:203","inbox#inbox":"▸ inbox(filter?): Promise<PerspectiveExpression[]>","parameters-1#Parameters":"Name\tType\tfilter?\tstring","returns-1#Returns":"Promise<PerspectiveExpression[]>","defined-in-1#Defined in":"language/Language.ts:202","recipient#recipient":"▸ recipient(): string","returns-2#Returns":"string","defined-in-2#Defined in":"language/Language.ts:195","sendinbox#sendInbox":"▸ sendInbox(message): Promise<void | PerspectiveExpression>","parameters-2#Parameters":"Name\tType\tmessage\tPerspective","returns-3#Returns":"Promise<void | PerspectiveExpression>","defined-in-3#Defined in":"language/Language.ts:199","sendp2p#sendP2P":"▸ sendP2P(message): Promise<void | PerspectiveExpression>","parameters-3#Parameters":"Name\tType\tmessage\tPerspective","returns-4#Returns":"Promise<void | PerspectiveExpression>","defined-in-4#Defined in":"language/Language.ts:198","setstatus#setStatus":"▸ setStatus(status): any","parameters-4#Parameters":"Name\tType\tstatus\tPerspectiveExpression","returns-5#Returns":"any","defined-in-5#Defined in":"language/Language.ts:201","status#status":"▸ status(): Promise<void | PerspectiveExpression>","returns-6#Returns":"Promise<void | PerspectiveExpression>","defined-in-6#Defined in":"language/Language.ts:197"}},"/jsdoc/interfaces/CollectionMetadata":{"title":"Interface: CollectionMetadata","data":{"":"@coasys/ad4m / Exports / CollectionMetadataMetadata for a single collection extracted from decorators.","table-of-contents#Table of contents":"","properties#Properties":"local\nname\npredicate\nwhere","properties-1#Properties":"","local#local":"• Optional local: booleanWhether stored locally only","defined-in#Defined in":"model/Ad4mModel.ts:114","name#name":"• name: stringThe collection name","defined-in-1#Defined in":"model/Ad4mModel.ts:108","predicate#predicate":"• predicate: stringThe predicate URI (through value)","defined-in-2#Defined in":"model/Ad4mModel.ts:110","where#where":"• Optional where: ObjectFilter conditions","type-declaration#Type declaration":"Name\tType\tcondition?\tstring\tisInstance?\tany","defined-in-3#Defined in":"model/Ad4mModel.ts:112"}},"/jsdoc/interfaces/ExpressionUI":{"title":"Interface: ExpressionUI","data":{"":"@coasys/ad4m / Exports / ExpressionUIUI factories returning web components","table-of-contents#Table of contents":"","methods#Methods":"constructorIcon\nicon","methods-1#Methods":"","constructoricon#constructorIcon":"▸ constructorIcon(): stringReturns JS code of a web component used to create new expressions","returns#Returns":"string","defined-in#Defined in":"language/Language.ts:82","icon#icon":"▸ icon(): stringReturns JS code of a web component that renders the given expression","returns-1#Returns":"string","defined-in-1#Defined in":"language/Language.ts:80"}},"/jsdoc/interfaces/FlagOptions":{"title":"Interface: FlagOptions","data":{"":"@coasys/ad4m / Exports / FlagOptions","table-of-contents#Table of contents":"","properties#Properties":"through\nvalue","properties-1#Properties":"","through#through":"• through: stringThe predicate of the property. All properties must have this option.","defined-in#Defined in":"model/decorators.ts:280","value#value":"• value: stringThe value of the property.","defined-in-1#Defined in":"model/decorators.ts:285"}},"/jsdoc/interfaces/ExpressionAdapter":{"title":"Interface: ExpressionAdapter","data":{"":"@coasys/ad4m / Exports / ExpressionAdapterInterface for the most common Expression Languages","table-of-contents#Table of contents":"","properties#Properties":"putAdapter","methods#Methods":"get","properties-1#Properties":"","putadapter#putAdapter":"• putAdapter: PublicSharing | ReadOnlyLanguageStrategy for putting an expression with needs to be different\nfor those two cases:\nPublicSharing means that this language supports the creation\nand sharing of Expressions, which is the common use-case\nReadOnlyLanguage means that the Language implements a pre-defined\nset of expressions (which can be infinite or finite).\nFor example the url-iframe Language which directly maps URLs to\naddresses - meaning every well formed URL is an address in this\nLanguage. Or a potential Language implementing the verbs/predicates\nof a spec like FOAF.","defined-in#Defined in":"language/Language.ts:106","methods-1#Methods":"","get#get":"▸ get(address): Promise<Expression>Returns an Expression by address, or null if there is no Expression\nwith that given address","parameters#Parameters":"Name\tType\taddress\tstring","returns#Returns":"Promise<Expression>","defined-in-1#Defined in":"language/Language.ts:93"}},"/jsdoc/interfaces/GetByAuthorAdapter":{"title":"Interface: GetByAuthorAdapter","data":{"":"@coasys/ad4m / Exports / GetByAuthorAdapter","table-of-contents#Table of contents":"","methods#Methods":"getByAuthor","methods-1#Methods":"","getbyauthor#getByAuthor":"▸ getByAuthor(author, count, page): Promise<Expression[]>","parameters#Parameters":"Name\tType\tauthor\tstring\tcount\tnumber\tpage\tnumber","returns#Returns":"Promise<Expression[]>","defined-in#Defined in":"language/Language.ts:139"}},"/jsdoc/interfaces/HolochainLanguageDelegate":{"title":"Interface: HolochainLanguageDelegate","data":{"":"@coasys/ad4m / Exports / HolochainLanguageDelegate","table-of-contents#Table of contents":"","methods#Methods":"call\ncallAsync\nregisterDNAs","methods-1#Methods":"","call#call":"▸ call(dnaNick, zomeName, fnName, params): Promise<any>Makes a single call to a given holochain DNA. Underlying implementation puts these calls into a sync fifo queue","parameters#Parameters":"Name\tType\tdnaNick\tstring\tzomeName\tstring\tfnName\tstring\tparams\tstring | object","returns#Returns":"Promise<any>","defined-in#Defined in":"language/LanguageContext.ts:32","callasync#callAsync":"▸ callAsync(calls, timeoutMs?): Promise<any[]>Makes all supplied calls in parallel to the provided holochain dna... Should only be called on read operations to avoid source chain async mutation errors","parameters-1#Parameters":"Name\tType\tcalls\t{ dnaNick: string ; fnName: string ; params: string | object ; zomeName: string  }[]\ttimeoutMs?\tnumber","returns-1#Returns":"Promise<any[]>","defined-in-1#Defined in":"language/LanguageContext.ts:34","registerdnas#registerDNAs":"▸ registerDNAs(dnas, holochainSignalCallback?): Promise<void>Installs/registers a given DNA in the ad4m-executor","parameters-2#Parameters":"Name\tType\tdnas\tDna[]\tholochainSignalCallback?\tAppSignalCb","returns-2#Returns":"Promise<void>","defined-in-2#Defined in":"language/LanguageContext.ts:30"}},"/jsdoc/interfaces/GetAllAdapter":{"title":"Interface: GetAllAdapter","data":{"":"@coasys/ad4m / Exports / GetAllAdapter","table-of-contents#Table of contents":"","methods#Methods":"getAll","methods-1#Methods":"","getall#getAll":"▸ getAll(filter, count, page): Promise<Expression[]>","parameters#Parameters":"Name\tType\tfilter\tany\tcount\tnumber\tpage\tnumber","returns#Returns":"Promise<Expression[]>","defined-in#Defined in":"language/Language.ts:148"}},"/jsdoc/interfaces/InitializeArgs":{"title":"Interface: InitializeArgs","data":{"":"@coasys/ad4m / Exports / InitializeArgs","table-of-contents#Table of contents":"","properties#Properties":"did\ndidDocument\nkeystore\npassphrase","properties-1#Properties":"","did#did":"• did: string","defined-in#Defined in":"agent/AgentClient.ts:73","diddocument#didDocument":"• didDocument: string","defined-in-1#Defined in":"agent/AgentClient.ts:74","keystore#keystore":"• keystore: string","defined-in-2#Defined in":"agent/AgentClient.ts:75","passphrase#passphrase":"• passphrase: string","defined-in-3#Defined in":"agent/AgentClient.ts:76"}},"/jsdoc/interfaces/InstanceQueryParams":{"title":"Interface: InstanceQueryParams","data":{"":"@coasys/ad4m / Exports / InstanceQueryParams","table-of-contents#Table of contents":"","properties#Properties":"condition\nwhere","properties-1#Properties":"","condition#condition":"• Optional condition: stringA string representing the condition clause of the query.","defined-in#Defined in":"model/decorators.ts:34","where#where":"• Optional where: objectAn object representing the WHERE clause of the query.","defined-in-1#Defined in":"model/decorators.ts:29"}},"/jsdoc/interfaces/Interaction":{"title":"Interface: Interaction","data":{"":"@coasys/ad4m / Exports / Interaction","table-of-contents#Table of contents":"","properties#Properties":"label\nname\nparameters","methods#Methods":"execute","properties-1#Properties":"","label#label":"• Readonly label: string","defined-in#Defined in":"language/Language.ts:227","name#name":"• Readonly name: string","defined-in-1#Defined in":"language/Language.ts:228","parameters#parameters":"• Readonly parameters: InteractionParameter[]","defined-in-2#Defined in":"language/Language.ts:229","methods-1#Methods":"","execute#execute":"▸ execute(parameters): Promise<string>","parameters-1#Parameters":"Name\tType\tparameters\tobject","returns#Returns":"Promise<string>","defined-in-3#Defined in":"language/Language.ts:230"}},"/jsdoc/interfaces/LanguageAdapter":{"title":"Interface: LanguageAdapter","data":{"":"@coasys/ad4m / Exports / LanguageAdapter","table-of-contents#Table of contents":"","methods#Methods":"getLanguageSource","methods-1#Methods":"","getlanguagesource#getLanguageSource":"▸ getLanguageSource(address): Promise<string>","parameters#Parameters":"Name\tType\taddress\tstring","returns#Returns":"Promise<string>","defined-in#Defined in":"language/Language.ts:132"}},"/jsdoc/interfaces/LanguageContext":{"title":"Interface: LanguageContext","data":{"":"@coasys/ad4m / Exports / LanguageContext","table-of-contents#Table of contents":"","properties#Properties":"Holochain\nad4mSignal\nagent\ncustomSettings\nsignatures\nstorageDirectory","properties-1#Properties":"","holochain#Holochain":"• Holochain: HolochainLanguageDelegate","defined-in#Defined in":"language/LanguageContext.ts:18","ad4msignal#ad4mSignal":"• ad4mSignal: Ad4mSignalCB","defined-in-1#Defined in":"language/LanguageContext.ts:19","agent#agent":"• agent: AgentService","defined-in-2#Defined in":"language/LanguageContext.ts:14","customsettings#customSettings":"• customSettings: object","defined-in-3#Defined in":"language/LanguageContext.ts:17","signatures#signatures":"• signatures: SignaturesService","defined-in-4#Defined in":"language/LanguageContext.ts:15","storagedirectory#storageDirectory":"• storageDirectory: string","defined-in-5#Defined in":"language/LanguageContext.ts:16"}},"/jsdoc/interfaces/PropertyMetadata":{"title":"Interface: PropertyMetadata","data":{"":"@coasys/ad4m / Exports / PropertyMetadataMetadata for a single property extracted from decorators.","table-of-contents#Table of contents":"","properties#Properties":"flag\ngetter\ninitial\nlocal\nname\npredicate\nrequired\nresolveLanguage\nsetter\ntransform\nwritable","properties-1#Properties":"","flag#flag":"• Optional flag: booleanWhether this is a flag property","defined-in#Defined in":"model/Ad4mModel.ts:100","getter#getter":"• Optional getter: stringCustom Prolog getter code","defined-in-1#Defined in":"model/Ad4mModel.ts:92","initial#initial":"• Optional initial: stringInitial value if specified","defined-in-2#Defined in":"model/Ad4mModel.ts:88","local#local":"• Optional local: booleanWhether stored locally only","defined-in-3#Defined in":"model/Ad4mModel.ts:96","name#name":"• name: stringThe property name","defined-in-4#Defined in":"model/Ad4mModel.ts:80","predicate#predicate":"• predicate: stringThe predicate URI (through value)","defined-in-5#Defined in":"model/Ad4mModel.ts:82","required#required":"• required: booleanWhether the property is required","defined-in-6#Defined in":"model/Ad4mModel.ts:84","resolvelanguage#resolveLanguage":"• Optional resolveLanguage: stringLanguage for resolution (e.g., \"literal\")","defined-in-7#Defined in":"model/Ad4mModel.ts:90","setter#setter":"• Optional setter: stringCustom Prolog setter code","defined-in-8#Defined in":"model/Ad4mModel.ts:94","transform#transform":"• Optional transform: (value: any) => any","type-declaration#Type declaration":"▸ (value): anyTransform function","parameters#Parameters":"Name\tType\tvalue\tany","returns#Returns":"any","defined-in-9#Defined in":"model/Ad4mModel.ts:98","writable#writable":"• writable: booleanWhether the property is writable","defined-in-10#Defined in":"model/Ad4mModel.ts:86"}},"/jsdoc/interfaces/Language":{"title":"Interface: Language","data":{"":"@coasys/ad4m / Exports / LanguageInterface of AD4M LanguagesAny JavaScript module that implements a create() function that returns an object that implements this interface\nis a valid AD4M language.\nSo the AD4M-internal representation of a language is an object that implements this interface.Since there are a few different kinds of languages, this interface is split into optional sub-interfaces.\nThe only required property is the name of the language.The most usual kind of language is the \"Expression Language\", which is a language that can be used to create\nand share Expressions.\nFor that, implement the expressionsAdapter and expressionUI interface.The second most common kind of language is the \"Link Language\", which is a language that builds the core\nof AD4M Neighbourhoods.\nFor that, implement the linksAdapter interface.","table-of-contents#Table of contents":"","properties#Properties":"directMessageAdapter\nexpressionAdapter\nexpressionUI\ngetAllAdapter\ngetByAuthorAdapter\nlanguageAdapter\nlinksAdapter\nname\nsettingsUI\nteardown\ntelepresenceAdapter","methods#Methods":"interactions\nisImmutableExpression","properties-1#Properties":"","directmessageadapter#directMessageAdapter":"• Optional Readonly directMessageAdapter: DirectMessageAdapterOptional adapter for direct messaging between agents","defined-in#Defined in":"language/Language.ts:65","expressionadapter#expressionAdapter":"• Optional Readonly expressionAdapter: ExpressionAdapterExpressionAdapter implements means of getting an Expression\nby address and putting an expression","defined-in-1#Defined in":"language/Language.ts:39","expressionui#expressionUI":"• Optional Readonly expressionUI: ExpressionUIInterface for getting UI/web components for rendering Expressions of this Language","defined-in-2#Defined in":"language/Language.ts:42","getalladapter#getAllAdapter":"• Optional Readonly getAllAdapter: GetAllAdapterOptional adapter for getting all Expressions","defined-in-3#Defined in":"language/Language.ts:62","getbyauthoradapter#getByAuthorAdapter":"• Optional Readonly getByAuthorAdapter: GetByAuthorAdapterOptional adapter for getting Expressions by author","defined-in-4#Defined in":"language/Language.ts:60","languageadapter#languageAdapter":"• Optional Readonly languageAdapter: LanguageAdapterImplementation of a Language that defines and stores Languages","defined-in-5#Defined in":"language/Language.ts:57","linksadapter#linksAdapter":"• Optional Readonly linksAdapter: LinkSyncAdapterInterface of LinkLanguages for the core implementation of Neighbourhoods","defined-in-6#Defined in":"language/Language.ts:45","name#name":"• Readonly name: string","defined-in-7#Defined in":"language/Language.ts:27","settingsui#settingsUI":"• Optional Readonly settingsUI: SettingsUIInterface for providing UI components for the settings of this Language","defined-in-8#Defined in":"language/Language.ts:68","teardown#teardown":"• Optional Readonly teardown: () => void","type-declaration#Type declaration":"▸ (): voidOptional function to make any cleanup/teardown if your language gets deleting in the ad4m-executor","returns#Returns":"void","defined-in-9#Defined in":"language/Language.ts:71","telepresenceadapter#telepresenceAdapter":"• Optional Readonly telepresenceAdapter: TelepresenceAdapterAdditional Interface of LinkLanguages that support telepresence features,\nthat is:\nseeing who is online and getting a status\nsending/receiveing p2p signals to other online agents without affecting\nthe shared Perspective of the Neighbourhood\n(see TelepresenceAdapter for more details)","defined-in-10#Defined in":"language/Language.ts:54","methods-1#Methods":"","interactions#interactions":"▸ interactions(expression): Interaction[]All available interactions this agent could execute on given expression","parameters#Parameters":"Name\tType\texpression\tstring","returns-1#Returns":"Interaction[]","defined-in-11#Defined in":"language/Language.ts:74","isimmutableexpression#isImmutableExpression":"▸ Optional isImmutableExpression(expression): booleanFlagging expressions as immutable to enable\nexpression caching in the ad4m-executor","parameters-1#Parameters":"Name\tType\texpression\tstring","returns-2#Returns":"boolean","defined-in-12#Defined in":"language/Language.ts:32"}},"/jsdoc/interfaces/PublicSharing":{"title":"Interface: PublicSharing","data":{"":"@coasys/ad4m / Exports / PublicSharingImplement this interface if your Language supports creation of sharing\nof Expressions.\nSee ExpressionAdapter","table-of-contents#Table of contents":"","methods#Methods":"createPublic","methods-1#Methods":"","createpublic#createPublic":"▸ createPublic(content): Promise<string>Create an Expression and shares it.\nReturn the Expression's address.","parameters#Parameters":"Name\tType\tDescription\tcontent\tobject\tis the object created by the constructorIcon component","returns#Returns":"Promise<string>","defined-in#Defined in":"language/Language.ts:118"}},"/jsdoc/interfaces/PropertyOptions":{"title":"Interface: PropertyOptions","data":{"":"@coasys/ad4m / Exports / PropertyOptions","table-of-contents#Table of contents":"","properties#Properties":"getter\ninitial\nlocal\nrequired\nresolveLanguage\nsetter\nthrough\ntransform\nwritable","properties-1#Properties":"","getter#getter":"• Optional getter: stringCustom getter to get the value of the property in the prolog engine. If not provided, the default getter will be used.","defined-in#Defined in":"model/decorators.ts:149","initial#initial":"• Optional initial: stringThe initial value of the property. Required if the property is marked as required.","defined-in-1#Defined in":"model/decorators.ts:129","local#local":"• Optional local: booleanIndicates whether the property is stored locally in the perspective and not in the network. Useful for properties that are not meant to be shared with the network.","defined-in-2#Defined in":"model/decorators.ts:159","required#required":"• Optional required: booleanIndicates whether the property is required. If true, an initial value must be provided.","defined-in-3#Defined in":"model/decorators.ts:134","resolvelanguage#resolveLanguage":"• Optional resolveLanguage: stringThe language used to store the property. Can be the default Literal Language or a custom language address.","defined-in-4#Defined in":"model/decorators.ts:144","setter#setter":"• Optional setter: stringCustom setter to set the value of the property in the prolog engine. Only available if the property is writable.","defined-in-5#Defined in":"model/decorators.ts:154","through#through":"• Optional through: stringThe predicate of the property. All properties must have this option.","defined-in-6#Defined in":"model/decorators.ts:124","transform#transform":"• Optional transform: (value: any) => any","type-declaration#Type declaration":"▸ (value): anyOptional transform function to modify the property value after it is retrieved.\nThis is useful for transforming raw data into a more usable format.\nThe function takes the raw value as input and returns the transformed value.","parameters#Parameters":"Name\tType\tvalue\tany","returns#Returns":"any","defined-in-7#Defined in":"model/decorators.ts:166","writable#writable":"• Optional writable: booleanIndicates whether the property is writable. If true, a setter will be available in the prolog engine.","defined-in-8#Defined in":"model/decorators.ts:139"}},"/jsdoc/interfaces/ModelMetadata":{"title":"Interface: ModelMetadata","data":{"":"@coasys/ad4m / Exports / ModelMetadataComplete model metadata extracted from decorators.","table-of-contents#Table of contents":"","properties#Properties":"className\ncollections\nproperties","properties-1#Properties":"","classname#className":"• className: stringThe model class name fromModel Options","defined-in#Defined in":"model/Ad4mModel.ts:122","collections#collections":"• collections: Record<string, CollectionMetadata>Map of collection name to metadata","defined-in-1#Defined in":"model/Ad4mModel.ts:126","properties-2#properties":"• properties: Record<string, PropertyMetadata>Map of property name to metadata","defined-in-2#Defined in":"model/Ad4mModel.ts:124"}},"/jsdoc/interfaces/ReadOnlyLanguage":{"title":"Interface: ReadOnlyLanguage","data":{"":"@coasys/ad4m / Exports / ReadOnlyLanguageImplement this interface if your Language is defined over a static\nset of pre-defined Expressions.","table-of-contents#Table of contents":"","methods#Methods":"addressOf","methods-1#Methods":"","addressof#addressOf":"▸ addressOf(content): Promise<string>This just calculates the address of an object","parameters#Parameters":"Name\tType\tDescription\tcontent\tobject\tis the object created by the constructorIcon component","returns#Returns":"Promise<string>","defined-in#Defined in":"language/Language.ts:128"}},"/jsdoc/interfaces/SignaturesService":{"title":"Interface: SignaturesService","data":{"":"@coasys/ad4m / Exports / SignaturesService","table-of-contents#Table of contents":"","methods#Methods":"verify","methods-1#Methods":"","verify#verify":"▸ verify(expr): boolean","parameters#Parameters":"Name\tType\texpr\tExpression","returns#Returns":"boolean","defined-in#Defined in":"language/LanguageContext.ts:10"}},"/jsdoc/interfaces/SettingsUI":{"title":"Interface: SettingsUI","data":{"":"@coasys/ad4m / Exports / SettingsUI","table-of-contents#Table of contents":"","methods#Methods":"settingsIcon","methods-1#Methods":"","settingsicon#settingsIcon":"▸ settingsIcon(): string","returns#Returns":"string","defined-in#Defined in":"language/Language.ts:86"}},"/jsdoc/interfaces/TelepresenceAdapter":{"title":"Interface: TelepresenceAdapter","data":{"":"@coasys/ad4m / Exports / TelepresenceAdapter","table-of-contents#Table of contents":"","methods#Methods":"getOnlineAgents\nregisterSignalCallback\nsendBroadcast\nsendSignal\nsetOnlineStatus","methods-1#Methods":"","getonlineagents#getOnlineAgents":"▸ getOnlineAgents(): Promise<OnlineAgent[]>","returns#Returns":"Promise<OnlineAgent[]>","defined-in#Defined in":"language/Language.ts:261","registersignalcallback#registerSignalCallback":"▸ registerSignalCallback(callback): Promise<void>","parameters#Parameters":"Name\tType\tcallback\tTelepresenceSignalCallback","returns-1#Returns":"Promise<void>","defined-in-1#Defined in":"language/Language.ts:265","sendbroadcast#sendBroadcast":"▸ sendBroadcast(payload): Promise<object>","parameters-1#Parameters":"Name\tType\tpayload\tPerspectiveExpression","returns-2#Returns":"Promise<object>","defined-in-2#Defined in":"language/Language.ts:264","sendsignal#sendSignal":"▸ sendSignal(remoteAgentDid, payload): Promise<object>","parameters-2#Parameters":"Name\tType\tremoteAgentDid\tstring\tpayload\tPerspectiveExpression","returns-3#Returns":"Promise<object>","defined-in-3#Defined in":"language/Language.ts:263","setonlinestatus#setOnlineStatus":"▸ setOnlineStatus(status): Promise<void>","parameters-3#Parameters":"Name\tType\tstatus\tPerspectiveExpression","returns-4#Returns":"Promise<void>","defined-in-4#Defined in":"language/Language.ts:260"}},"/jsdoc/modules":{"title":"@coasys/ad4m","data":{"":"@coasys/ad4m / Exports","table-of-contents#Table of contents":"","enumerations#Enumerations":"ExceptionType\nPerspectiveState","classes#Classes":"AIClient\nAIModelLoadingStatus\nAIPromptExamples\nAIPromptExamplesInput\nAITask\nAITaskInput\nAd4mClient\nAd4mModel\nAgent\nAgentClient\nAgentExpression\nAgentSignature\nAgentStatus\nApps\nAuthInfo\nAuthInfoInput\nCapability\nCapabilityInput\nDna\nEntanglementProof\nEntanglementProofInput\nExceptionInfo\nExpression\nExpressionProof\nExpressionProofInput\nExpressionRef\nExpressionRendered\nIcon\nImportResult\nImportStats\nInteractionCall\nInteractionMeta\nInteractionParameter\nLanguageExpression\nLanguageHandle\nLanguageLanguageInput\nLanguageMeta\nLanguageMetaInput\nLanguageMetaInternal\nLanguageRef\nLink\nLinkExpression\nLinkExpressionInput\nLinkExpressionMutations\nLinkExpressionUpdated\nLinkInput\nLinkMutations\nLinkQuery\nLiteral\nModelQueryBuilder\nNeighbourhood\nNeighbourhoodExpression\nNeighbourhoodProxy\nNotification\nNotificationInput\nOnlineAgent\nPerspective\nPerspectiveAction\nPerspectiveDiff\nPerspectiveDiffExpression\nPerspectiveExpression\nPerspectiveHandle\nPerspectiveInput\nPerspectiveProxy\nPerspectiveUnsignedInput\nQuerySubscriptionProxy\nResource\nResourceInput\nRuntimeInfo\nSentMessage\nSmartLiteral\nSubject\nTriggeredNotification","interfaces#Interfaces":"AgentService\nCollectionMetadata\nCollectionOptions\nDirectMessageAdapter\nExpressionAdapter\nExpressionUI\nFlagOptions\nGetAllAdapter\nGetByAuthorAdapter\nHolochainLanguageDelegate\nInitializeArgs\nInstanceQueryParams\nInteraction\nLanguage\nLanguageAdapter\nLanguageContext\nLinkSyncAdapter\nModelMetadata\nModelOptionsOptions\nPropertyMetadata\nPropertyOptions\nPublicSharing\nReadOnlyLanguage\nSettingsUI\nSignaturesService\nTelepresenceAdapter","type-aliases#Type Aliases":"Ad4mSignalCB\nAddress\nAgentAppsUpdatedCallback\nAgentStatusChangedCallback\nAgentUpdatedCallback\nAllInstancesResult\nDID\nLinkStatus\nMessageCallback\nPaginationResult\nPerspectiveDiffObserver\nQuery\nResultsWithTotalCount\nStatusCallback\nSyncStateChangeObserver\nTelepresenceSignalCallback","variables#Variables":"SMART_LITERAL_CONTENT_PREDICATE\ntypeDefsString","decorators-functions#Decorators Functions":"Collection\nFlag\nInstanceQuery\nModelOptions\nOptional\nProperty\nReadOnly","other-functions#Other Functions":"ExpressionGeneric\nExpressionGenericInput\naddLink\ncapSentence\nexprRef2String\nformatList\nhasLink\nisExpression\nisLink\nlinkEqual\nmakeRandomPrologAtom\nparseExprUrl","type-aliases-1#Type Aliases":"","ad4msignalcb#Ad4mSignalCB":"Ƭ Ad4mSignalCB: (signal: any) => void","type-declaration#Type declaration":"▸ (signal): void","parameters#Parameters":"Name\tType\tsignal\tany","returns#Returns":"void","defined-in#Defined in":"language/LanguageContext.ts:37","address#Address":"Ƭ Address: string","defined-in-1#Defined in":"Address.ts:1","agentappsupdatedcallback#AgentAppsUpdatedCallback":"Ƭ AgentAppsUpdatedCallback: () => null","type-declaration-1#Type declaration":"▸ (): null","returns-1#Returns":"null","defined-in-2#Defined in":"agent/AgentClient.ts:81","agentstatuschangedcallback#AgentStatusChangedCallback":"Ƭ AgentStatusChangedCallback: (agent: Agent) => null","type-declaration-2#Type declaration":"▸ (agent): null","parameters-1#Parameters":"Name\tType\tagent\tAgent","returns-2#Returns":"null","defined-in-3#Defined in":"agent/AgentClient.ts:80","agentupdatedcallback#AgentUpdatedCallback":"Ƭ AgentUpdatedCallback: (agent: Agent) => null","type-declaration-3#Type declaration":"▸ (agent): null","parameters-2#Parameters":"Name\tType\tagent\tAgent","returns-3#Returns":"null","defined-in-4#Defined in":"agent/AgentClient.ts:79","allinstancesresult#AllInstancesResult":"Ƭ AllInstancesResult: Object","type-declaration-4#Type declaration":"Name\tType\tAllInstances\tAd4mModel[]\tTotalCount?\tnumber\tisInit?\tboolean","defined-in-5#Defined in":"model/Ad4mModel.ts:71","did#DID":"Ƭ DID: string","defined-in-6#Defined in":"DID.ts:1","linkstatus#LinkStatus":"Ƭ LinkStatus: \"shared\" | \"local\"","defined-in-7#Defined in":"perspectives/PerspectiveProxy.ts:321","messagecallback#MessageCallback":"Ƭ MessageCallback: (message: PerspectiveExpression) => void","type-declaration-5#Type declaration":"▸ (message): void","parameters-3#Parameters":"Name\tType\tmessage\tPerspectiveExpression","returns-4#Returns":"void","defined-in-8#Defined in":"language/Language.ts:192","paginationresult#PaginationResult":"Ƭ PaginationResult<T>: Object","type-parameters#Type parameters":"Name\tT","type-declaration-6#Type declaration":"Name\tType\tpageNumber\tnumber\tpageSize\tnumber\tresults\tT[]\ttotalCount?\tnumber","defined-in-9#Defined in":"model/Ad4mModel.ts:73","perspectivediffobserver#PerspectiveDiffObserver":"Ƭ PerspectiveDiffObserver: (diff: PerspectiveDiff) => void","type-declaration-7#Type declaration":"▸ (diff): void","parameters-4#Parameters":"Name\tType\tdiff\tPerspectiveDiff","returns-5#Returns":"void","defined-in-10#Defined in":"language/Language.ts:151","query#Query":"Ƭ Query: Object","type-declaration-8#Type declaration":"Name\tType\tcollections?\tstring[]\tcount?\tboolean\tlimit?\tnumber\toffset?\tnumber\torder?\tOrder\tproperties?\tstring[]\tsource?\tstring\twhere?\tWhere","defined-in-11#Defined in":"model/Ad4mModel.ts:60","resultswithtotalcount#ResultsWithTotalCount":"Ƭ ResultsWithTotalCount<T>: Object","type-parameters-1#Type parameters":"Name\tT","type-declaration-9#Type declaration":"Name\tType\tresults\tT[]\ttotalCount?\tnumber","defined-in-12#Defined in":"model/Ad4mModel.ts:72","statuscallback#StatusCallback":"Ƭ StatusCallback: (caller: DID) => Perspective","type-declaration-10#Type declaration":"▸ (caller): Perspective","parameters-5#Parameters":"Name\tType\tcaller\tDID","returns-6#Returns":"Perspective","defined-in-13#Defined in":"language/Language.ts:193","syncstatechangeobserver#SyncStateChangeObserver":"Ƭ SyncStateChangeObserver: (state: PerspectiveState) => void","type-declaration-11#Type declaration":"▸ (state): void","parameters-6#Parameters":"Name\tType\tstate\tPerspectiveState","returns-7#Returns":"void","defined-in-14#Defined in":"language/Language.ts:152","telepresencesignalcallback#TelepresenceSignalCallback":"Ƭ TelepresenceSignalCallback: (payload: PerspectiveExpression) => void","type-declaration-12#Type declaration":"▸ (payload): void","parameters-7#Parameters":"Name\tType\tpayload\tPerspectiveExpression","returns-8#Returns":"void","defined-in-15#Defined in":"language/Language.ts:258","variables-1#Variables":"","smart_literal_content_predicate#SMART_LITERAL_CONTENT_PREDICATE":"• Const SMART_LITERAL_CONTENT_PREDICATE: \"smart_literal://content\"","defined-in-16#Defined in":"SmartLiteral.ts:6","typedefsstring#typeDefsString":"• Const typeDefsString: \"\"","defined-in-17#Defined in":"typeDefs.ts:6","decorators-functions-1#Decorators Functions":"","collection#Collection":"▸ Collection(opts): <T>(target: T, key: keyof T) => voidDecorator for defining collections on model classes.","parameters-8#Parameters":"Name\tType\tDescription\topts\tCollectionOptions\tCollection configuration","returns-9#Returns":"fn▸ <T>(target, key): void","type-parameters-2#Type parameters":"Name\tT","parameters-9#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T","returns-10#Returns":"voidDescriptionDefines a property that represents a collection of values linked to the model instance.\nCollections are always arrays and support operations for adding, removing, and setting values.For each collection property, the following methods are automatically generated:\naddX(value) - Add a value to the collection\nremoveX(value) - Remove a value from the collection\nsetCollectionX(values) - Replace all values in the collection\nWhere X is the capitalized property name.Collections can be filtered using the where option to only include values that:\nAre instances of a specific model class\nMatch a custom Prolog condition\nExample\nclass Recipe extends Ad4mModel {\n  // Basic collection of ingredients\n  @Collection({ \n    through: \"recipe://ingredient\" \n  })\n  ingredients: string[] = [];\n  // Collection that only includes instances of another model\n  @Collection({\n    through: \"recipe://comment\",\n    where: { isInstance: Comment }\n  })\n  comments: string[] = [];\n  // Collection with custom filter condition\n  @Collection({\n    through: \"recipe://step\",\n    where: { condition: `triple(Target, \"step://order\", Order), Order < 3` }\n  })\n  firstSteps: string[] = [];\n  // Local-only collection not shared with network\n  @Collection({\n    through: \"recipe://note\",\n    local: true\n  })\n  privateNotes: string[] = [];\n}\n// Using the generated methods:\nconst recipe = new Recipe(perspective);\nawait recipe.addIngredients(\"ingredient://flour\");\nawait recipe.removeIngredients(\"ingredient://sugar\");\nawait recipe.setCollectionIngredients([\"ingredient://butter\", \"ingredient://eggs\"]);","defined-in-18#Defined in":"model/decorators.ts:459","flag#Flag":"▸ Flag(opts): <T>(target: T, key: keyof T) => voidDecorator for defining flags on model classes.","parameters-10#Parameters":"Name\tType\tDescription\topts\tFlagOptions\tFlag configuration","returns-11#Returns":"fn▸ <T>(target, key): void","type-parameters-3#Type parameters":"Name\tT","parameters-11#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T","returns-12#Returns":"voidDescriptionA specialized property decorator for defining immutable type flags or markers on model instances.\nFlags are always required properties with a fixed value that cannot be changed after creation.Common uses for flags:\nType discrimination between different kinds of models\nMarking models with specific capabilities or features\nVersioning or compatibility markers\nNote: Use of Flag is discouraged unless you specifically need type-based filtering or\ndiscrimination between different kinds of models. For most cases, regular properties\nwithPropertyorOptionalare more appropriate.Example\nclass Message extends Ad4mModel {\n  // Type flag to identify message models\n  @Flag({\n    through: \"ad4m://type\",\n    value: \"ad4m://message\"\n  })\n  type: string = \"\";\n  // Version flag for compatibility\n  @Flag({\n    through: \"ad4m://version\",\n    value: \"1.0.0\"\n  })\n  version: string = \"\";\n  // Feature flag\n  @Flag({\n    through: \"message://feature\",\n    value: \"message://encrypted\"\n  })\n  feature: string = \"\";\n}\n// Later you can query for specific types:\nconst messages = await Message.query(perspective)\n  .where({ type: \"ad4m://message\" })\n  .run();","defined-in-19#Defined in":"model/decorators.ts:341","instancequery#InstanceQuery":"▸ InstanceQuery(options?): <T>(target: T, key: keyof T, descriptor: PropertyDescriptor) => voidDecorator for querying instances of a model class.","parameters-12#Parameters":"Name\tType\tDescription\toptions?\tInstanceQueryParams\tQuery options","returns-13#Returns":"fn▸ <T>(target, key, descriptor): void","type-parameters-4#Type parameters":"Name\tT","parameters-13#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T\tdescriptor\tPropertyDescriptor","returns-14#Returns":"voidDescriptionAllows you to define static query methods on your model class to retrieve instances based on custom conditions.\nThis decorator can only be applied to static async methods that return a Promise of an array of model instances.The query can be constrained using either:\nA where clause that matches property values\nA custom Prolog condition for more complex queries\nExample\nclass Recipe extends Ad4mModel {\n  @Property({ through: \"recipe://name\" })\n  name: string = \"\";\n  @Property({ through: \"recipe://rating\" })\n  rating: number = 0;\n  // Get all recipes\n  @InstanceQuery()\n  static async all(perspective: PerspectiveProxy): Promise<Recipe[]> { return [] }\n  // Get recipes by name\n  @InstanceQuery({ where: { name: \"Chocolate Cake\" }})\n  static async findByName(perspective: PerspectiveProxy): Promise<Recipe[]> { return [] }\n  // Get highly rated recipes using a custom condition\n  @InstanceQuery({ condition: \"triple(Instance, 'recipe://rating', Rating), Rating > 4\" })\n  static async topRated(perspective: PerspectiveProxy): Promise<Recipe[]> { return [] }\n}","defined-in-20#Defined in":"model/decorators.ts:77","modeloptions#ModelOptions":"▸ ModelOptions(opts): (target: any) => voidDecorator for defining model classes in AD4M.","parameters-14#Parameters":"Name\tType\tDescription\topts\tModelOptionsOptions\tModel configuration","returns-15#Returns":"fn▸ (target): void","parameters-15#Parameters":"Name\tType\ttarget\tany","returns-16#Returns":"voidDescriptionThe root decorator that must be applied to any class that represents a model in AD4M.\nIt registers the class as a Social DNA (SDNA) subject class and provides the infrastructure\nfor storing and retrieving instances.This decorator:\nRegisters the class with a unique name in the AD4M system\nGenerates the necessary SDNA code for the model's properties and collections\nEnables the use of other model decorators (@Property, @Collection, etc.)\nProvides static query methods through the Ad4mModel base class\nExample\n@ModelOptions({ name: \"Recipe\" })\nclass Recipe extends Ad4mModel {\n  @Property({\n    through: \"recipe://name\",\n    resolveLanguage: \"literal\"\n  })\n  name: string = \"\";\n  @Collection({ through: \"recipe://ingredient\" })\n  ingredients: string[] = [];\n  // Static query methods from Ad4mModel:\n  static async findByName(perspective: PerspectiveProxy, name: string) {\n    return Recipe.query(perspective)\n      .where({ name })\n      .run();\n  }\n}\n// Using the model:\nconst recipe = new Recipe(perspective);\nrecipe.name = \"Chocolate Cake\";\nawait recipe.save();\n// Querying instances:\nconst recipes = await Recipe.query(perspective)\n  .where({ name: \"Chocolate Cake\" })\n  .run();\n// Using with PerspectiveProxy:\nawait perspective.ensureSDNASubjectClass(Recipe);","defined-in-21#Defined in":"model/decorators.ts:544","optional#Optional":"▸ Optional(opts): <T>(target: T, key: keyof T) => voidDecorator for defining optional properties on model classes.","parameters-16#Parameters":"Name\tType\tDescription\topts\tPropertyOptions\tProperty configuration options","returns-17#Returns":"fn▸ <T>(target, key): void","type-parameters-5#Type parameters":"Name\tT","parameters-17#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T","returns-18#Returns":"voidDescriptionThe most flexible property decorator that allows you to define properties with full control over:\nWhether the property is required\nWhether the property is writable\nHow values are stored and retrieved\nCustom getter/setter logic\nLocal vs network storage\nBothPropertyandRead Onlyare specialized versions ofOptionalwith preset configurations.Example\nclass Recipe extends Ad4mModel {\n  // Basic optional property\n  @Optional({\n    through: \"recipe://description\"\n  })\n  description?: string;\n  // Optional property with custom initial value\n  @Optional({\n    through: \"recipe://status\",\n    initial: \"recipe://draft\",\n    required: true\n  })\n  status: string = \"\";\n  // Read-only property with custom getter\n  @Optional({\n    through: \"recipe://rating\",\n    writable: false,\n    getter: `\n      findall(Rating, triple(Base, \"recipe://user_rating\", Rating), Ratings),\n      sum_list(Ratings, Sum),\n      length(Ratings, Count),\n      Value is Sum / Count\n    `\n  })\n  averageRating: number = 0;\n  // Property that resolves to a Literal and is stored locally\n  @Optional({\n    through: \"recipe://notes\",\n    resolveLanguage: \"literal\",\n    local: true\n  })\n  notes?: string;\n  // Property with custom getter and setter logic\n  @Optional({\n    through: \"recipe://ingredients\",\n    getter: `\n      triple(Base, \"recipe://ingredients\", RawValue),\n      atom_json_term(RawValue, Value)\n    `,\n    setter: `\n      atom_json_term(Value, JsonValue),\n      Actions = [{\"action\": \"setSingleTarget\", \"source\": \"this\", \"predicate\": \"recipe://ingredients\", \"target\": JsonValue}]\n    `\n  })\n  ingredients: string[] = [];\n}","defined-in-22#Defined in":"model/decorators.ts:249","property#Property":"▸ Property(opts): <T>(target: T, key: keyof T) => voidDecorator for defining required and writable properties on model classes.","parameters-18#Parameters":"Name\tType\tDescription\topts\tPropertyOptions\tProperty configuration","returns-19#Returns":"fn▸ <T>(target, key): void","type-parameters-6#Type parameters":"Name\tT","parameters-19#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T","returns-20#Returns":"voidDescriptionA convenience decorator that defines a required property that must have an initial value and is writable by default.\nThis is equivalent to usingOptionalwith required: true and writable: true.Properties defined with this decorator:\nMust have a value (required)\nCan be modified after creation (writable)\nDefault to \"literal://string:uninitialized\" if no initial value is provided\nExample\nclass User extends Ad4mModel {\n  // Basic required property with default initial value\n  @Property({\n    through: \"user://name\"\n  })\n  name: string = \"\";\n  // Required property with custom initial value\n  @Property({\n    through: \"user://status\",\n    initial: \"user://active\"\n  })\n  status: string = \"\";\n  // Required property with literal resolution\n  @Property({\n    through: \"user://bio\",\n    resolveLanguage: \"literal\"\n  })\n  bio: string = \"\";\n  // Required property with custom getter/setter\n  @Property({\n    through: \"user://age\",\n    getter: `triple(Base, \"user://birthYear\", Year), Value is 2024 - Year`,\n    setter: `Year is 2024 - Value, Actions = [{\"action\": \"setSingleTarget\", \"source\": \"this\", \"predicate\": \"user://birthYear\", \"target\": Year}]`\n  })\n  age: number = 0;\n}","defined-in-23#Defined in":"model/decorators.ts:776","readonly#ReadOnly":"▸ ReadOnly(opts): <T>(target: T, key: keyof T) => voidDecorator for defining read-only properties on model classes.","parameters-20#Parameters":"Name\tType\tDescription\topts\tPropertyOptions\tProperty configuration","returns-21#Returns":"fn▸ <T>(target, key): void","type-parameters-7#Type parameters":"Name\tT","parameters-21#Parameters":"Name\tType\ttarget\tT\tkey\tkeyof T","returns-22#Returns":"voidDescriptionA convenience decorator that defines a property that can only be read and cannot be modified after initialization.\nThis is equivalent to usingOptionalwith writable: false.Read-only properties are ideal for:\nComputed or derived values\nProperties that should never change after creation\nProperties that are set by the system\nProperties that represent immutable data\nExample\nclass Post extends Ad4mModel {\n  // Read-only property with custom getter for computed value\n  @ReadOnly({\n    through: \"post://likes\",\n    getter: `findall(User, triple(Base, \"post://liked_by\", User), Users), length(Users, Value)`\n  })\n  likeCount: number = 0;\n  // Read-only property for creation timestamp\n  @ReadOnly({\n    through: \"post://created_at\",\n    initial: new Date().toISOString()\n  })\n  createdAt: string = \"\";\n  // Read-only property that resolves to a Literal\n  @ReadOnly({\n    through: \"post://author\",\n    resolveLanguage: \"literal\"\n  })\n  author: string = \"\";\n  // Read-only property for system-managed data\n  @ReadOnly({\n    through: \"post://version\",\n    initial: \"1.0.0\"\n  })\n  version: string = \"\";\n}","defined-in-24#Defined in":"model/decorators.ts:840","other-functions-1#Other Functions":"","expressiongeneric#ExpressionGeneric":"▸ ExpressionGeneric<DataType>(DataTypeClass): any","type-parameters-8#Type parameters":"Name\tDataType","parameters-22#Parameters":"Name\tType\tDataTypeClass\tClassType<DataType>","returns-23#Returns":"any","defined-in-25#Defined in":"expression/Expression.ts:42","expressiongenericinput#ExpressionGenericInput":"▸ ExpressionGenericInput<DataType>(DataTypeClass): any","type-parameters-9#Type parameters":"Name\tDataType","parameters-23#Parameters":"Name\tType\tDataTypeClass\tClassType<DataType>","returns-24#Returns":"any","defined-in-26#Defined in":"expression/Expression.ts:67","addlink#addLink":"▸ addLink(source, predicate, target): PerspectiveAction","parameters-24#Parameters":"Name\tType\tsource\tstring\tpredicate\tstring\ttarget\tstring","returns-25#Returns":"PerspectiveAction","defined-in-27#Defined in":"model/decorators.ts:12","capsentence#capSentence":"▸ capSentence(cap): string","parameters-25#Parameters":"Name\tType\tcap\tany","returns-26#Returns":"string","defined-in-28#Defined in":"utils.ts:15","exprref2string#exprRef2String":"▸ exprRef2String(ref): string","parameters-26#Parameters":"Name\tType\tref\tExpressionRef","returns-27#Returns":"string","defined-in-29#Defined in":"expression/ExpressionRef.ts:22","formatlist#formatList":"▸ formatList(list): any","parameters-27#Parameters":"Name\tType\tlist\tany","returns-28#Returns":"any","defined-in-30#Defined in":"utils.ts:1","haslink#hasLink":"▸ hasLink(predicate): string","parameters-28#Parameters":"Name\tType\tpredicate\tstring","returns-29#Returns":"string","defined-in-31#Defined in":"model/decorators.ts:21","isexpression#isExpression":"▸ isExpression(e): boolean","parameters-29#Parameters":"Name\tType\te\tany","returns-30#Returns":"boolean","defined-in-32#Defined in":"expression/Expression.ts:97","islink#isLink":"▸ isLink(l): boolean","parameters-30#Parameters":"Name\tType\tl\tany","returns-31#Returns":"boolean","defined-in-33#Defined in":"links/Links.ts:91","linkequal#linkEqual":"▸ linkEqual(l1, l2): boolean","parameters-31#Parameters":"Name\tType\tl1\tLinkExpression\tl2\tLinkExpression","returns-32#Returns":"boolean","defined-in-34#Defined in":"links/Links.ts:83","makerandomprologatom#makeRandomPrologAtom":"▸ makeRandomPrologAtom(length): string","parameters-32#Parameters":"Name\tType\tlength\tnumber","returns-33#Returns":"string","defined-in-35#Defined in":"model/decorators.ts:473","parseexprurl#parseExprUrl":"▸ parseExprUrl(url): ExpressionRef","parameters-33#Parameters":"Name\tType\turl\tstring","returns-34#Returns":"ExpressionRef","defined-in-36#Defined in":"expression/ExpressionRef.ts:29"}},"/perspectives":{"title":"Perspectives: Agent-Centric Knowledge Graphs","data":{"understanding-perspectives#Understanding Perspectives":"Perspectives are semantic knowledge graphs inspired by the Semantic Web and Linked Data principles, but reimagined through an agent-centric lens. While traditional RDF graphs and Solid PODs are designed around data ownership, Perspectives emphasize that all knowledge is inherently subjective and tied to the agent who claims it.","objective-vs-subjective-data#Objective vs. Subjective Data":"In AD4M, we distinguish between two types of data:\nObjective Data (Expressions):\nStored in Languages\nSame content for any agent requesting a given URL\nCryptographically signed by their author\nExample: A post stored at QmSocial123://post789\nSubjective Data (Perspectives):\nPersonal associations between Expressions\nOwned by a specific agent\nRepresent that agent's view of relationships\nExample: Agent Alice linking a post as \"important\" or \"related-to\" another post","links-agent-centric-triples#Links: Agent-Centric Triples":"Perspectives consist of Links – our agent-centric version of RDF triples. Each Link connects three URIs:\ninterface Link {\n    source: string;      // Subject Expression URL\n    predicate: string;   // Predicate Expression URL\n    target: string;      // Object Expression URL\n}\nThese Links are stored as LinkExpressions – special Expressions where the data field contains a Link:\n{\n    author: \"did:key:z6Mk...\",  // Who made this association\n    timestamp: \"2023-06-21...\",\n    data: {\n        source: \"QmSocial123://post789\",\n        predicate: \"sioc://likes\",\n        target: \"did:key:z6Mk...\"\n    },\n    proof: { ... }  // Cryptographic proof of the claim\n}","subjective-overlays#Subjective Overlays":"Perspectives act as subjective overlays on the objective Expression layer:\nEvery node in the graph must be a URI pointing to an Expression\nThe same Expressions can appear in many Perspectives with different relationships\nEach agent can maintain multiple Perspectives for different contexts\nLinks in a Perspective represent an agent's claims about relationships\nFor example:\nAgent Alice's Perspective:\nPost1 --likes--> Post2\nPost2 --related-to--> Post3\nAgent Bob's Perspective:\nPost1 --disagrees-with--> Post2\nPost2 --authored-by--> Carol","storage-and-sharing#Storage and Sharing":"Perspectives are stored locally in your AD4M instance's database, but can be shared in several ways:\nSnapshots:\nExport a Perspective as an Expression\nContains a JSON rendering of all Links\nUseful for point-in-time sharing\nNeighbourhoods:\nCollaborative spaces where multiple agents share and sync Perspectives\nReal-time updates and p2p synchronization\nSee Neighbourhoods for more details","future-standards-integration#Future Standards Integration":"While AD4M currently uses its own formats to accommodate agent-centric features, we plan to implement W3C, RDF, and Solid compatibility:\nEvery Perspective will be accessible as a Solid POD\nLinks will be expressible as RDF triples\nStandard SPARQL queries will be supported","working-with-perspectives#Working with Perspectives":"The PerspectiveProxy class provides a rich interface for working with Perspectives:\n// Create a new Perspective\nconst perspective = await ad4m.perspective.add(\"My Knowledge Graph\");\n// Add a Link\nawait perspective.add({\n    source: \"QmSocial123://post789\",\n    predicate: \"sioc://likes\",\n    target: \"did:key:z6Mk...\"\n});\n// Query Links\nconst links = await perspective.get({\n    source: \"QmSocial123://post789\"\n});","surrealdb-integration-recommended#SurrealDB Integration (Recommended)":"Every Perspective includes a high-performance SurrealDB query engine that provides 10-100x faster performance than traditional Prolog queries. SurrealDB is the recommended query method for most use cases:\n// Direct SurrealQL query - fast and powerful\nconst follows = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'follows'\"\n);\n// Graph traversal using indexed fields (in.uri = source, out.uri = target)\nconst aliceFollows = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'follows'\"\n);\n// Find who follows Alice (reverse traversal)\nconst aliceFollowers = await perspective.querySurrealDB(\n  \"SELECT source FROM link WHERE out.uri = 'user://alice' AND predicate = 'follows'\"\n);\n// Aggregations and analytics\nconst stats = await perspective.querySurrealDB(\n  \"SELECT predicate, count() as total FROM link GROUP BY predicate\"\n);\nPerformance Note: Use in.uri (source) and out.uri (target) for graph traversal - they're indexed and fast. Avoid subqueries (IN (SELECT ...)) as they can be very slow.Security Note: querySurrealDB() only allows read-only operations (SELECT, RETURN, etc.). Use perspective.add() and perspective.remove() to modify links.For comprehensive examples and graph traversal patterns, see the SurrealDB Queries Guide.","prolog-integration-legacy#Prolog Integration (Legacy)":"Perspectives also include a Prolog engine for backward compatibility and advanced logic programming:\n// Basic Prolog query\nconst results = await perspective.queryProlog(\n  'triple(Post, \"sioc://likes\", Agent), triple(Agent, \"foaf://knows\", \"did:key:z6Mk...\")'\n);\n// Finds posts liked by agents who know a specific person\n// Real-time query subscription\nconst subscription = await perspective.subscribeInfer(\n  'triple(Post, \"sioc://status\", \"active\"), triple(Post, \"sioc://author\", Author)'\n);\n// Set up callback for updates\nsubscription.onResult(results => {\n    console.log(\"Active posts and their authors:\", results);\n});\n// Important: Clean up subscription when done\nsubscription.dispose();\nQuery subscriptions provide real-time updates but require proper cleanup:\nInitialization: When you create a subscription, it waits for the first result before becoming active\nKeepalive: The subscription stays active through periodic keepalive signals\nUpdates: Receive real-time updates through your callback as the data changes\nCleanup: Call dispose() when done to:\nStop keepalive signals\nUnsubscribe from updates\nNotify the backend to clean up resources\nPrevent memory leaks\nAlways remember to call dispose() when you're done with a subscription.Recommendation: Use SurrealDB for most queries (faster), and reserve Prolog for complex logic programming or custom SDNA rules.","advanced-data-modeling#Advanced Data Modeling":"AD4M provides a sophisticated data modeling system built on top of the Prolog integration. This allows you to:\nDefine TypeScript classes that map to semantic structures\nUse decorators to specify relationships\nQuery with type safety and IDE support\nFor details on this powerful feature, see our guide on Model Classes.","basic-usage-examples#Basic Usage Examples":"Creating a Perspective:\nconst myNotes = ad4m.perspective.add(\"My private notes\");\nThe returning object will be an instance of PerspectiveProxy\n– which essentially will work as your database instance.Adding a Link:\nconst link = {\n  subject: \"did:key:zQ3shv5VUAbtY5P1jGsPzy7L27FTxeDv2hnhVp9QT3ALNCnQ2\",\n  predicate: \"sioc://likes\",\n  target: \"literal://ad4m\",\n};\nmyNotes.add(link);\nQuery Links:\nconst allLinks = await myNotes.get(\n  new LinkQuery({ predicate: \"sioc://likes\" })\n);\nWhat you get back will be an array of LinkExpressions:\n[\n  {\n    \"author\": \"did:key:zQ3shv5VUAbtY5P1jGsPzy7L27FTxeDv2hnhVp9QT3ALNCnQ2\",\n    \"timestamp\": \"2023-06-21T14:47:48.935Z\",\n    \"data\": {\n      \"subject\": \"did:key:zQ3shv5VUAbtY5P1jGsPzy7L27FTxeDv2hnhVp9QT3ALNCnQ2\",\n      \"predicate\": \"sioc://likes\",\n      \"target\": \"literal://ad4m\"\n    },\n    \"proof\": {\n      \"key\": \"#zQ3shNWd4bg67ktTVg9EMnnrsRjhkH6cRNCjRRxfTaTqBniAf\",\n      \"signature\": \"xxxx\"\n    }\n  }\n]\nEven though this Perspective is not shared (yet) but just our private, local\ngraph database, we might want to share it as Neighbourhood."}},"/tutorial/2-neighbourhood-publish":{"title":"Publish Perspective as Neighbourhood","data":{"":"The back-bone of a Neighbourhood is a LinkLanguage - a Language that enables the sharing\nand thus synchronizing of links (see LinksAdapter).\nWhile there can and will be many different implementations\nwith different trade-offs and features (like membranes etc.),\nthere currently is one fully implemented and Holochain based LinkLanguage with the name Perspective Diff Sync.It is deployed on the current test network (Language Language v0.0.15, included in current network seed) under the address:\nQmeBD9n9Z5yZsegxArToww5zmwtPpojXN6zXJsi7WwMUa8.","creating-our-unique-linklanguage-clone-through-templating#Creating our unique LinkLanguage clone through templating":"But we should not just use this publicly known Language as the back-bone for our new Neighbourhood,\nif we don't want to have everybody following this guide end up in the same network.So what we want is to use this existing Language as a template and create a new copy with the same code\nbut different UUID and/name in order to create a fresh space for our new Neighbourhood.What parameters can we adjust when using it as template?\nLet's have a look at the Language's meta information:\nconst socialContextMeta = await ad4m.languages.meta(\n  \"QmeBD9n9Z5yZsegxArToww5zmwtPpojXN6zXJsi7WwMUa8\"\n);\nconsole.log(socialContextMeta);\nWhich should yield something like this:\n {\n  name: 'Perspective Diff Sync',\n  address: 'QmeBD9n9Z5yZsegxArToww5zmwtPpojXN6zXJsi7WwMUa8',\n  description: 'Holochain based LinkLanguage. First full implementation of a LinkLanguage, for collaborative Neighbourhoods where every agent can add links. No membrane. Basic template for all custom Neighbourhoods in this first iteration of the Perspect3vism test network.',\n  author: 'did:key:zQ3shkkuZLvqeFgHdgZgFMUx8VGkgVWsLA83w2oekhZxoCW2n',\n  templated: false,\n  templateSourceLanguageAddress: null,\n  templateAppliedParams: null,\n  possibleTemplateParams: [ 'uuid', 'name', 'description' ],\n  sourceCodeLink: 'https://github.com/perspect3vism/perspective-diff-sync'\n}\nThe field possibleTemplateParams tells us that we can set a UUID and override name and description.\nLet's leave description but change the name.\nThe function languages.applyTemplateAndPublish() takes an object as JSON as second parameter like so:\nconst uniqueLinkLanguage = await ad4m.languages.applyTemplateAndPublish(\n  \"QmeBD9n9Z5yZsegxArToww5zmwtPpojXN6zXJsi7WwMUa8\",\n  JSON.stringify({\n    uuid: \"84a329-77384c-1510fb\",\n    name: \"Perspective Diff Sync clone for demo Neighbourhood\",\n  })\n);\nThis function call has done a lot for us:\nIt took the source language (first parameter) and made sure we got the code,\ni.e. potentially downloading it from the Language of Languages.\nThe provided template parameters have been applied. In the case of a Language using Holochain, it has unpacked the Holochain DNA, changed the DNA variables according to the values given as template parameters and packed the DNA again (not touching the WASM code)\nThe resulting Language was published with meta information showing that it was templated, providing the source hash and template parameters.\nSo the new templated Language is ready to be used.","creating-the-neighbourhood#Creating the Neighbourhood":"With that new LinkLanguage, actually creating the Neighbourhood is simple.\nWe just have to provide the id of the perspective we want to upgrade to a\nNeighbourhood and the address of the LinkLanguage used for that:\nconst meta = new Perspective();\nconst neighbourhoodUrl = await ad4m.neighbourhood.publishFromPerspective(\n  myPerspective.uuid,\n  uniqueLinkLanguage.address,\n  meta\n);\nconsole.log(neighbourhoodUrl); // => neighbourhood://Qm123456789abcdef\nThe meta field a (static/snapshotted) Perspective that is immutably stored with\nthe Neighbourhood. It can hold arbitrary/semantic meta information about the\nNeighbourhood but can technically stay empty, just like we did here."}},"/social-dna":{"title":"Social DNA: Making Social Interaction Patterns Explicit","data":{"what-is-social-dna#What is Social DNA?":"Social DNA represents the core interaction patterns and social contracts within a digital space. Just as biological DNA encodes the rules for how cells interact and function, Social DNA encodes the rules for how agents (users) interact and collaborate in a digital space.Think of it as the \"business logic\" of social applications, but with a crucial difference: instead of being buried in application code, these patterns are made explicit and separated from both:\nThe storage layer (Languages) - how data is actually stored and shared\nThe UI layer - how these interactions are presented to users","why-social-dna#Why \"Social DNA\"?":"In traditional applications, social interaction patterns are often:\nImplicit in the application code\nTied to specific storage implementations\nMixed with UI concerns\nHard to modify or extend\nNot portable between applications\nSocial DNA makes these patterns:\nExplicit and declarative\nIndependent of storage details\nSeparated from UI concerns\nEasy to modify and extend\nPortable between applications","example-a-simple-social-space#Example: A Simple Social Space":"Let's look at a common social interaction pattern: posting and liking content. In a traditional app, this might be scattered across:\nDatabase schemas\nAPI endpoints\nUI components\nBusiness logic\nWith Social DNA, we can express this as a clear social contract:\n// Define what a \"post\" means in this space\nconst postClass = {\n  properties: {\n    content: \"string\",\n    author: \"did\",\n    timestamp: \"datetime\"\n  },\n  actions: {\n    like: \"any agent can like a post once\",\n    comment: \"any agent can comment on a post\",\n    edit: \"only the author can edit their post\"\n  }\n}\n// Define what \"trending\" means in this space\nconst trendingRule = {\n  condition: \"post has more than 5 likes in last 24 hours\",\n  action: \"mark post as trending\"\n}\nThis is just pseudo-code, but it illustrates how Social DNA makes interaction patterns explicit and declarative.","how-social-dna-works#How Social DNA Works":"AD4M implements Social DNA through two main mechanisms:\nSubject Classes: Define what things mean in a space\nGraph patterns that represent specific types of data\nProperties and relationships between data\nValidation rules for data integrity\nFlows: Define what agents can do in a space\nPreconditions for actions\nState transitions\nEffects of actions\nBoth are implemented using Prolog, a logical programming language perfect for:\nPattern matching in graphs\nDeclarative rules\nComplex reasoning\nDon't worry if you are unfamiliar with Prolog. You will normally either\nuse AI to write it for you, or you will use some of our abstraction layers to\navoid writing Prolog code yourself. (Think of ORMs vs raw SQL, AD4m comes with its own implementation Model Classes).","subject-classes-defining-things#Subject Classes: Defining Things":"","understanding-subject-classes#Understanding Subject Classes":"The term \"Subject Class\" was deliberately chosen to emphasize the subjective nature of pattern recognition in semantic graphs. Unlike traditional object-oriented programming where classes define objective structures, Subject Classes represent subjective interpretations of graph patterns – different ways of \"seeing\" meaning in the connections between expressions.","subjective-pattern-recognition#Subjective Pattern Recognition":"Think of a Subject Class as a lens through which an application views and interprets graph patterns:\nDifferent apps can have different \"opinions\" about what constitutes a meaningful pattern\nThe same base expression can be interpreted through multiple Subject Classes\nEach Subject Class defines what properties and relationships are important to its perspective\nFor example, consider a base expression representing some content:\nexpression://xyz123\nDifferent applications might interpret this through different Subject Classes:\nA chat app might see it as a \"Message\" with replies and reactions\nA task app might see it as a \"Todo\" with state and assignments\nA social app might see it as a \"Post\" with likes and shares\nA wiki might see it as a \"Document\" with citations and revisions\nEach of these interpretations is equally valid – they're just different subjective lenses on the same underlying graph structure.","subject-oriented-programming#Subject-Oriented Programming":"This approach is inspired by subject-oriented programming, where:\nBehavior and structure are separated from the base objects\nDifferent subjects can have different views of the same object\nMultiple interpretations can coexist without conflict\nNew interpretations can be added without modifying existing ones\nIn AD4M, this means:\nSubject Classes define patterns around base expressions\nMultiple Subject Classes can match the same expression\nNew Subject Classes can be added without changing existing ones\nApplications can choose which patterns matter to them","base-expressions-and-graph-patterns#Base Expressions and Graph Patterns":"Every Subject Class instance is anchored to a base expression, but its properties and relationships are defined by patterns in the surrounding graph:\nBase Expression: expression://xyz123\n                       │\n    ┌───────────────┬──┴──┬───────────────┐\n    │               │     │               │\n  state          author  title         comments\n    │               │     │               │\n  \"done\"        did:123  \"Hi\"     [expr1, expr2]\nDifferent Subject Classes might look for different patterns around this same base:\n// A Todo class looks for state and assignments\nclass Todo {\n  state: string;    // Looks for todo://state links\n  assignee: string; // Looks for todo://assigned-to links\n}\n// A Post class looks for social interactions\nclass Post {\n  likes: string[];     // Looks for social://like links\n  comments: string[];  // Looks for social://comment links\n}\n// Both can exist simultaneously on the same base expression\nconst todo = await perspective.getSubjectProxy<Todo>(baseExpr, \"Todo\");\nconst post = await perspective.getSubjectProxy<Post>(baseExpr, \"Post\");\nHere's a complete example of a Todo class:\n// Define a Todo class\nsubject_class(\"Todo\", c).\n// Constructor - called when creating new instances\nconstructor(c, '[{\n    action: \"addLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://ready\"\n}]').\n// Instance check - what makes something a Todo?\ninstance(c, Base) :- triple(Base, \"todo://state\", _).\n// Properties\nproperty(c, \"state\").\nproperty_getter(c, Base, \"state\", Value) :- \n    triple(Base, \"todo://state\", Value).\nproperty_setter(c, \"state\", '[{\n    action: \"setSingleTarget\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"value\"\n}]').\n// Resolvable properties (e.g., literal values)\nproperty(c, \"title\").\nproperty_resolve(c, \"title\").\nproperty_resolve_language(c, \"title\", \"literal\").\nproperty_getter(c, Base, \"title\", Value) :- \n    triple(Base, \"todo://has_title\", Value).\n// Computed properties\nproperty(c, \"isLiked\").\nproperty_getter(c, Base, \"isLiked\", Value) :- \n    triple(Base, \"flux://has_reaction\", \"flux://thumbsup\"), \n    Value = true.\n// Collections\ncollection(c, \"comments\").\ncollection_getter(c, Base, \"comments\", List) :- \n    findall(C, triple(Base, \"todo://comment\", C), List).\ncollection_adder(c, \"comments\", '[{\n    action: \"addLink\", \n    source: \"this\", \n    predicate: \"todo://comment\", \n    target: \"value\"\n}]').\nThis defines:\nWhat makes something a Todo\nWhat properties it has\nHow to get and set those properties\nWhat collections it contains","using-subject-classes-in-code#Using Subject Classes in Code":"While the PerspectiveProxy provides low-level methods for working with Subject Classes,\nwe strongly recommend using our high-level Ad4mModel system\n(described in detail in the Model Classes guide).\nThis TypeScript-based approach provides:\nAutomatic Prolog code generation from decorated classes\nType safety and IDE support\nRich ActiveRecord-style semantics\nClean, declarative syntax\nHere's how to define and use Subject Classes the recommended way:\nimport { Ad4mModel, ModelOptions, Property, Optional, Collection } from '@coasys/ad4m';\n@ModelOptions({ name: \"Todo\" })\nclass Todo extends Ad4mModel {\n  @Property({\n    through: \"todo://state\",\n    initial: \"todo://ready\"\n  })\n  state: string = \"\";\n  @Optional({\n    through: \"todo://has_title\",\n    writable: true,\n    resolveLanguage: \"literal\"\n  })\n  title?: string;\n  @ReadOnly({\n    through: \"flux://has_reaction\",\n    getter: `triple(Base, \"flux://has_reaction\", \"flux://thumbsup\"), Value = true`\n  })\n  isLiked: boolean = false;\n  @Collection({ \n    through: \"todo://comment\"\n  })\n  comments: string[] = [];\n  // Static query methods\n  @InstanceQuery()\n  static async all(perspective: PerspectiveProxy): Promise<Todo[]> { return [] }\n  @InstanceQuery({ where: { state: \"todo://done\" }})\n  static async allDone(perspective: PerspectiveProxy): Promise<Todo[]> { return [] }\n}\n// Use it with full type safety and ActiveRecord patterns\nconst todo = new Todo(perspective);\ntodo.state = \"todo://doing\";\nawait todo.save();\n// Query with type safety\nconst todos = await Todo.all(perspective);\nconst doneTodos = await Todo.allDone(perspective);\nThis approach automatically generates the Prolog code we saw earlier and provides a much richer development experience.","understanding-the-lower-level#Understanding the Lower Level":"For a complete understanding, here are the basic PerspectiveProxy methods that power the above abstractions:\n// Add the subject class definition to a perspective\nawait perspective.addSdna(\"Todo\", classDefinition, \"subject_class\");\n// List all available subject classes\nconst classes = await perspective.subjectClasses();\n// Returns: [\"Todo\"]\n// Create a new subject instance\nawait perspective.createSubject(\"Todo\", \"expression://123\");\n// Check if an expression is an instance of a class\nconst isTodo = await perspective.isSubjectInstance(\"expression://123\", \"Todo\");\n// Get subject data\nconst todoData = await perspective.getSubjectData(\"Todo\", \"expression://123\");\n// Remove a subject (runs destructor if defined)\nawait perspective.removeSubject(\"Todo\", \"expression://123\");\n// Get all instances of a class\nconst allTodos = await perspective.getAllSubjectInstances(\"Todo\");\n// Get a proxy object\nconst todo = await perspective.getSubjectProxy(\"expression://123\", \"Todo\");\nWhile these methods are available, we recommend using the Ad4mModel system for most use cases. It provides a more maintainable and type-safe way to work with Subject Classes while handling all the low-level details automatically.","flows-defining-actions#Flows: Defining Actions":"Flows define what agents can do in a space and under what conditions. Here's a complete example of a Todo flow that manages state transitions:\n// Register this flow with a name and reference (t)\nregister_sdna_flow(\"TODO\", t).\n// Define what expressions can enter this flow (all in this case)\nflowable(_, t).\n// Define the possible states (using numbers)\nflow_state(ExprAddr, 0, t) :- triple(ExprAddr, \"todo://state\", \"todo://ready\").\nflow_state(ExprAddr, 0.5, t) :- triple(ExprAddr, \"todo://state\", \"todo://doing\").\nflow_state(ExprAddr, 1, t) :- triple(ExprAddr, \"todo://state\", \"todo://done\").\n// Initial action when starting the flow\nstart_action('[{\n    action: \"addLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://ready\"\n}]', t).\n// Define state transitions with actions\naction(0, \"Start\", 0.5, '[{\n    action: \"addLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://doing\"\n}, {\n    action: \"removeLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://ready\"\n}]').\naction(0.5, \"Finish\", 1, '[{\n    action: \"addLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://done\"\n}, {\n    action: \"removeLink\", \n    source: \"this\", \n    predicate: \"todo://state\", \n    target: \"todo://doing\"\n}]').\nThis flow defines:\nA named flow (\"TODO\") with states (0 = ready, 0.5 = doing, 1 = done)\nWhat expressions can enter the flow (any expression)\nHow states are determined (by checking todo://state links)\nInitial action when starting the flow\nAvailable actions for each state with their transitions","using-flows-in-code#Using Flows in Code":"You can work with flows using these methods:\n// Get all flows defined in a perspective\nconst flows = await perspective.sdnaFlows();\n// Returns: [\"TODO\"]\n// Check what flows are available for an expression\nconst availableFlows = await perspective.availableFlows(\"expression://123\");\n// Returns flows that can be started on this expression\n// Start a flow on an expression\nawait perspective.startFlow(\"TODO\", \"expression://123\");\n// This runs the start_action, putting the expression in initial state\n// Get expressions in a specific flow state\nconst readyTodos = await perspective.expressionsInFlowState(\"TODO\", 0);\n// Returns expressions in the \"ready\" state\n// Get current state of an expression in a flow\nconst state = await perspective.flowState(\"TODO\", \"expression://123\");\n// Returns: 0, 0.5, or 1\n// Get available actions for current state\nconst actions = await perspective.flowActions(\"TODO\", \"expression://123\");\n// Returns: [\"Start\"] if in ready state\n// Execute an action\nawait perspective.runFlowAction(\"TODO\", \"expression://123\", \"Start\");\n// Transitions from ready (0) to doing (0.5)","adding-flows-to-a-perspective#Adding Flows to a Perspective":"To add a flow to your perspective:\n// Add the flow definition\nawait perspective.addSdna(\"Todo\", flowDefinition, \"flow\");\n// Check if it was added\nconst flows = await perspective.sdnaFlows();\nconsole.log(flows); // Should include \"TODO\"","query-engines-surrealdb--prolog#Query Engines: SurrealDB & Prolog":"AD4M provides two query engines for working with Social DNA and perspective data:","surrealdb-high-performance-queries-recommended#SurrealDB: High-Performance Queries (Recommended)":"For most query needs, SurrealDB provides 10-100x faster performance than Prolog. It's especially powerful for:\nFast filtering and searching\nGraph traversal queries using indexed in.uri and out.uri fields\nAggregations and analytics\nLarge dataset handling\n// Fast query - find all todos in \"done\" state\nconst doneTodos = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'todo://state' AND target = 'todo://done'\"\n);\n// Graph traversal - find all posts by Alice\nconst alicePosts = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'authored'\"\n);\n// Graph traversal - find comments on a specific post\nconst comments = await perspective.querySurrealDB(\n  \"SELECT source, target FROM link WHERE in.uri = 'post://123' AND predicate = 'has_comment'\"\n);\n// Aggregation - count by type\nconst stats = await perspective.querySurrealDB(\n  \"SELECT predicate, count() as total FROM link GROUP BY predicate\"\n);\nPerformance Tip: Use in.uri (source) and out.uri (target) for graph traversal - they're indexed. Avoid subqueries as they're slow.Note: Ad4mModel uses SurrealDB by default for findAll() and query builder operations. See the SurrealDB Queries Guide for comprehensive examples.","the-prolog-engine-for-advanced-logic--sdna#The Prolog Engine (For Advanced Logic & SDNA)":"For custom Social DNA rules, complex logic programming, and backward compatibility, AD4M includes a Prolog engine:","core-predicates#Core Predicates":"// Basic graph predicates\ntriple(Subject, Predicate, Object).      // Access raw triples\nlink(Subject, Predicate, Object, Timestamp, Author).  // Access links with metadata\n// Graph traversal\nreachable(A, B).  // True if B can be reached from A through any predicates\n// Expression metadata\nlanguageAddress(Expression, Address).  // Get language address for expression\nlanguageName(Expression, Name).        // Get language name for expression\nexpressionAddress(Expression, Address). // Get expression address","built-in-utilities#Built-in Utilities":"// Pagination and sorting\npaginate(Data, PageNumber, PageSize, PageData).\nsort_instances(Instances, SortKey, Direction, Sorted).\n// String and data handling\nremove_html_tags(Input, Output).\nstring_includes(String, Substring).\nliteral_from_url(Url, Decoded, Scheme).\njson_property(JsonString, Property, Value).\nWhen to use which?\nUse SurrealDB for: Fast queries, graph traversal, analytics (most use cases)\nUse Prolog for: Custom SDNA rules, complex logic, backward compatibility","using-social-dna-in-your-space#Using Social DNA in Your Space":"To add Social DNA to a Perspective:\n// Add a subject class definition\nperspective.addSDNA(classDefinition, \"subject_class\");\n// Add a flow definition\nperspective.addSDNA(flowDefinition, \"flow\");\n// Add custom rules\nperspective.addSDNA(customRules, \"custom\");\nThen query it using SurrealDB (fast) or Prolog (advanced logic):\n// Option 1: Use Ad4mModel with SurrealDB (recommended, 10-100x faster)\nconst activeTodos = await Todo.findAll(perspective, {\n  where: { state: \"active\" }\n});\n// Option 2: Direct SurrealQL query\nconst todos = await perspective.querySurrealDB(\n  \"SELECT * FROM link WHERE predicate = 'todo://state' AND target = 'active'\"\n);\n// Option 3: Prolog (for custom SDNA rules)\nconst todos = await perspective.infer(\n  'instance(Todo, \"Todo\"), property_getter(\"Todo\", Todo, \"state\", \"active\")'\n);\n// Check if an action is allowed (Prolog for complex logic)\nconst canVote = await perspective.infer(\n  `can_vote(\"${agentDid}\", \"${proposalId}\")`\n);","best-practices#Best Practices":"Start with Patterns\nIdentify common interaction patterns\nMake implicit rules explicit\nThink about preconditions and effects\nUse Subject Classes for:\nData validation\nComputed properties\nRelationship definitions\nUse Flows for:\nAction permissions\nState transitions\nComplex processes\nKeep it Simple\nStart with basic patterns\nAdd complexity gradually\nUse the high-level Model Classes when possible"}},"/tutorial/1-perspective":{"title":"Tutorial","data":{"":"This will get you to a shared Neighbourhood on Holochain in less than 20\nminutes! The code assumes an ad4m variable was setup as described in\nGetting Started.","create-a-perspective-and-add-content#Create a Perspective and add content":"Adding a new perspective is as easy as\nconst myPerspective = await ad4m.perspective.add(\"My new perspective\");\nThe returned object is of type PerspectiveProxy,\nwhich hides all the remote calls to the AD4M executor and can be treated like a\nlocal database object.Perspectives are basically local graph databases.\nWe can query all links on that proxy object with get:\nconst allLinks = await myPerspective.get(new LinkQuery({})); // => []\nIn this case it should return an empty array since we just created that perspective.So let's add something!\nWith the following code I'm creating an adhoc semantic statement\nrepresenting what I think about AD4M...\nimport { Literal } from \"@coasys/ad4m\";\nconst me = await ad4m.agent.me();\nconst source = me.did;\nconst predicate = Literal.from(\"thinks\").toUrl();\nconst target = Literal.from(\"AD4M will be the last social network\").toUrl();\nconst linkExpresion = await myPerspective.add({ source, predicate, target });\nLinks consist of 3 URIs pointing to Expressions of Languages.\nFor this example, we made life easy by using the agent's DID and AD4M's Literal Language.","agent-did#Agent DID":"For the source of our link, we got the user's DID URI by first getting\nthe users Agent object with ad4m.agent.me().\nThat has a DID property and DID URIs are considered valid URIs in AD4M\n(they can be looked-up using the Agent bootstrap language which resolves\nto the same Agent object we got through ad4m.agent.me() - just even if\nthat agent behind the resolved DID isn't me).","literal#Literal":"The Literal Language is an AD4M Language without back-end.\nIt stores JavaScript literals (i.e. strings, numbers and objects)\nby encoding them into the Expression URL.\nSo,\nLiteral.from(\"thinks\").toUrl();\nreturns literal://string:thinks - which is a valid URI -\nand\nLiteral.from(\"AD4M will be the last social network\").toUrl();\nreturns literal://string:AD4M%20will%20be%20the%20last%20social%20network.\nThis is basically like URL parameters and let's us get around introducing Languages\nbefore using Perspectives and Links.We can decode the URL into a JavaScript literal like so:\nconst string = Literal.fromUrl(\"literal://string:thinks\").get();\n// string == 'thinks'","linkexpression#LinkExpression":"We have put in a Link object into myPerspective.add()\n({source, predicate, target}),\nbut what this function returns is a LinkExpression.Even though this Perspective is not shared (yet) but just our private, local\ngraph database, we might want to share it later\nas Neighbourhood.\nThen, all links added by some agent to their local Perspective will be shared\nwith the other agents using a LinkLanguage - a Language which defines Expressions\nrepresenting Links. That is LinkExpressions.Using the generic Expression template,\nLinkExpressions wrap Links with author, timestamp and signature:\n{\n    author: \"did:key:zQ3shNWd4bg67ktTVg9EMnnrsRjhkH6cRNCjRRxfTaTqBniAf\",\n    timestamp: \"Sun Oct 23 2022 15:31:52 GMT+0200 (Central European Summer Time)\",\n    data: {\n        source: \"did:key:zQ3shNWd4bg67ktTVg9EMnnrsRjhkH6cRNCjRRxfTaTqBniAf\",\n        predicate: \"literal://string:thinks\",\n        target: \"literal://string:AD4M%20will%20be%20the%20last%20social%20network\",\n    },\n    proof: {\n        key: \"#zQ3shNWd4bg67ktTVg9EMnnrsRjhkH6cRNCjRRxfTaTqBniAf\",\n        signature: \"xxxx\",\n    }\n}"}},"/jsdoc/interfaces/ModelOptionsOptions":{"title":"Interface: ModelOptionsOptions","data":{"":"@coasys/ad4m / Exports / ModelOptionsOptions","table-of-contents#Table of contents":"","properties#Properties":"name","properties-1#Properties":"","name#name":"• name: stringThe name of the entity.","defined-in#Defined in":"model/decorators.ts:487"}},"/tutorial/3-neighbourhood-join":{"title":"Joining a Neighbourhood (on another node/agent)","data":{"":"Assume everything above happened on Alice's agent.\nAlice now shares the Neighbourhood's URL with Bob.\nThis is what Bob does to join the Neigbourhood, access it as a (local) Perspective\nand retrieve the Expression Alice created and linked there:\nconst joinedNeighbourhood = await ad4m.neighbourhood.joinFromUrl(\n  neighbourhoodUrl\n);\nconst myPerspective = await ad4m.perspective.byUUID(joinedNeighbourhood.uuid);\nconst links = await myPerspective.get(\n  new LinkQuery({\n    predicate: Literal.from(\"thinks\").toUrl(),\n  })\n);\nlinks.forEach(async (link) => {\n  const who = link.data.source;\n  const what = Literal.fromUrl(link.data.target).get();\n  console.log(who, \" thinks that \", what);\n});"}},"/tutorial/4-change-listener":{"title":"Listening to Perspective changes","data":{"":"Perspectives that have been turned into Neighbourhoods are like entangled particles.\nEvery agent still has their local copy of the Perspective, but a change from any agent\nwill be shared with all other agents immediately,\nresulting in AD4M automatically updating the local Perspective with the changes by\nthe others.Even with Perspectives that are not shared as Neighbourhood,\na different UI could have access to the same Perspective and cause mutations\non it.Apps/UIs can simply register a listener function on that\nPerspectiveProxy object:\nmyPerspective.addListener(\"link-added\", (addedLink: LinkExpression) => {\n  console.log(\"Got a new link:\", addedLink);\n});\nmyPerspective.addListener(\"link-removed\", (removedLink: LinkExpression) => {\n  console.log(\"A link was removed:\", removedLink);\n});"}},"/jsdoc/interfaces/LinkSyncAdapter":{"title":"Interface: LinkSyncAdapter","data":{"":"@coasys/ad4m / Exports / LinkSyncAdapterInterface for \"Link Languages\" that facilitate the synchronization\nbetween agents' local Perspectives inside a Neighbourhood.\nThe assumption is that every version of the shared Perspective\nis labeled with a unique revision string.\nChanges are committed and retrieved through diffs.\nThink of a LinkSyncAdapter as a git branch to which agents commit\ntheir changes to and pull diffs from their current revision\nto the latest one.","table-of-contents#Table of contents":"","methods#Methods":"addCallback\naddSyncStateChangeCallback\ncommit\ncurrentRevision\nothers\npublic\nrender\nsync\nwritable","methods-1#Methods":"","addcallback#addCallback":"▸ addCallback(callback): anyGet push notification when a diff got published","parameters#Parameters":"Name\tType\tcallback\tPerspectiveDiffObserver","returns#Returns":"any","defined-in#Defined in":"language/Language.ts:186","addsyncstatechangecallback#addSyncStateChangeCallback":"▸ addSyncStateChangeCallback(callback): anyAdd a sync state callback method","parameters-1#Parameters":"Name\tType\tcallback\tSyncStateChangeObserver","returns-1#Returns":"any","defined-in-1#Defined in":"language/Language.ts:189","commit#commit":"▸ commit(diff): Promise<string>Publish changes","parameters-2#Parameters":"Name\tType\tdiff\tPerspectiveDiff","returns-2#Returns":"Promise<string>","defined-in-2#Defined in":"language/Language.ts:183","currentrevision#currentRevision":"▸ currentRevision(): Promise<string>What revision are we on now -> what changes are included in output of render()","returns-3#Returns":"Promise<string>","defined-in-3#Defined in":"language/Language.ts:169","others#others":"▸ others(): Promise<string[]>","returns-4#Returns":"Promise<string[]>","defined-in-4#Defined in":"language/Language.ts:166","public#public":"▸ public(): boolean","returns-5#Returns":"boolean","defined-in-5#Defined in":"language/Language.ts:165","render#render":"▸ render(): Promise<Perspective>Returns the full, rendered Perspective at currentRevision","returns-6#Returns":"Promise<Perspective>","defined-in-6#Defined in":"language/Language.ts:180","sync#sync":"▸ sync(): Promise<PerspectiveDiff>Check for and get new changes,\nnotify others of local changes.\nThis function will be called every\nfew seconds by the ad4m-executor.","returns-7#Returns":"Promise<PerspectiveDiff>","defined-in-7#Defined in":"language/Language.ts:177","writable#writable":"▸ writable(): boolean","returns-8#Returns":"boolean","defined-in-8#Defined in":"language/Language.ts:164"}},"/agents":{"title":"Agents: The Foundation of AD4M","data":{"agent-centric-architecture#Agent-Centric Architecture":"In AD4M, we take a fundamentally different approach to building distributed systems. Instead of treating data as the primary building block, we place agents – humans and their computers – at the center of our architecture. This philosophical shift from \"data-centric\" to \"agent-centric\" has profound implications for how we build and interact with digital systems.","why-agent-centric#Why Agent-Centric?":"In traditional web architectures, data is treated as an objective, standalone entity that exists independently of its creators and consumers. This leads to centralized data silos, privacy concerns, and a disconnect between users and their digital footprint.AD4M's agent-centric approach recognizes that:\nAll data is fundamentally a claim or statement made by an agent\nTrust and context come from understanding who made a claim\nAgents should have sovereignty over their data and digital identity\nInteractions should be peer-to-peer between agents","technical-implementation#Technical Implementation":"","decentralized-identifiers-dids#Decentralized Identifiers (DIDs)":"Every agent in AD4M is identified by a Decentralized Identifier (DID). DIDs are globally unique identifiers that:\nAre fully controlled by the agent\nCan be resolved to cryptographic keys\nEnable verifiable, decentralized digital identity\n// Generate a new agent with associated DID\nawait ad4m.agent.generate(\"YourSecurePassword\");\n// Get your agent's DID and information\nconst { did, perspective } = await ad4m.agent.me();","agent-expressions#Agent Expressions":"AD4M comes with a built-in \"agent bootstrap language\" that resolves DIDs to AgentExpression objects. An AgentExpression contains:\nclass Agent {\n  // The agent's DID - their unique identifier\n  did: string;\n  // The agent's public semantic profile\n  perspective?: Perspective;\n  // Address of the language used for direct messaging\n  directMessageLanguage?: string;\n}\nThe perspective field is particularly important as it serves as the agent's \"homepage\" in the semantic web – a public space where they can share information about themselves using semantic links.","cryptographic-keys-and-signatures#Cryptographic Keys and Signatures":"AD4M manages cryptographic keys associated with an agent's DID. These keys are used to:\nSign expressions created by the agent\nVerify the authenticity of expressions from other agents\nEstablish secure communication channels\nWhen an agent creates an expression, AD4M automatically signs it with their private key:\n// The expression will be signed with the agent's key\nconst expression = await ad4m.expression.create(languageAddress, content);","communication-between-agents#Communication Between Agents":"Agents can communicate directly with each other through AD4M's messaging system. The runtime client provides convenient functions that handle the underlying direct message language mechanics:\n// Send a message to another agent\nawait ad4m.runtime.sendMessage(recipientDID, \"Hello!\");\n// Listen for incoming messages\nad4m.runtime.addMessageCallback((message) => {\n  console.log(\"Message from:\", message.from);\n  console.log(\"Content:\", message.content);\n});\nUnder the hood, AD4M uses the recipient's preferred direct message language (specified in their AgentExpression) to deliver the message. This abstraction ensures that:\nMessages are delivered using the recipient's chosen communication method\nThe underlying transport mechanism can be changed without affecting applications\nMessages are properly encrypted and signed\nYou can also check if an agent is available for messaging:\n// Get another agent's information\nconst otherAgent = await ad4m.agent.byDID(someDID);\n// Check if they have messaging capability\nif (otherAgent.directMessageLanguage) {\n  // They can receive messages\n}","agent-perspectives#Agent Perspectives":"Every agent has a public perspective that acts as their semantic profile. This perspective can contain:\nPersonal information\nSocial connections\nPublished content\nPublic keys\nContact methods\nThe perspective uses semantic links to create a rich web of information:\n// Add information to your public perspective\nconst { did } = await ad4m.agent.me();\nawait ad4m.agent.updatePublicPerspective({\n  links: [\n    { source: did, predicate: \"foaf://name\", target: \"literal://string:Alice\" },\n    { source: did, predicate: \"foaf://knows\", target: \"did:key:other-agent\" }\n  ]\n});","security-and-privacy#Security and Privacy":"The agent-centric model provides several security benefits:\nAll expressions are cryptographically signed\nAgents have full control over their keys and identity\nCommunication can be encrypted end-to-end\nTrust is built on verifiable claims and signatures\nFor more details about working with agents programmatically, see the Agent class definition."}},"/developer-guides/cli":{"title":"AD4M Command Line Tools","data":{"":"AD4M provides two command-line tools that enable developers to work with AD4M in headless and scripting scenarios:\nad4m-executor: A full AD4M node implementation (similar to the Launcher but without UI)\nad4m: A client tool for interacting with any AD4M executor","installation#Installation":"For build and installation instructions, please refer to the CLI README.","the-ad4m-executor#The AD4M Executor":"The ad4m-executor binary runs a complete AD4M node, making it ideal for:\nServer deployments\nAutomated testing\nCI/CD pipelines\nHeadless applications\nSystem integration\nUnlike the Launcher which provides a GUI, the executor is designed for command-line and programmatic interaction.","authentication--security#Authentication & Security":"The executor uses a secure authentication handshake system. When a client attempts to connect, the executor generates a random number that must be used to complete the authentication. This number is printed in the executor's logs.For automated scenarios where manual authentication is impractical, you can provide an admin credential that bypasses the handshake:\nad4m-executor run --admin-credential your-secret-here\nThis is particularly useful for:\nScripts managing the executor\nCI/CD pipelines\nIntegration testing\nManagement UIs (the Launcher uses this internally)","configuration-parameters#Configuration Parameters":"The executor supports various configuration parameters to customize its behavior. Here are the key parameters:\n# Basic configuration\nad4m-executor run \\\n  --gql-port 12000 \\           # Main GraphQL API port (default: 4000)\n  --admin-credential secret \\   # Bypass authentication handshake\n  --app-data-path ./data \\     # Custom data directory (default: ~/.ad4m)\n  --run-dapp-server true       # Run the DApp server (default: false)\n# Holochain-related configuration\n  --hc-admin-port 1234 \\       # Holochain admin interface port (default: 1234)\n  --hc-app-port 8888 \\         # Holochain app interface port (default: 8888)\n  --hc-use-bootstrap true \\    # Use bootstrap service (default: true)\n  --hc-use-proxy true \\        # Use proxy for Holochain (default: true)\n  --hc-proxy-url url \\         # Custom proxy URL\n  --hc-bootstrap-url url       # Custom bootstrap URL","running-multiple-executors#Running Multiple Executors":"For development and testing, you might want to run multiple AD4M executors on the same machine. Here's how to configure two executors to run simultaneously:\n# First executor (default ports)\nad4m-executor run\n# Second executor (custom ports)\nad4m-executor run \\\n  --gql-port 14000 \\           # Different GraphQL port\n  --hc-admin-port 2234 \\       # Different Holochain admin port\n  --hc-app-port 9888 \\         # Different Holochain app port\n  --app-data-path ~/.ad4m2     # Separate data directory\nWhen connecting to the second executor with the client, specify the custom GraphQL port:\nad4m --executor-url http://localhost:14000 agent me","basic-usage#Basic Usage":"Initialize a new AD4M instance:\nad4m-executor init\nThis creates the necessary directory structure and configuration in ~/.ad4m.\nStart the executor:\nad4m-executor run\n(Optional) Run local Holochain services:\nad4m-executor run-local-hc-services\nThis starts the bootstrap and signaling services required by Holochain-based languages.","the-ad4m-client-a-tutorial#The AD4M Client: A Tutorial":"The ad4m client tool provides a complete interface to interact with a running executor. Let's explore its features through practical examples.","getting-started#Getting Started":"First, ensure you have an executor running (see above).\nFor a fresh installation, generate a new agent:\nad4m agent generate\nThis will prompt you for a password to encrypt your agent's keys.\nOn subsequent starts, unlock your agent:\nad4m agent unlock\nView your agent's information:\nad4m agent me\nThis shows your DID, public perspective, and messaging capabilities.","working-with-perspectives#Working with Perspectives":"Perspectives are semantic spaces where you can store and query linked data.\nCreate a new perspective:\nad4m perspectives create\nList all perspectives:\nad4m perspectives\nAdd links to a perspective:\nad4m perspectives add-link <perspective-UUID> \"Alice\" \"knows\" \"Bob\"\nQuery links:\nad4m perspectives query-links <perspective-UUID> --source \"Alice\"\nWatch for real-time changes:\nad4m perspectives watch <perspective-UUID>","interactive-data-manipulation#Interactive Data Manipulation":"The REPL provides an interactive environment for working with perspective data:\nad4m perspectives repl <perspective-UUID>\nIn the REPL, you can:\n# Add links\nadd Alice knows Bob\n# Query with variables\n?Person knows Bob\n# Create subjects\nnew Person(alice)\nsubject(alice)[name] = \"Alice Smith\"\nsubject(alice)[interests] <= \"coding\"\n# View subject data\nsubject(alice)\n# Run Prolog queries\nfriend(X, Y), hobby(Y, 'coding')","managing-languages#Managing Languages":"Languages in AD4M are pluggable protocols that define how data is stored and shared.\nList installed languages:\nad4m languages all\nGet language details:\nad4m languages by-address <language-address>\nPublish a new language:\nad4m languages publish ./my-language --name \"My Language\" --description \"A custom language\"","building-communities-with-neighborhoods#Building Communities with Neighborhoods":"Neighborhoods are shared spaces built on perspectives and languages.\nCreate a neighborhood:\nad4m neighbourhoods create <perspective-UUID> <link-language>\nThis publishes your perspective as a shared space others can join.\nJoin an existing neighborhood:\nad4m neighbourhoods join <neighbourhood-url>","runtime-management#Runtime Management":"Monitor and manage your AD4M node:\nView runtime information:\nad4m runtime info\nManage trusted agents:\n# Add trusted agents\nad4m runtime add-trusted-agents did:key:123...\n# List trusted agents\nad4m runtime trusted-agents\nManage friends:\n# Add friends\nad4m runtime add-friends did:key:123...\n# List friends\nad4m runtime friends\nView logs:\nad4m log","expression-management#Expression Management":"Work with language-specific expressions:\nCreate an expression:\nad4m expression create <language-address> '{\"key\": \"value\"}'\nRetrieve expressions:\n# Get parsed expression\nad4m expression get <url>\n# Get raw data\nad4m expression get-raw <url>","advanced-features#Advanced Features":"For development and testing:\n# Generate bootstrap seed\nad4m dev generate-bootstrap <agent-path> <passphrase> <seed-proto>\n# Test expression language\nad4m dev publish-and-test-expression-language <language-path> <data>\nFor a complete list of commands and their options:\nad4m --help\nad4m <command> --help"}},"/installation":{"title":"Installation","data":{"":"To kick off with AD4M and tap into its agent-centric network, you’ll need to install the core runtime and, for JavaScript UI projects,\nthe client libraries to connect your apps. AD4M provides the AD4M Launcher for ease of use, the AD4M CLI for developer flexibility,\nand two npm packages—@coasys/ad4m and @coasys/ad4m-connect—for front-end integration.\nThis guide aligns with the v0.10.1 release candidate (as of March 24, 2025), featuring AI integration and enhanced Social DNA querying.","ad4m-launcher#AD4M Launcher":"The AD4M Launcher is a Tauri-based, system-tray app that bundles the AD4M executor, a background UI and a setup wizard—ideal for users and developers seeking a quick start.\nIt runs your agent’s instance locally, managing keys and data as the back-end for AD4M apps. Install it like this:\nDownload: Visit the GitHub release page and download the binary for your OS—e.g.,\nADAM_Launcher_<version>-release-candidate-1_aarch64.dmg, or ADAM.Launcher_<version>-release-candidate-1_amd64-CUDA.AppImage\n(We are working on a Windows build!.)\nRun/Install: Execute the file. Windows may prompt a security warning (allow it; signed builds are coming); macOS/Linux follow standard app install steps.\nInitialize: Launch it to generate or unlock an agent (DID and keys). It runs on localhost:12000, offering WebSocket and GraphQL endpoints.\nThe Launcher delivers a plug-and-play AD4M experience, ready for UI connections.","ad4m-cli-for-developers#AD4M CLI (For Developers)":"The AD4M CLI, written in Rust, gives developers command-line control over the AD4M ecosystem.\nAvailable on Crates.io (currently not updated due to unpublished dependencies ) and sourced at https://github.com/coasys/ad4m/tree/dev/cli,\nit includes two binaries: ad4m (CLI client) and ad4m-executor (full runtime without UI). It’s perfect for debugging, scripting, or Language development.","set-it-up#Set it up:":"Follow the CLI README to install all necessary dependencies.\nClone or Install: Clone the repo and build:\ngit clone --branch dev https://github.com/coasys/ad4m.git\ncd ad4m/cli\ncargo install --path .\n(Or install from Crates.io once we have published all dependencies: cargo install ad4m.)Run the Executor: Start the full runtime with:\nad4m-executor run\nUse ad4m init first to generate an agent if needed. It runs on localhost:12000.CLI Usage Example: With the executor running, use the ad4m CLI to interact:\nad4m languages meta QmXyz123\nThis fetches metadata for a Language (e.g., social-context) at QmXyz123, outputting details like name and description. See the CLI README for commands like ad4m expression create.The ad4m-executor provides the runtime (like the Launcher sans UI), while ad4m offers client commands—together, they’re a developer’s toolkit for AD4M.","ad4m-client-libraries-for-js-ui-projects#AD4M Client Libraries for JS UI Projects":"For JavaScript UI projects (React, Vue, etc.), the client libraries @coasys/ad4m and @coasys/ad4m-connect connect your front-end to an AD4M instance (Launcher or CLI executor).\n@coasys/ad4m: The core client, offering direct API access. Install it:\nnpm install @coasys/ad4m\nUse it for raw interactions:\nimport { Ad4mClient } from \"@coasys/ad4m\";\nconst client = new Ad4mClient(\"ws://localhost:12000\");\nconst agent = await client.agent.me();\nconsole.log(agent.did); // e.g., \"did:key:z6Mk...\"\nIt’s suited for custom logic needing full API control.@coasys/ad4m-connect: A higher-level library with WebSocket connectivity and authentication handling, ideal for streamlined UI integration. Install it:\nnpm install @coasys/ad4m-connect\nUse it to connect and authenticate:\nimport Ad4mConnect from \"@coasys/ad4m-connect\";\n \nconst ui = Ad4mConnect({\n  appName: \"My First ADAM App\",\n  appDesc: \"This is my first app here.\",\n  appDomain: \"ad4m.dev\",\n  appIconPath: \"https://i.ibb.co/GnqjPJP/icon.png\",\n  capabilities: [{ with: { domain: \"*\", pointers: [\"*\"] }, can: [\"*\"] }],\n});\n \n// .connect() will show the authentication pop up\nui.connect().then((client) => {\n  // Save the client after authentication is done\n  const perspectives = await client.perspective.all();\n  console.log(perspectives[0].name); // e.g., \"MyCommunity\"\n});\nAuthentication Handling: Per auth docs, @coasys/ad4m-connect manages capability-based auth. On first connect, it requests a capability token from the executor, prompting the user (via Launcher UI or CLI) to approve. Specify required capabilities (e.g., perspective:write) in the config. Once approved, it stores a JWT locally, auto-authenticating future connections. If the executor isn’t running or capabilities mismatch, it retries or prompts again—simplifying secure app setup.Start with @coasys/ad4m-connect for quick UI integration with auth, then use @coasys/ad4m for deeper API calls. Ensure the executor (Launcher or ad4m-executor) is active first.","system-requirements#System Requirements":"OS: macOS 10.15+, or modern Linux (e.g., Ubuntu 22.04+, glibc 2.35+).\nWe are working on a Windows build!.\nMemory: 4GB RAM minimum (8GB recommended).\nNode.js: 18+\nDependencies: Launcher bundles all (Holochain, Deno, Rust); CLI needs Rust; client libs need Node.js (18+) and an executor instance.\nOptional: CUDA for GPU acceleration AI inference.\nWith these tools installed, you’re ready to harness AD4M’s distributed power."}},"/jsdoc/README":{"title":"AD4M","data":{"":"@coasys/ad4m / ExportsThe Agent-Centric Distributed Application Meta-ontology\nor just:\nAgent-Centric DApp Meta-ontology\nA new meta-ontology for interoperable, decentralized application design\nA spanning-layer to enable seamless integration between Holochain DNAs, blockchains, linked-data structures/ontologies and centralized back-ends\nThe basis for turning distinct, monolithic and siloed apps into a global, open and interoperable sense-making network","ok-lets-go#Ok, let's go...":"To build an app/UI against Ad4m, you need to make sure that an\nad4m-executor is running\non the user's machine.The easiest way to get that is to use ad4m-cli:\ncargo install ad4m\nad4m-executor run\nThen use Ad4mClient to connect to and work with the running ad4m-executor like this:\nnpm install --save @coasys/ad4m\nnpm install --save-exact @apollo/client@3.7.10\nnpm install --save graphql-ws\nnpm install --save ws\nIn your code:\nimport { Ad4mClient } from '@coasys/ad4m'\nimport { ApolloClient, InMemoryCache } from \"@apollo/client/core\";\nimport { GraphQLWsLink } from \"@apollo/client/link/subscriptions\";\nimport { createClient } from 'graphql-ws';\nimport Websocket from \"ws\";\nconst wsLink = new GraphQLWsLink(createClient({\n    url: `ws://localhost:4000/graphql`,\n    webSocketImpl: Websocket\n}));\nconst apolloClient = new ApolloClient({\n    link: wsLink,\n    cache: new InMemoryCache(),\n    defaultOptions: {\n        watchQuery: {\n            fetchPolicy: 'network-only',\n            nextFetchPolicy: 'network-only'\n        },\n    }\n});\nad4mClient = new Ad4mClient(apolloClient)","unlocking--initializing-the-agent#Unlocking / initializing the agent":"You can't do much with the Ad4m runtime as long as the agent is not initialized.\nSo first get the agent status to see if we either need to create new DID or unlock\nan existing keystore.\nconst { isInitialized, isUnlocked, did } = await ad4mClient.agent.status()\nIf isInitialized is false (and then did is empty) we need to create or import\na DID and keys. generate() will create a new DID with method key and lock the\nkeystore with the given passphrase.\nconst { did } = await ad4mClient.agent.generate(\"passphrase\")\nIn following runs of the exectuor, ad4mClient.agent.status() will return a did\nand isInitialized true, but if isUnlocked is false, we need to unlock the keystore\nproviding the passphrase:\nconst { isUnlocked, did } = await ad4mClient.agent.unlock(\"passphrase\")","languages#Languages":"For creating an expression we need to select a language that we create an expression in:\nconst languages = await ad4mClient.languages.all()\nconst noteIpfsAddress = languages.find(l => l.name === 'note-ipfs').address","creating-an-expression#Creating an Expression":"const exprAddress = await ad4mClient.expression.create(\"A new text note\", noteIpfsAddress)","creating-a-perspective-and-linking-that-new-expression#Creating a Perspective and linking that new Expression":"const perspectiveHandle = await ad4mClient.perspective.add(\"A new perspective on apps...\")\nawait ad4mClient.perspective.addLink(\n    perspectiveHandle.uuid,\n    new Link({\n        source: 'root',\n        target: exprAddress\n    })\n)","publishing-that-local-perspective-by-turning-it-into-a-neighbourhood#Publishing that local Perspective by turning it into a Neighbourhood":"The back-bone of a Neighbourhood is a LinkLanguage - a Language that enables the sharing\nand thus synchronizing of links (see LinksAdapter in Language.ts).\nWhile there can and should be many different implementations\nwith different trade-offs and features (like membranes etc.),\nthere currently is one fully implemented and Holochain based LinkLanguage with the name Social Context.It is deployed on the current test network (Language Language v0.0.5) under the address:\nQmZ1mkoY8nLvpxY3Mizx8UkUiwUzjxJxsqSTPPdH8sHxCQ.","creating-our-unique-linklanguage-clone-through-templating#Creating our unique LinkLanguage clone through templating":"But we should not just use this publicly known Language as the back-bone for our new Neighbourhood,\nsince we need a unique clone.\nSo what we want is to use this existing Language as a template and create a new copy with the same code\nbut different UUID and/name in order to create a fresh space for our new Neighbourhood.What parameters can we adjust when using it as template?\nLet's have a look at the Language's meta information:\nconst socialContextMeta = await ad4mClient.languages.meta(\"QmZ1mkoY8nLvpxY3Mizx8UkUiwUzjxJxsqSTPPdH8sHxCQ\") \nconsole.log(socialContextMeta)\nWhich should yield something like this:\n {\n  name: 'social-context',\n  address: 'QmZ1mkoY8nLvpxY3Mizx8UkUiwUzjxJxsqSTPPdH8sHxCQ',\n  description: 'Holochain based LinkLanguage. First full implementation of a LinkLanguage, for collaborative Neighbourhoods where every agent can add links. No membrane. Basic template for all custom Neighbourhoods in this first iteration of the Perspect3vism test network.',\n  author: 'did:key:zQ3shkkuZLvqeFgHdgZgFMUx8VGkgVWsLA83w2oekhZxoCW2n',\n  templated: false,\n  templateSourceLanguageAddress: null,\n  templateAppliedParams: null,\n  possibleTemplateParams: [ 'uuid', 'name', 'description' ],\n  sourceCodeLink: 'https://github.com/juntofoundation/Social-Context'\n}\nThe field possibleTemplateParams tells us that we can set a UUID and override name and description.\nLet's leave description but change the name.\nThe function languages.applyTemplateAndPublish() takes an object as JSON as second parameter like so:\nconst uniqueLinkLanguage = await ad4mClient.languages.applyTemplateAndPublish(\"QmZ1mkoY8nLvpxY3Mizx8UkUiwUzjxJxsqSTPPdH8sHxCQ\", JSON.stringify({\"uuid\": \"84a329-77384c-1510fb\", \"name\": \"Social Context clone for demo Neighbourhood\"}));\nAnd then use this new LinkLanguage in our Neighbourhood:\nconst meta = new Perspective()\nconst neighbourhoodUrl = await ad4mClient.neighbourhood.publishFromPerspective(\n    perspectiveHandle.uuid,\n    uniqueLinkLanguage.address,\n    meta\n)\nconsole.log(neighbourhoodUrl) // => neighbourhood://Qm123456789abcdef","joining-a-neighbourhood-on-another-nodeagent#Joining a Neighbourhood (on another node/agent)":"Assume everything above happened on Alice's agent.\nAlice now shares the Neighbourhood's URL with Bob.\nThis is what Bob does to join the Neigbourhood, access it as a (local) Perspective\nand retrieve the Expression Alice created and linked there:\nconst joinedNeighbourhood = await ad4mClient.neighbourhood.joinFromUrl(neighbourhoodUrl)\nconst links = await ad4mClient.perspective.queryLinks(joinedNeighbourhood.uuid, new LinkQuery({source: 'a'}))\nlinks.forEach(async link => {\n    const address = link.data.target\n    const expression = await ad4mClient.expression.get(address)\n    const data = JSON.parse(expression.data)\n    console.log(data) //=> \"A new text note\"\n})","building-from-source#Building from source":"Run:\nnpm i && npm run build","wait-what#Wait, what?!":"The central claim of AD4M is that any single- but also specifically multi-user application can be bootstrapped out of a meta-ontology consisting of 3 quintessential ontological units:\nAgents\nLanguages\nand Perspectives\nThis is a meta-ontology since it doesn't make any assumptions about the specific ontologies implemented in those bootstrapped apps. But since apps bootstrapped from it share the same meta-ontology, they are mutualy interoperable.","agents#Agents...":"...represent humans with their devices, which is what the internet actually is. Technically represented as Decentralized Identifiers - DIDs.","languages-1#Languages...":"...encapsulate the actual technology used to communicate, like Holochain or IPFS, but what they provide to the high-level layers is this: Languages define Expressions, which are the atoms of what Agents communicate. Expressions are always created, and thus signed, by an agent. Expressions are referenced via a URL of the kind <language>://<language specific expression address>. That URL and the Expression itself is the only objective part in AD4M.","perspectives#Perspectives...":"...belong to a specific agent. They represent context and association between expressions. They consist of a list of RDF/semantic web like triplets (subject-predicate-object) called links because all three items are just URLs pointing to expressions. Perspectives are like Solid's pods, but they are agent-centric. There is no such thing as a Perspective that does not belong to an agent. It is like the canvas on which an agent perceives and onto which they create anything. To the next layer above (either the very general UI built in Perspectivism - or any other special purpose UI), they are like a database scope.","bootstrapping#Bootstrapping":"Any AD4M implementation will have to include at least 3 reflexive system Languages to enable the dynamic bootstrapping of apps and interconnected sense-making networks:\nA Language of Agents, i.e. where the expressions represent agents, and which uses DIDs as the expression URLs.\nA Language of Languages, i.e. a way to talk about Languages so Languages can be created by users and shared.\nA Language of Perspectives which implies the concept of Shared Perspectives a.k.a. Neighbourhoods, i.e. a way to share an otherwise local and private Perspective with others which constitutes the basic building block of any collaboration context.\nHaving these Languages means Agents can author expressions that represent Agents, Languages and Perspectives. These expressions get linked from inside Perspectives. That way we can model primitives like friends-lists (Perspective including agent expressions), app-stores (Perspective including Languages) and more.","how-do-i-build-an-app-onwith-ad4m#How do I build an app on/with AD4M?":"Building an AD4M app actually means extending the AD4M ecosystem with the\nLanguages\nand link-ontologies\nneeded for the app's domain - and then creating expressions from those Languages and linking them inside Perspectives.The latter means creating RDF/semantic web style triplets that associate expressions in order to represent app specific semantics - not too different to how Solid style linked-data would work."}},"/":{"title":"Introduction","data":{"":"The internet has evolved from a platform for creating and sharing simple documents to highly social digital experiences,\nand now to an era dominated by centralized artificial intelligence systems. Yet, no social infrastructure is woven into its core.\nWithout a universal social protocol, companies have erected siloed networks, harvesting and profiting from user content—a problem\nintensified by centralized AI, which concentrates power and insight extraction, deepening data monopolies and eroding agency.AD4M (Agent-centric Distributed Application Meta-ontology) counters this by centering agents—primarily human users with\nDecentralized Identifiers (DIDs), though extensible to synthetic entities—and their social contexts in digital communication.Built on Holochain, AD4M forms an agent-centric spanning layer on top of the internet, harmonizing fragmented ecosystems into a distributed\nCollective Intelligence network. This deep implementation empowers agents to choose which Language they speak—bridging currently\ncompeting P2P, federated, and centralized approaches in synergy, whether it’s a P2P protocol, a federated API, or HTTP itself.If you’re versed in Holochain’s distributed design and the semantic web’s linked data paradigm (e.g., RDF, Solid), AD4M blends\nthe best of both, crafting an agent-centric semantic web where social relationships fuel a decentralized alternative to centralized\nAI dominance, aligned with the real human networks of its users through graph-based data and a global addressing scheme.","what-is-ad4m-practically#What is AD4M practically?":"AD4M, as an agent-centric spanning layer married with an app development framework,\nredefines how decentralized applications connect users, data, and ecosystems. Unlike traditional back-ends tied to centralized servers,\nAD4M runs as a distinct instance for every user—think of it as a personal, local runtime environment. Each instance, built on Holochain,\nholds the user’s cryptographic keys (via their DID), stores their data in Perspectives (subjective RDF-based knowledge graphs),\nand executes code that interfaces with Languages—protocol-like abstractions that attach to existing systems, from HTTP to IPFS to custom P2P\nprotocols. This instance serves as the back-end that UIs and apps connect to, providing a unified, interoperable gateway to the user’s digital world.At its core, AD4M inverts the typical app-centric model. Instead of apps owning your data and social graph, your AD4M instance owns them,\nrunning on your device (or a trusted host) and exposing a GraphQL API, wrapped by our JavaScript client library, for apps to query and interact with.\nFor example, a chat app might connect to localhost:4000/graphql to fetch messages stored in a Perspective, addressed via a Language like\nQmXyz123://message789. This local runtime attaches to existing Languages—say, http for web content or solid for semantic triples—executing\ntheir logic to read or write Expressions (data objects). Developers don’t rewrite the web; they extend it, with AD4M harmonizing these connections\ninto a single, agent-owned layer.\nAgent Autonomy: Each instance is sovereign, controlled by the user’s DID (e.g., did:key:z6Mk...). It signs every action—links in Perspectives, joins to Neighbourhoods—ensuring data integrity and ownership without intermediaries.\nInteroperability Through Expressions and Perspectives:\nAD4M achieves seamless integration across ecosystems via two pillars: Expressions and Perspectives. Languages produce objective Expressions—data objects with global addresses like <language_hash>://<address> (e.g., <QmSocial456://post123>), readable by any AD4M-connected app. Meanwhile, Perspectives are subjective knowledge graphs, built from RDF triples (e.g., <agent123> <posted> <QmSocial456://post123>), representing an agent’s unique view. Together, they enable portability and connection: an Expression can be linked across Perspectives, and a Perspective can pull in data from multiple Languages, bridging web, semantic web, and P2P systems effortlessly.\nRule-Based Distributed Consistency:\nUsing Holochain for it's core backbone, each instance doesn’t just store data—it enforces consistency through Language-defined rules and Social DNA (Prolog-based logic). For example, a Neighbourhood might restrict posting to members via a rule like member(Agent) :- link(Agent, \"memberOf\", Neighbourhood). This distributed validation ensures data aligns across the network without a central authority, giving developers a reliable, self-regulating foundation.\nPractically, this means every developer’s user runs their own AD4M node. Install it, configure it (e.g., via a RuntimeConfig JSON), and it spins up a process holding their private keys, syncing their Perspectives, and running Language code—like a lightweight, personal cloud. A UI might then query:\n// Initialize the client\nconst ad4mClient = new Ad4mClient(\"ws://localhost:4000\", false);\n// Get the current agent\nconst agent = await ad4mClient.agent.me();\nconsole.log(agent.did); // did:key:z6Mk...\n// Create and work with a perspective\nconst perspective = await ad4mClient.perspective.add(\"MyPerspective\");\nconst link = await perspective.add(new Link({\n  source: \"test://source\",\n  predicate: \"test://predicate\", \n  target: \"test://target\"\n}));\n// Query links\nconst links = await perspective.get({} as LinkQuery);\nconsole.log(links); // [{source: \"test://source\", predicate: \"test://predicate\", target: \"test://target\"}]\nThis spanning layer doesn’t replace the internet—it augments it, giving agents control over their data and connections while enabling apps to tap into a distributed, interoperable network. AD4M is the engine behind a user’s digital agency, the glue for ecosystem synergy, and the foundation for Collective Intelligence—all in one local instance.","ad4m-languages#AD4M Languages":"","protocols-with-a-global-addressing-scheme#Protocols with a Global Addressing Scheme":"At the heart of AD4M are Languages, which are more than just data formats—they’re protocol-like abstractions that define how agents express,\nstore, and share data across ecosystems. Conceptually akin to protocols like HTTP or IPFS, each Language encapsulates the capacity of (AD4M-) agents\n(read: nodes/users) to spawn Expressions-that is: data-objects with cryptographic provenance- messages, posts, you name it.\nHow the Language implementation actually stores and shares these Expressions is up to the Language implementor.The key point here is to introduce a global addressing scheme, extending the familiar URI model.\nEvery Language is identified by a unique code hash (a cryptographic hash of its implementation), which becomes the scheme in a URL-like address:\n<language_hash>://<language-specific-address>. This mirrors the method resolution in Decentralized Identifiers (DIDs) but applies it to data\nobjects (Expressions) across the network.For example:\nA social context Language might have a hash like QmXyz123..., so an Expression could be addressed as QmXyz123://agent123/post456.HTTP, as a particular Language (read protocol), maps to http://example.com/resource, making AD4M backwards compatible with the web.Languages are implemented as JavaScript modules, that will be run in AD4M's integrated JavaScript runtime (an integrated build of Deno).\nThis scheme ensures that any Expression—whether a tweet, a post, a semantic triple, or a custom data object—is globally referenceable across Languages (protocols).\nDevelopers can thus integrate existing systems into the AD4M spanning layer by writing a Language that wraps and interfaces with given system (e.g. a database, blockchain, Holochain app...).","foundational-bootstrap-languages#Foundational Bootstrap Languages":"Out of the gate, AD4M relies on bootstrap Languages—pre-installed essentials like the agent, perspective, & language languages.\nThese provide the core grammar for identity (did:key:z6Mk...), knowledge graphs / perspectives (perspective://2f168edc-...)\nand their collaboratively shared pendandts, Neighbourhoods, (neighbourhood://2345d23...), and then languages themselves (lang://Qm3dgfw23...)\nThey standardize interactions across every AD4M instance, around the core ontology of AD4M itself.For instance:\nconst ad4mClient = await getAd4mClient(\"ws://localhost:4000\");\nconst agentExpression = await ad4mClient.expression.get(\"did:key:z6Mk...\");\nconsole.log(agentExpression.data); // { did: \"did:key:z6Mk...\" }\nresolves a DID to the Agent Expression, which contains some information about the referenced AD4M agent (read: user).Bootstrap Languages make AD4M a functional spanning layer from the start, an evolvable bare-bones social network that enables\nits users to spawn their own ontologies and spaces into this meta-space.","evolvability-through-the-language-language#Evolvability through the Language-Language":"The true genius of AD4M’s Language system lies in its evolvability, driven by the language-language—a meta-Language through which new Languages are defined, published, and shared across the network.\nThis bootstrap Language acts as a registry and distribution mechanism: developers create a custom Language (e.g., my-social-app), its code is hashed (e.g., QmCustom321),\nand it’s published as an Expression at language://QmCustom321. Other agents can then fetch and install it:\n// Publish a new language\nconst languageMeta = {\n  name: \"my-social-app\",\n  description: \"A custom social app language\"\n};\nconst published = await ad4mClient.languages.publish(\"./build/bundle.js\", languageMeta);\nconsole.log(published.address); // QmCustom321\n// Get all installed languages\nconst languages = await ad4mClient.languages.all();\nconsole.log(languages); // Includes the newly published language\nThis Language installation process happens automatically when AD4M tries to resolve an Expression of a new Language.\nWith the hash of the Language code being part of the Expression URL, AD4M will try to retrieve the Language throug the Language of Languages.\nSince every Expression contains its crytographic provenance, AD4M has a natural built-in way to apply code-signing and verification-only Languages of trusted agents\nwill be installed automatically.This makes the AD4M spanning layer a living, adaptive system. The language-language ensures that as new protocols or needs emerge—say, a federated messaging standard or a novel AI integration—agents can adopt them without centralized gatekeepers or hard forks.\nIt’s the most critical aspect of Languages: not just connecting existing ecosystems, but enabling the entire framework to evolve with its users.\nA developer might extend AD4M with:\ninterface CustomLanguage {\n  hash: \"QmCustom321\";\n  name: \"my-social-app\";\n  expressionTypes: {\n    create: (content: { text: string }) => {\n        /* handle any transformation required here, save the data, and return its address */\n        return \"QmCustom321://post789\";\n    },\n    get: (address: string) => {\n        /* fetch the data here, handle any transformation required, and return it to the UI */\n        return { text: string };\n    };\n  };\n}\nBy rooting adaptability in the language-language, AD4M ensures its spanning layer isn’t static—it grows, driven by the collective innovation of its agents, making it a future-proof foundation for Collective Intelligence.","perspectives-and-neighbourhoods#Perspectives and Neighbourhoods":"The local AD4M node stores, manages and gives access to an arbitrary number of Perspectives—subjective knowledge graphs of RDF triples.\nEach Perspective is similar to a Solid Pod, in that it's a (private) collection of semantic associations.\nThe main difference to semantic web style graphs is that each triple (called a Link in AD4M) is an Expression and thus has a cryptographic provenance.\nThese triples, like <subject> <predicate> <object>, store data such as <agent123> <posted> <QmXyz123://post456>.Agents share these local graph databases in a collaberative way with other AD4M agents via Neighbourhoods, app-independent social contexts that act as shared,\ncollaboratively edited graphs. Built on the same linked data principles as the semantic web or Solid, Neighbourhoods enable portability:\na community’s social structure—its links and relationships—can move seamlessly across apps. For instance:\nconst perspective = await ad4mClient.perspective.add(\"MyCommunity\");\n// Add a link to the perspective\nawait perspective.add(new Link({\n  source: \"agent123\",\n  predicate: \"memberOf\",\n  target: \"neighbourhood://QmAbc789\"\n}));\n// Query links\nconst links = await perspective.get({} as LinkQuery);\nconsole.log(links);\n// [{source: \"agent123\", predicate: \"memberOf\", target: \"neighbourhood://QmAbc789\"}]\nThis focus on agent-to-agent relationships, not app boundaries, drives AD4M’s interoperability, making social networks the foundation of its architecture.","social-dna#Social DNA":"In a decentralized network awash with data, the leap from raw information to collective wisdom hinges on more than just connectivity—it requires a way to encode how agents\nand their communities process, filter, and reason over that data. Social DNA is AD4M’s answer: a conceptual parallel to biological DNA, it defines the rules,\nbehaviors, and logic that transform static Perspectives and Neighbourhoods into dynamic, intelligent Social Organisms. For developers, Social DNA is the key to\ncrafting app-specific intelligence—whether it’s validating data, enforcing roles, or aggregating insights—all while keeping control distributed among agents.\nIt’s the engine driving AD4M’s vision of a Collective Intelligence network, turning linked data into actionable, shared understanding.","query-engines-surrealdb--prolog#Query Engines: SurrealDB & Prolog":"AD4M provides two powerful query engines for working with graph data in Perspectives:","surrealdb-high-performance-queries-recommended#SurrealDB: High-Performance Queries (Recommended)":"AD4M now includes SurrealDB, a modern database that provides 10-100x faster performance than Prolog for most queries. SurrealDB uses SQL-like syntax (SurrealQL) and excels at:\nFast graph traversal using indexed in.uri and out.uri fields\nAggregations and analytics\nComplex filtering and sorting\nLarge dataset handling\n// Fast graph query - find who Alice follows\nconst follows = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'follows'\"\n);\n// Find posts by Alice\nconst posts = await perspective.querySurrealDB(\n  \"SELECT target FROM link WHERE in.uri = 'user://alice' AND predicate = 'authored'\"\n);\nPerformance Tip: Use in.uri (source) and out.uri (target) for graph traversal - they're indexed and fast. Avoid subqueries (IN (SELECT ...)) as they're very slow.Important: Ad4mModel (described below) now uses SurrealDB by default for all operations, providing dramatic performance improvements with no code changes required.For detailed examples and graph traversal patterns, see the SurrealDB Queries Guide.","prolog-logic-programming-legacy#Prolog: Logic Programming (Legacy)":"For backward compatibility and advanced logic programming, AD4M also includes Prolog, optimized for reasoning over relational data like the RDF triples in Perspectives.\nProlog's declarative nature lets developers write rules as predicates:\n% Check if an agent is a member\nmember(Agent, Neighbourhood) :-\n    link(Agent, \"memberOf\", Neighbourhood).\n% Validate a post by a member\nmemberPost(Post, Agent, Neighbourhood) :-\n    link(Agent, \"posted\", Post),\n    member(Agent, Neighbourhood).\n% Query all member posts\n?- memberPost(Post, Agent, \"neighbourhood://QmGroup789\").\nThis could be queried via the AD4M client:\nconst posts = await perspective.infer(\n  \"memberPost(Post, Agent, 'neighbourhood://QmGroup789')\"\n);\nconsole.log(posts); // [{Post: \"QmXyz123://post456\", Agent: \"did:key:z6Mk...\"}, ...]\nWhile these raw query engines are powerful, AD4M simplifies development with a higher-level abstraction.","ad4mmodel#Ad4mModel":"For app developers, writing queries directly is optional—AD4M's Ad4mModel class and its decorators handle the heavy lifting.\nThis TypeScript base class lets you define model classes with properties and relationships, automatically using SurrealDB under the hood for\nfast query performance (10-100x faster than Prolog). Here's how you define a model:\nimport { Ad4mModel, ModelOptions, Property, Collection, Flag, Optional, ReadOnly } from \"@coasys/ad4m\";\n@ModelOptions({\n    name: \"Todo\"\n})\nclass Todo extends Ad4mModel {\n    @Property({\n        through: \"todo://state\",\n        initial: \"todo://ready\"\n    })\n    state: string = \"\";\n    @Optional({\n        through: \"todo://has_title\",\n        writable: true,\n        resolveLanguage: \"literal\"\n    })\n    title: string = \"\";\n    @ReadOnly({\n        getter: 'triple(Base, \"flux://has_reaction\", \"flux://thumbsup\"), Value = true'\n    })\n    isLiked: boolean = false;\n    @Collection({ through: \"todo://comment\" })\n    comments: string[] = [];\n    @Collection({ \n        through: \"flux://entry_type\",\n        where: { condition: 'triple(Target, \"flux://has_reaction\", \"flux://thumbsup\")' }\n    })\n    likedMessages: string[] = [];\n    // Static query methods\n    static async all(perspective: PerspectiveProxy): Promise<Todo[]> {\n        return await Todo.findAll(perspective);\n    }\n    static async allDone(perspective: PerspectiveProxy): Promise<Todo[]> {\n        return await Todo.findAll(perspective, { \n            where: { state: \"todo://done\" }\n        });\n    }\n}\nBehind this, Ad4mModel:\nUses SurrealDB by default for fast queries (10-100x faster)\nGenerates efficient SurrealQL queries automatically\nStores data as graph links in the perspective\nProvides type-safe TypeScript interfaces\nFor example, Todo.findAll(perspective, { where: { state: \"todo://done\" } }) automatically generates and executes an optimized SurrealQL query.For backward compatibility, Prolog is still supported (pass useSurrealDB: false to query methods). See the Model Classes Guide and SurrealDB Queries Guide for details.You can use this model to work with Todo items in a type-safe way:\n// Create a new Todo\nconst todo = new Todo(perspective);\ntodo.title = \"Complete documentation\";\ntodo.state = \"todo://ready\";\nawait todo.save();\n// Query todos\nconst allTodos = await Todo.all(perspective);\nconst doneTodos = await Todo.allDone(perspective);\n// Update a todo\ntodo.state = \"todo://done\";\nawait todo.update();\n// Delete a todo\nawait todo.delete();\nDevelopers define their app's data model in familiar TypeScript, and AD4M handles the Social DNA—stored in a Perspective or Neighbourhood—making it both accessible and powerful. This abstraction lets you focus on app logic while SurrealDB provides fast queries and Prolog enables decentralized reasoning that scales across the network.","why#Why?":"The goal is to arrive at scalable and interoparable communication infrastructure\nthat enables group agency without imposing a bias on how a group manages itself.This is the real problem we're facing when trying to provide a\ntechnological solution to the web's fractured sense-making.AD4M is a sense-making network disguised as an app development framework.\nAD4M apps don't have to leak any of the AD4M concepts at all,\nand they would still be interoperable with each other to the degree\nof just being different views over the same agent-centric semantic web.","why-should-i-build-on-adam#Why should I build on ADAM?":"ADAM solves a lot of common challenges when developing social applications:\nCold Start: When a new social platform has limited content and a small user base, it is challenging to attract users and engagement. By interacting with already existing agents and their social groups, you don't need to onboard users.\nAuthentication: Authentication is already taken care of, reducing the overload of having to implement authentication flows and user management.\nPrivacy by default: Each social group in ADAM is its own private network, making communication private by default.\nDatabase management: ADAM is completely decentralized, hence there is no database to manage, and no infrastructure you need to scale.\nInteroperability: You are not locked into using one kind of storage technology\nand can switch out your tech stack incrementally. With ADAMs Language implementation, you are able to interact with any existing centralized or decentralized system.\nSmart Contracts without fees: With ADAMs Social DNA, social spaces can easily add their own small programs (smart contracts) using prolog."}},"/jsdoc/classes/Ad4mClient":{"title":"Class: Ad4mClient","data":{"":"@coasys/ad4m / Exports / Ad4mClientClient for the Ad4m interface wrapping GraphQL queryies\nfor convenient use in user facing code.Aggregates the six sub-clients:\nAgentClient, ExpressionClient, LanguageClient,\nNeighbourhoodClient, PerspectiveClient and RuntimeClient\nfor the respective functionality.","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"#agentClient\n#aiClient\n#apolloClient\n#expressionClient\n#languageClient\n#neighbourhoodClient\n#perspectiveClient\n#runtimeClient","accessors#Accessors":"agent\nai\nexpression\nlanguages\nneighbourhood\nperspective\nruntime","constructors-1#Constructors":"","constructor#constructor":"• new Ad4mClient(client, subscribe?)","parameters#Parameters":"Name\tType\tDefault value\tclient\tApolloClient<any>\tundefined\tsubscribe\tboolean\ttrue","defined-in#Defined in":"Ad4mClient.ts:30","properties-1#Properties":"","agentclient##agentClient":"• Private #agentClient: AgentClient","defined-in-1#Defined in":"Ad4mClient.ts:21","aiclient##aiClient":"• Private #aiClient: AIClient","defined-in-2#Defined in":"Ad4mClient.ts:27","apolloclient##apolloClient":"• Private #apolloClient: ApolloClient<any>","defined-in-3#Defined in":"Ad4mClient.ts:20","expressionclient##expressionClient":"• Private #expressionClient: ExpressionClient","defined-in-4#Defined in":"Ad4mClient.ts:22","languageclient##languageClient":"• Private #languageClient: LanguageClient","defined-in-5#Defined in":"Ad4mClient.ts:23","neighbourhoodclient##neighbourhoodClient":"• Private #neighbourhoodClient: NeighbourhoodClient","defined-in-6#Defined in":"Ad4mClient.ts:24","perspectiveclient##perspectiveClient":"• Private #perspectiveClient: PerspectiveClient","defined-in-7#Defined in":"Ad4mClient.ts:25","runtimeclient##runtimeClient":"• Private #runtimeClient: RuntimeClient","defined-in-8#Defined in":"Ad4mClient.ts:26","accessors-1#Accessors":"","agent#agent":"• get agent(): AgentClient","returns#Returns":"AgentClient","defined-in-9#Defined in":"Ad4mClient.ts:45","ai#ai":"• get ai(): AIClient","returns-1#Returns":"AIClient","defined-in-10#Defined in":"Ad4mClient.ts:69","expression#expression":"• get expression(): ExpressionClient","returns-2#Returns":"ExpressionClient","defined-in-11#Defined in":"Ad4mClient.ts:49","languages#languages":"• get languages(): LanguageClient","returns-3#Returns":"LanguageClient","defined-in-12#Defined in":"Ad4mClient.ts:53","neighbourhood#neighbourhood":"• get neighbourhood(): NeighbourhoodClient","returns-4#Returns":"NeighbourhoodClient","defined-in-13#Defined in":"Ad4mClient.ts:57","perspective#perspective":"• get perspective(): PerspectiveClient","returns-5#Returns":"PerspectiveClient","defined-in-14#Defined in":"Ad4mClient.ts:61","runtime#runtime":"• get runtime(): RuntimeClient","returns-6#Returns":"RuntimeClient","defined-in-15#Defined in":"Ad4mClient.ts:65"}},"/jsdoc/classes/ExceptionInfo":{"title":"Class: ExceptionInfo","data":{"":"@coasys/ad4m / Exports / ExceptionInfo","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"addon\nmessage\ntitle\ntype","constructors-1#Constructors":"","constructor#constructor":"• new ExceptionInfo()","properties-1#Properties":"","addon#addon":"• Optional addon: string","defined-in#Defined in":"runtime/RuntimeResolver.ts:54","message#message":"• message: string","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:50","title#title":"• title: string","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:48","type#type":"• type: ExceptionType","defined-in-3#Defined in":"runtime/RuntimeResolver.ts:52"}},"/jsdoc/classes/ImportStats":{"title":"Class: ImportStats","data":{"":"@coasys/ad4m / Exports / ImportStats","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"errors\nfailed\nimported\nomitted\ntotal","constructors-1#Constructors":"","constructor#constructor":"• new ImportStats()","properties-1#Properties":"","errors#errors":"• errors: string[]","defined-in#Defined in":"runtime/RuntimeResolver.ts:156","failed#failed":"• failed: number","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:150","imported#imported":"• imported: number","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:147","omitted#omitted":"• omitted: number","defined-in-3#Defined in":"runtime/RuntimeResolver.ts:153","total#total":"• total: number","defined-in-4#Defined in":"runtime/RuntimeResolver.ts:144"}},"/jsdoc/classes/ImportResult":{"title":"Class: ImportResult","data":{"":"@coasys/ad4m / Exports / ImportResult","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"defaultModels\nexpressions\nfriends\nknownLinkLanguages\nlinks\nmodels\nnotifications\nperspectiveDiffs\nperspectives\ntasks\ntrustedAgents","constructors-1#Constructors":"","constructor#constructor":"• new ImportResult()","properties-1#Properties":"","defaultmodels#defaultModels":"• defaultModels: ImportStats","defined-in#Defined in":"runtime/RuntimeResolver.ts:180","expressions#expressions":"• expressions: ImportStats","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:168","friends#friends":"• friends: ImportStats","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:186","knownlinklanguages#knownLinkLanguages":"• knownLinkLanguages: ImportStats","defined-in-3#Defined in":"runtime/RuntimeResolver.ts:192","links#links":"• links: ImportStats","defined-in-4#Defined in":"runtime/RuntimeResolver.ts:165","models#models":"• models: ImportStats","defined-in-5#Defined in":"runtime/RuntimeResolver.ts:177","notifications#notifications":"• notifications: ImportStats","defined-in-6#Defined in":"runtime/RuntimeResolver.ts:174","perspectivediffs#perspectiveDiffs":"• perspectiveDiffs: ImportStats","defined-in-7#Defined in":"runtime/RuntimeResolver.ts:171","perspectives#perspectives":"• perspectives: ImportStats","defined-in-8#Defined in":"runtime/RuntimeResolver.ts:162","tasks#tasks":"• tasks: ImportStats","defined-in-9#Defined in":"runtime/RuntimeResolver.ts:183","trustedagents#trustedAgents":"• trustedAgents: ImportStats","defined-in-10#Defined in":"runtime/RuntimeResolver.ts:189"}},"/jsdoc/classes/NotificationInput":{"title":"Class: NotificationInput","data":{"":"@coasys/ad4m / Exports / NotificationInput","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"appIconPath\nappName\nappUrl\ndescription\nperspectiveIds\ntrigger\nwebhookAuth\nwebhookUrl","constructors-1#Constructors":"","constructor#constructor":"• new NotificationInput()","properties-1#Properties":"","appiconpath#appIconPath":"• appIconPath: string","defined-in#Defined in":"runtime/RuntimeResolver.ts:68","appname#appName":"• appName: string","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:64","appurl#appUrl":"• appUrl: string","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:66","description#description":"• description: string","defined-in-3#Defined in":"runtime/RuntimeResolver.ts:62","perspectiveids#perspectiveIds":"• perspectiveIds: string[]","defined-in-4#Defined in":"runtime/RuntimeResolver.ts:79","trigger#trigger":"• trigger: string","defined-in-5#Defined in":"runtime/RuntimeResolver.ts:75","webhookauth#webhookAuth":"• webhookAuth: string","defined-in-6#Defined in":"runtime/RuntimeResolver.ts:87","webhookurl#webhookUrl":"• webhookUrl: string","defined-in-7#Defined in":"runtime/RuntimeResolver.ts:83"}},"/jsdoc/classes/Notification":{"title":"Class: Notification","data":{"":"@coasys/ad4m / Exports / Notification","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"appIconPath\nappName\nappUrl\ndescription\ngranted\nid\nperspectiveIds\ntrigger\nwebhookAuth\nwebhookUrl","constructors-1#Constructors":"","constructor#constructor":"• new Notification()","properties-1#Properties":"","appiconpath#appIconPath":"• appIconPath: string","defined-in#Defined in":"runtime/RuntimeResolver.ts:105","appname#appName":"• appName: string","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:101","appurl#appUrl":"• appUrl: string","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:103","description#description":"• description: string","defined-in-3#Defined in":"runtime/RuntimeResolver.ts:99","granted#granted":"• granted: boolean","defined-in-4#Defined in":"runtime/RuntimeResolver.ts:97","id#id":"• id: string","defined-in-5#Defined in":"runtime/RuntimeResolver.ts:95","perspectiveids#perspectiveIds":"• perspectiveIds: string[]","defined-in-6#Defined in":"runtime/RuntimeResolver.ts:116","trigger#trigger":"• trigger: string","defined-in-7#Defined in":"runtime/RuntimeResolver.ts:112","webhookauth#webhookAuth":"• webhookAuth: string","defined-in-8#Defined in":"runtime/RuntimeResolver.ts:124","webhookurl#webhookUrl":"• webhookUrl: string","defined-in-9#Defined in":"runtime/RuntimeResolver.ts:120"}},"/jsdoc/classes/RuntimeInfo":{"title":"Class: RuntimeInfo","data":{"":"@coasys/ad4m / Exports / RuntimeInfo","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"ad4mExecutorVersion\nisInitialized\nisUnlocked","constructors-1#Constructors":"","constructor#constructor":"• new RuntimeInfo()","properties-1#Properties":"","ad4mexecutorversion#ad4mExecutorVersion":"• ad4mExecutorVersion: string","defined-in#Defined in":"runtime/RuntimeResolver.ts:38","isinitialized#isInitialized":"• isInitialized: Boolean","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:40","isunlocked#isUnlocked":"• isUnlocked: Boolean","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:42"}},"/jsdoc/classes/SentMessage":{"title":"Class: SentMessage","data":{"":"@coasys/ad4m / Exports / SentMessage","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"message\nrecipient","constructors-1#Constructors":"","constructor#constructor":"• new SentMessage()","properties-1#Properties":"","message#message":"• message: PerspectiveExpression","defined-in#Defined in":"runtime/RuntimeResolver.ts:32","recipient#recipient":"• recipient: string","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:30"}},"/jsdoc/classes/TriggeredNotification":{"title":"Class: TriggeredNotification","data":{"":"@coasys/ad4m / Exports / TriggeredNotification","table-of-contents#Table of contents":"","constructors#Constructors":"constructor","properties#Properties":"notification\nperspectiveId\ntriggerMatch","constructors-1#Constructors":"","constructor#constructor":"• new TriggeredNotification()","properties-1#Properties":"","notification#notification":"• notification: Notification","defined-in#Defined in":"runtime/RuntimeResolver.ts:131","perspectiveid#perspectiveId":"• perspectiveId: string","defined-in-1#Defined in":"runtime/RuntimeResolver.ts:133","triggermatch#triggerMatch":"• triggerMatch: string","defined-in-2#Defined in":"runtime/RuntimeResolver.ts:138"}},"/neighbourhoods":{"title":"Neighbourhoods: Collaborative Knowledge Spaces","data":{"understanding-neighbourhoods#Understanding Neighbourhoods":"Neighbourhoods transform private Perspectives into shared semantic spaces where multiple agents can collaborate. They represent AD4M's vision of group collaboration: decentralized, storage-agnostic, and centered around shared meaning rather than applications.","from-personal-to-shared-knowledge#From Personal to Shared Knowledge":"While Perspectives are personal knowledge graphs, Neighbourhoods enable:\nReal-time synchronization of semantic links between agents\nApp-independent group collaboration\nShared context through a common knowledge graph\nIntegration with existing group spaces and infrastructure\nFor example, the same Neighbourhood could be viewed through:\nA chat application showing messages and threads\nA task management tool showing assignments and deadlines\nA document editor showing collaborative documents\nA social network showing relationships and posts\nAll these views operate on the same underlying semantic graph, just interpreting the links differently.","linklanguages-the-sync-layer#LinkLanguages: The Sync Layer":"Neighbourhoods achieve their magic through LinkLanguages – specialized Languages that define how links are stored and synchronized between agents. A LinkLanguage implements the LinkSyncAdapter interface:\ninterface LinkSyncAdapter {\n    // Is this link space writable?\n    writable(): boolean;\n    \n    // Is this link space public?\n    public(): boolean;\n    \n    // Get list of other agents in the space\n    others(): Promise<DID[]>;\n    // Get current revision (like git commit hash)\n    currentRevision(): Promise<string>;\n    // Sync with other agents, returns changes\n    sync(): Promise<PerspectiveDiff>;\n    // Get full state at current revision\n    render(): Promise<Perspective>;\n    // Publish local changes\n    commit(diff: PerspectiveDiff): Promise<string>;\n    // Subscribe to remote changes\n    addCallback(callback: (diff: PerspectiveDiff) => void);\n    // Subscribe to sync state changes\n    addSyncStateChangeCallback(callback: (state: PerspectiveState) => void);\n}\nThis git-like interface enables Neighbourhoods to:\nTrack revisions of the shared space\nSync changes between agents efficiently\nMaintain consistency through CRDT-like mechanisms\nSupport different backend implementations","the-neighbourhood-bootstrap-language#The Neighbourhood Bootstrap Language":"AD4M includes a built-in \"Neighbourhood Language\" that serves as a public registry for Neighbourhoods. When you create a Neighbourhood, an Expression in this language is published containing:\nThe address of the LinkLanguage used for sync\nMeta information about the Neighbourhood (name, description, etc.)\nAccess control information\n// Example Neighbourhood Expression\n{\n    data: {\n        linkLanguage: \"QmLinkLang123...\",  // Address of the sync language\n        meta: {  // Optional metadata\n            name: \"My Team Space\",\n            description: \"Collaboration space for our team\"\n        }\n    }\n}","joining-process#Joining Process":"When an agent joins a Neighbourhood using its URL:\nThe Neighbourhood Expression is retrieved\nThe specified LinkLanguage is downloaded and installed\nThe agent connects to the shared space using that language\n// Join flow under the hood [PSEUDO-CODE]\nconst join = async (url) => {\n    // 1. Get Neighbourhood Expression\n    const hood = await ad4m.expression.get(url);\n    \n    // 2. Install LinkLanguage if needed\n    const linkLang = hood.data.linkLanguage;\n    if (!await ad4m.languages.isInstalled(linkLang)) {\n        await ad4m.languages.install(linkLang);\n    }\n    \n    // 3. Connect using the LinkLanguage\n    return await ad4m.perspective.join(linkLang);\n}","language-templates-and-trust#Language Templates and Trust":"AD4M provides a powerful templating mechanism for Languages, particularly useful for LinkLanguages. This enables:\nCreating unique P2P networks for each Neighbourhood\nVerifiable code provenance\nTrust-based language installation","the-default-template#The Default Template":"AD4M comes with a default LinkLanguage template called \"Perspective Diff Sync\" (P-Diff-Sync), authored by Coasys. This implementation:\nUses Holochain as the P2P backend\nImplements a CRDT algorithm for consistency\nCreates isolated DHT networks per instance","trust-and-templates#Trust and Templates":"The templating system works with AD4M's trust mechanism:\nInitial Trust:\nNew AD4M installations trust Coasys by default\nThis means they trust the P-Diff-Sync template\nThe template's code hash is verified against Coasys's signature\nTemplate Usage:\n// Create a unique LinkLanguage instance\nconst linkLanguage = await ad4m.languages.applyTemplateAndPublish(\n    templateAddress,\n    {\n        uuid: \"unique-network-id\",  // Creates isolated DHT\n        name: \"Team Space Sync\"\n    }\n);\nTrust Verification:\nWhen installing a templated Language, AD4M verifies:\nThe template source is trusted\nThe templating only modified allowed parameters\nThe resulting code matches the expected hash\nThis means agents can safely install Languages created from trusted templates, even if they don't trust the Neighbourhood creator directly.","holochain-integration#Holochain Integration":"For the P-Diff-Sync template:\nEach templated instance creates its own Holochain DNA\nThe uuid parameter ensures a unique network ID\nAgents joining the Neighbourhood join this specific DHT\nThe network is isolated from other Neighbourhoods\n// Example of full Neighbourhood creation with templating\nconst createNeighbourhood = async () => {\n    // 1. Create unique LinkLanguage from template\n    const template = (await ad4m.runtime.knownLinkLanguageTemplates())[0];\n    const linkLang = await ad4m.languages.applyTemplateAndPublish(\n        template,\n        {\n            uuid: crypto.randomUUID(),\n            name: \"My Space Sync\"\n        }\n    );\n    \n    // 2. Create and publish Neighbourhood\n    const meta = new Perspective();\n    meta.add({\n        source: \"self\",\n        predicate: \"name\",\n        target: \"My Collaborative Space\"\n    });\n    \n    return await ad4m.neighbourhood.publishFromPerspective(\n        perspective.uuid,\n        linkLang.address,\n        meta\n    );\n};","creating-collaborative-spaces#Creating Collaborative Spaces":"","setting-up-a-neighbourhood#Setting Up a Neighbourhood":"First, choose or create a LinkLanguage for your sync needs:\n// List available LinkLanguage templates\nconst templates = await ad4m.runtime.knownLinkLanguageTemplates();\n// Create a unique instance of a LinkLanguage\nconst linkLanguage = await ad4m.languages.applyTemplateAndPublish(\n    templates[0],  // e.g., Perspective Diff Sync\n    JSON.stringify({\n        uuid: \"unique-id-123\",  // Unique network identifier\n        name: \"My Team Sync\"\n    })\n);\nThen create the Neighbourhood:\n// Optional: Create metadata about the Neighbourhood\nconst meta = new Perspective();\nawait meta.add({\n    source: \"neighbourhood://self\",\n    predicate: \"name\",\n    target: \"literal://My Team Space\"\n});\n// Create the Neighbourhood from a Perspective\nconst url = await ad4m.neighbourhood.publishFromPerspective(\n    perspective.uuid,\n    linkLanguage.address,\n    meta\n);\n// Returns: neighbourhood://Qm123456789abcdef","joining-a-neighbourhood#Joining a Neighbourhood":"Other agents can join using the Neighbourhood URL:\n// Join the Neighbourhood\nconst { uuid } = await ad4m.neighbourhood.joinFromUrl(url);\n// Get the shared Perspective\nconst shared = await ad4m.perspective.byUUID(uuid);\n// Listen for changes\nshared.addListener((links) => {\n    console.log(\"New links:\", links);\n});","building-on-neighbourhoods#Building on Neighbourhoods":"","app-independent-collaboration#App-Independent Collaboration":"Neighbourhoods enable collaboration without locking data into specific apps:\n// Chat app might add message links\nawait shared.add({\n    source: \"did:key:alice\",\n    predicate: \"chat://posted\",\n    target: \"QmMsg123://Hello!\"\n});\n// Task app might add assignment links\nawait shared.add({\n    source: \"did:key:bob\",\n    predicate: \"task://assigned-to\",\n    target: \"did:key:carol\"\n});","integration-examples#Integration Examples":"The power of LinkLanguages lies in their ability to bridge AD4M with existing infrastructure. Here are some practical integration scenarios:\nCompany Intranet Integration:\nWrap your existing database or document management system in a LinkLanguage\nLeverage existing user permissions and access control\nMake company data available to AD4M apps while maintaining security\nEnable semantic overlays on traditional hierarchical storage\nFor example, your company's SharePoint or document management system could become a LinkLanguage, allowing AD4M apps to collaborate on documents while respecting existing access controls and security policies.\nLegacy System Integration:\nConnect to existing groupware or collaboration tools\nMap traditional data structures to semantic links\nMaintain existing workflows while enabling new capabilities\nGradually transition to more semantic approaches\nThis allows teams to keep using their familiar tools while gaining the benefits of AD4M's semantic capabilities. For instance, a team's JIRA instance could be wrapped as a LinkLanguage, making tickets and workflows available in the semantic web.\nFederated Systems:\nBridge ActivityPub, Matrix, or other federated protocols\nEnable cross-platform semantic connections\nMaintain federation while adding semantic capabilities\nIntegrate with existing social networks\nThe beauty of this approach is that AD4M apps don't need to know about the underlying infrastructure. Whether links are stored in a corporate database, a blockchain, or a p2p network, the apps just work with the semantic layer provided by the LinkLanguage.","best-practices#Best Practices":"Choose the Right LinkLanguage:\nConsider privacy requirements\nEvaluate scalability needs\nThink about integration points\nDesign Semantic Structure:\nPlan your predicate vocabulary\nConsider multiple app use cases\nDocument link patterns\nHandle Updates:\nListen for changes\nUpdate UI in real-time\nHandle conflicts gracefully"}},"/languages":{"title":"Languages: Communication Protocols for Agents","data":{"understanding-languages-in-ad4m#Understanding Languages in AD4M":"In AD4M, Languages are the fundamental building blocks that define how agents communicate and share data. While we call them \"Languages\", they could just as well be called \"Protocols\" or \"Data Storage Adapters\" – they define the rules and mechanisms by which nodes in the network exchange information.The term \"Language\" was chosen deliberately: just as human languages enable people to communicate and share ideas, AD4M Languages enable digital agents to exchange data and interact. Alternative metaphors could have been \"Games\" or \"Dances\" – patterns of interaction between agents.","core-mechanism#Core Mechanism":"At their heart, Languages implement a simple but powerful mechanism:\nStorage: Take some data, store it in a shared space (could be a server, Holochain DHT, blockchain, etc.), and return a URI that points to that data\nRetrieval: Take a URI and return the previously stored data (called an \"Expression\" in AD4M)\nThis mechanism creates a universal way for agents to share and reference information, regardless of where or how it's actually stored. For example:\nAn IPFS Language might store data in the IPFS network and return a CID\nA Holochain Language might store data in a DHT and return an entry hash\nA Web2 Language might store data on a server and return a URL","universal-addressing-mechanism#Universal Addressing Mechanism":"AD4M's Language system extends the familiar URI/URL model into a truly universal addressing scheme. Every Expression (the signed data objects in AD4M) is addressable through a URI that combines:\nThe Language's unique identifier (a hash of its implementation code)\nThe Language-specific address for that data\nFor example:\n<language_hash>://<language-specific-address>\nThis means AD4M can seamlessly integrate with and extend existing addressing systems:\nWeb URLs become: http://example.com/resource\nIPFS content becomes: QmIPFS123://<cid>\nAgent DIDs become: did:key:z6Mk...\nCustom protocols become: QmCustom789://user123/post456\nThe Language-Language (one of AD4M's bootstrap Languages) makes this system dynamic and extensible:\nNew Languages can be published and their code verified\nAny AD4M instance can discover and install Languages as needed\nThe system can evolve without central coordination\nThis creates a spanning layer across the internet where:\nEvery piece of data has a globally unique address\nAddresses are self-describing (include their protocol)\nNew protocols can be added dynamically\nExisting systems can be integrated seamlessly","why-languages-matter#Why Languages Matter":"Languages in AD4M serve several crucial purposes:\nDefine how data is stored and retrieved\nSpecify how agents communicate\nEnable different storage backends (IPFS, Holochain, centralized servers, etc.)\nAllow for extensible and pluggable protocols\nCreate semantic meaning through shared understanding","technical-implementation#Technical Implementation":"At its core, AD4M is a Language runtime. Languages are implemented as JavaScript modules that run in a sandboxed Deno environment within the AD4M executor. This provides:\nSecure execution environment\nTypeScript support out of the box\nModern ES module system\nBuilt-in permissions model","language-module-contract#Language Module Contract":"Every Language module must export a default create function with this signature:\nexport default function create(context: LanguageContext): Language | Promise<Language>\nThis function is the entry point for your Language. The AD4M executor will:\nLoad your Language module in the Deno sandbox\nCall the create function with a LanguageContext\nUse the returned Language object to interact with your implementation","the-languagecontext#The LanguageContext":"The LanguageContext provides essential services and capabilities to your Language:\ninterface LanguageContext {\n    // Access to the agent's signing capabilities\n    agent: AgentService;\n    \n    // For verifying signatures\n    signatures: SignaturesService;\n    \n    // Path for persistent storage\n    storageDirectory: string;\n    \n    // Language-specific settings\n    customSettings: object;\n    \n    // Access to Holochain functionality\n    Holochain?: HolochainLanguageDelegate;\n    \n    // For handling AD4M signals\n    ad4mSignal: Ad4mSignalCB;\n}\nKey features provided by the context:\nAgent Service\n// Sign expressions with the agent's keys\nconst expression = context.agent.createSignedExpression(data);\n// Get the agent's DID\nconst did = context.agent.did;\nHolochain Integration\n// Register a Holochain DNA\nawait context.Holochain.registerDNAs([{\n  file: dnaPath,\n  nick: 'my-dna'\n}]);\n// Call Holochain zome functions\nconst result = await context.Holochain.call(\n  'my-dna',\n  'zome-name',\n  'function-name',\n  payload\n);\nStorage and Settings\n// Access persistent storage\nconst storagePath = context.storageDirectory;\n// Use custom settings\nconst settings = context.customSettings;","the-language-interface#The Language Interface":"Here's the core interface that all Languages must implement:\ninterface Language {\n    // Required: Name of the language\n    readonly name: string;\n    // Optional adapters for different functionalities:\n    // For languages that store and retrieve expressions\n    readonly expressionAdapter?: ExpressionAdapter;\n    // For languages that handle UI rendering\n    readonly expressionUI?: ExpressionUI;\n    // For languages that manage links (used in Neighbourhoods)\n    readonly linksAdapter?: LinkSyncAdapter;\n    // For real-time presence and p2p signals\n    readonly telepresenceAdapter?: TelepresenceAdapter;\n    // For direct messaging between agents\n    readonly directMessageAdapter?: DirectMessageAdapter;\n    // For language-specific settings UI\n    readonly settingsUI?: SettingsUI;\n    // Optional: Mark expressions as immutable for caching\n    isImmutableExpression?(expression: Address): boolean;\n    // Define available interactions with expressions\n    interactions(expression: Address): Interaction[];\n}\nLanguage interface in the API reference |\nLanguage.ts in the codebase","types-of-languages#Types of Languages":"AD4M supports several types of Languages for different purposes:\nExpression Languages\nStore and retrieve data\nMost common type\nExample: IPFS-based file storage\nLink Languages\nCore building block of Neighbourhoods\nEnable shared semantic spaces\nExample: Holochain-based p2p links\nDirect Message Languages\nEnable agent-to-agent communication\nSupport private messaging\nExample: Encrypted p2p messaging","working-with-languages#Working with Languages":"","the-core-expression-mechanism#The Core Expression Mechanism":"Before diving into examples, it's important to understand that most Languages (all basic \"Expression Languages\") operate around the same core pattern:\ninterface ExpressionAdapter {\n    // Store data and get a reference\n    putAdapter: {\n        createPublic(content: object): Promise<Address>;\n        // or for read-only languages:\n        addressOf(content: object): Promise<Address>;\n    };\n    \n    // Retrieve data using its reference\n    get(address: Address): Promise<Expression | null>;\n}\nThis simple pattern enables AD4M to create a web of semantic references, where any piece of data can be stored and referenced by its address, regardless of the underlying storage mechanism.","installing-languages#Installing Languages":"// Install a language from its address\nawait ad4m.languages.install(\"Qm...\");\n// List all installed languages\nconst languages = await ad4m.languages.all();","publishing-languages#Publishing Languages":"// Publish a new language\nconst address = await ad4m.languages.publish({\n  name: \"my-language\",\n  description: \"A custom language implementation\",\n  sourceCodeLink: \"https://github.com/...\",\n  bundle: languageBundle\n});","using-languages#Using Languages":"// Create an expression in a language\nconst expression = await ad4m.expression.create(\n  languageAddress,\n  { content: \"Hello, World!\" }\n);\n// Retrieve an expression\nconst retrieved = await ad4m.expression.get(expression.address);","built-in-languages#Built-in Languages":"AD4M comes with several bootstrap languages:\nAgent Language: Resolves DIDs to agent information\nLanguage Language: Manages language publication and installation\nPerspective Language: Handles perspective storage and sharing\nNeighbourhood Language: Enables creation of shared spaces","security-considerations#Security Considerations":"Languages run in a sandboxed environment with:\nControlled access to system resources\nExplicit permission model\nIsolated execution context\nSecure communication channels\nFor a detailed guide on creating your own Language, see the Language Development Guide.To help you get started with creating your own languages, we have provided some templates that you can use as a starting point. These templates are Deno compatible and provide a basic structure for your language.\nExpression Language without DNA template\nExpression Language with DNA template\nLink Language without DNA template\nLink Language with DNA template\nYou can clone these repositories and modify them to create your own language. Remember to follow the guidelines for making your language Deno compatible."}}}